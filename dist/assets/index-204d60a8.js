import{r as p,a as na,R as Pt}from"./vendor-8a332d8f.js";import{u as Ot,L as sa,N as ia,a as Yi,B as ra,R as oa,b as ft}from"./router-41ae65be.js";import{H as aa}from"./qr-a3af8558.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();var Qi={exports:{}},Ge={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var la=p,ca=Symbol.for("react.element"),ua=Symbol.for("react.fragment"),da=Object.prototype.hasOwnProperty,ha=la.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fa={key:!0,ref:!0,__self:!0,__source:!0};function Ji(t,e,n){var s,i={},r=null,o=null;n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)da.call(e,s)&&!fa.hasOwnProperty(s)&&(i[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)i[s]===void 0&&(i[s]=e[s]);return{$$typeof:ca,type:t,key:r,ref:o,props:i,_owner:ha.current}}Ge.Fragment=ua;Ge.jsx=Ji;Ge.jsxs=Ji;Qi.exports=Ge;var a=Qi.exports,Xi,Ns=na;Xi=Ns.createRoot,Ns.hydrateRoot;const Wn=p.createContext({});function Gn(t){const e=p.useRef(null);return e.current===null&&(e.current=t()),e.current}const Kn=typeof window<"u",Zi=Kn?p.useLayoutEffect:p.useEffect,Ke=p.createContext(null);function Hn(t,e){t.indexOf(e)===-1&&t.push(e)}function qn(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const wt=(t,e,n)=>n>e?e:n<t?t:n;let Yn=()=>{};const jt={},tr=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function er(t){return typeof t=="object"&&t!==null}const nr=t=>/^0[^.\s]+$/u.test(t);function Qn(t){let e;return()=>(e===void 0&&(e=t()),e)}const ht=t=>t,ma=(t,e)=>n=>e(t(n)),ye=(...t)=>t.reduce(ma),ce=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class Jn{constructor(){this.subscriptions=[]}add(e){return Hn(this.subscriptions,e),()=>qn(this.subscriptions,e)}notify(e,n,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,s);else for(let r=0;r<i;r++){const o=this.subscriptions[r];o&&o(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const yt=t=>t*1e3,xt=t=>t/1e3;function sr(t,e){return e?t*(1e3/e):0}const ir=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,pa=1e-7,ga=12;function ya(t,e,n,s,i){let r,o,l=0;do o=e+(n-e)/2,r=ir(o,s,i)-t,r>0?n=o:e=o;while(Math.abs(r)>pa&&++l<ga);return o}function xe(t,e,n,s){if(t===e&&n===s)return ht;const i=r=>ya(r,0,1,t,n);return r=>r===0||r===1?r:ir(i(r),e,s)}const rr=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,or=t=>e=>1-t(1-e),ar=xe(.33,1.53,.69,.99),Xn=or(ar),lr=rr(Xn),cr=t=>(t*=2)<1?.5*Xn(t):.5*(2-Math.pow(2,-10*(t-1))),Zn=t=>1-Math.sin(Math.acos(t)),ur=or(Zn),dr=rr(Zn),xa=xe(.42,0,1,1),va=xe(0,0,.58,1),hr=xe(.42,0,.58,1),ba=t=>Array.isArray(t)&&typeof t[0]!="number",fr=t=>Array.isArray(t)&&typeof t[0]=="number",wa={linear:ht,easeIn:xa,easeInOut:hr,easeOut:va,circIn:Zn,circInOut:dr,circOut:ur,backIn:Xn,backInOut:lr,backOut:ar,anticipate:cr},ja=t=>typeof t=="string",Ms=t=>{if(fr(t)){Yn(t.length===4);const[e,n,s,i]=t;return xe(e,n,s,i)}else if(ja(t))return wa[t];return t},Ce=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Ds={value:null,addProjectionMetrics:null};function Sa(t,e){let n=new Set,s=new Set,i=!1,r=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function d(h){o.has(h)&&(u.schedule(h),t()),c++,h(l)}const u={schedule:(h,f=!1,m=!1)=>{const x=m&&i?n:s;return f&&o.add(h),x.has(h)||x.add(h),h},cancel:h=>{s.delete(h),o.delete(h)},process:h=>{if(l=h,i){r=!0;return}i=!0,[n,s]=[s,n],n.forEach(d),e&&Ds.value&&Ds.value.frameloop[e].push(c),c=0,n.clear(),i=!1,r&&(r=!1,u.process(h))}};return u}const Ca=40;function mr(t,e){let n=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},r=()=>n=!0,o=Ce.reduce((v,T)=>(v[T]=Sa(r,e?T:void 0),v),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:u,update:h,preRender:f,render:m,postRender:y}=o,x=()=>{const v=jt.useManualTiming?i.timestamp:performance.now();n=!1,jt.useManualTiming||(i.delta=s?1e3/60:Math.max(Math.min(v-i.timestamp,Ca),1)),i.timestamp=v,i.isProcessing=!0,l.process(i),c.process(i),d.process(i),u.process(i),h.process(i),f.process(i),m.process(i),y.process(i),i.isProcessing=!1,n&&e&&(s=!1,t(x))},b=()=>{n=!0,s=!0,i.isProcessing||t(x)};return{schedule:Ce.reduce((v,T)=>{const j=o[T];return v[T]=(C,D=!1,A=!1)=>(n||b(),j.schedule(C,D,A)),v},{}),cancel:v=>{for(let T=0;T<Ce.length;T++)o[Ce[T]].cancel(v)},state:i,steps:o}}const{schedule:Y,cancel:At,state:tt,steps:en}=mr(typeof requestAnimationFrame<"u"?requestAnimationFrame:ht,!0);let Ne;function Ta(){Ne=void 0}const rt={now:()=>(Ne===void 0&&rt.set(tt.isProcessing||jt.useManualTiming?tt.timestamp:performance.now()),Ne),set:t=>{Ne=t,queueMicrotask(Ta)}},pr=t=>e=>typeof e=="string"&&e.startsWith(t),ts=pr("--"),Pa=pr("var(--"),es=t=>Pa(t)?Aa.test(t.split("/*")[0].trim()):!1,Aa=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Jt={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ue={...Jt,transform:t=>wt(0,1,t)},Te={...Jt,default:1},se=t=>Math.round(t*1e5)/1e5,ns=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Ea(t){return t==null}const Ra=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ss=(t,e)=>n=>!!(typeof n=="string"&&Ra.test(n)&&n.startsWith(t)||e&&!Ea(n)&&Object.prototype.hasOwnProperty.call(n,e)),gr=(t,e,n)=>s=>{if(typeof s!="string")return s;const[i,r,o,l]=s.match(ns);return{[t]:parseFloat(i),[e]:parseFloat(r),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Na=t=>wt(0,255,t),nn={...Jt,transform:t=>Math.round(Na(t))},Vt={test:ss("rgb","red"),parse:gr("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+nn.transform(t)+", "+nn.transform(e)+", "+nn.transform(n)+", "+se(ue.transform(s))+")"};function Ma(t){let e="",n="",s="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,s+=s,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const bn={test:ss("#"),parse:Ma,transform:Vt.transform},ve=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ct=ve("deg"),vt=ve("%"),I=ve("px"),Da=ve("vh"),Ba=ve("vw"),Bs=(()=>({...vt,parse:t=>vt.parse(t)/100,transform:t=>vt.transform(t*100)}))(),Ft={test:ss("hsl","hue"),parse:gr("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+vt.transform(se(e))+", "+vt.transform(se(n))+", "+se(ue.transform(s))+")"},nt={test:t=>Vt.test(t)||bn.test(t)||Ft.test(t),parse:t=>Vt.test(t)?Vt.parse(t):Ft.test(t)?Ft.parse(t):bn.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Vt.transform(t):Ft.transform(t)},Va=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ka(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(ns))==null?void 0:e.length)||0)+(((n=t.match(Va))==null?void 0:n.length)||0)>0}const yr="number",xr="color",Ia="var",La="var(",Vs="${}",Oa=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function de(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},i=[];let r=0;const l=e.replace(Oa,c=>(nt.test(c)?(s.color.push(r),i.push(xr),n.push(nt.parse(c))):c.startsWith(La)?(s.var.push(r),i.push(Ia),n.push(c)):(s.number.push(r),i.push(yr),n.push(parseFloat(c))),++r,Vs)).split(Vs);return{values:n,split:l,indexes:s,types:i}}function vr(t){return de(t).values}function br(t){const{split:e,types:n}=de(t),s=e.length;return i=>{let r="";for(let o=0;o<s;o++)if(r+=e[o],i[o]!==void 0){const l=n[o];l===yr?r+=se(i[o]):l===xr?r+=nt.transform(i[o]):r+=i[o]}return r}}const Fa=t=>typeof t=="number"?0:t;function Ua(t){const e=vr(t);return br(t)(e.map(Fa))}const Et={test:ka,parse:vr,createTransformer:br,getAnimatableNone:Ua};function sn(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function _a({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let i=0,r=0,o=0;if(!e)i=r=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;i=sn(c,l,t+1/3),r=sn(c,l,t),o=sn(c,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(r*255),blue:Math.round(o*255),alpha:s}}function Ve(t,e){return n=>n>0?e:t}const q=(t,e,n)=>t+(e-t)*n,rn=(t,e,n)=>{const s=t*t,i=n*(e*e-s)+s;return i<0?0:Math.sqrt(i)},$a=[bn,Vt,Ft],za=t=>$a.find(e=>e.test(t));function ks(t){const e=za(t);if(!e)return!1;let n=e.parse(t);return e===Ft&&(n=_a(n)),n}const Is=(t,e)=>{const n=ks(t),s=ks(e);if(!n||!s)return Ve(t,e);const i={...n};return r=>(i.red=rn(n.red,s.red,r),i.green=rn(n.green,s.green,r),i.blue=rn(n.blue,s.blue,r),i.alpha=q(n.alpha,s.alpha,r),Vt.transform(i))},wn=new Set(["none","hidden"]);function Wa(t,e){return wn.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Ga(t,e){return n=>q(t,e,n)}function is(t){return typeof t=="number"?Ga:typeof t=="string"?es(t)?Ve:nt.test(t)?Is:qa:Array.isArray(t)?wr:typeof t=="object"?nt.test(t)?Is:Ka:Ve}function wr(t,e){const n=[...t],s=n.length,i=t.map((r,o)=>is(r)(r,e[o]));return r=>{for(let o=0;o<s;o++)n[o]=i[o](r);return n}}function Ka(t,e){const n={...t,...e},s={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(s[i]=is(t[i])(t[i],e[i]));return i=>{for(const r in s)n[r]=s[r](i);return n}}function Ha(t,e){const n=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const r=e.types[i],o=t.indexes[r][s[r]],l=t.values[o]??0;n[i]=l,s[r]++}return n}const qa=(t,e)=>{const n=Et.createTransformer(e),s=de(t),i=de(e);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?wn.has(t)&&!i.values.length||wn.has(e)&&!s.values.length?Wa(t,e):ye(wr(Ha(s,i),i.values),n):Ve(t,e)};function jr(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?q(t,e,n):is(t)(t,e)}const Ya=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Y.update(e,n),stop:()=>At(e),now:()=>tt.isProcessing?tt.timestamp:rt.now()}},Sr=(t,e,n=10)=>{let s="";const i=Math.max(Math.round(e/n),2);for(let r=0;r<i;r++)s+=t(r/(i-1))+", ";return`linear(${s.substring(0,s.length-2)})`},ke=2e4;function rs(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<ke;)e+=n,s=t.next(e);return e>=ke?1/0:e}function Qa(t,e=100,n){const s=n({...t,keyframes:[0,e]}),i=Math.min(rs(s),ke);return{type:"keyframes",ease:r=>s.next(i*r).value/e,duration:xt(i)}}const Ja=5;function Cr(t,e,n){const s=Math.max(e-Ja,0);return sr(n-t(s),e-s)}const Q={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},on=.001;function Xa({duration:t=Q.duration,bounce:e=Q.bounce,velocity:n=Q.velocity,mass:s=Q.mass}){let i,r,o=1-e;o=wt(Q.minDamping,Q.maxDamping,o),t=wt(Q.minDuration,Q.maxDuration,xt(t)),o<1?(i=d=>{const u=d*o,h=u*t,f=u-n,m=jn(d,o),y=Math.exp(-h);return on-f/m*y},r=d=>{const h=d*o*t,f=h*n+n,m=Math.pow(o,2)*Math.pow(d,2)*t,y=Math.exp(-h),x=jn(Math.pow(d,2),o);return(-i(d)+on>0?-1:1)*((f-m)*y)/x}):(i=d=>{const u=Math.exp(-d*t),h=(d-n)*t+1;return-on+u*h},r=d=>{const u=Math.exp(-d*t),h=(n-d)*(t*t);return u*h});const l=5/t,c=tl(i,r,l);if(t=yt(t),isNaN(c))return{stiffness:Q.stiffness,damping:Q.damping,duration:t};{const d=Math.pow(c,2)*s;return{stiffness:d,damping:o*2*Math.sqrt(s*d),duration:t}}}const Za=12;function tl(t,e,n){let s=n;for(let i=1;i<Za;i++)s=s-t(s)/e(s);return s}function jn(t,e){return t*Math.sqrt(1-e*e)}const el=["duration","bounce"],nl=["stiffness","damping","mass"];function Ls(t,e){return e.some(n=>t[n]!==void 0)}function sl(t){let e={velocity:Q.velocity,stiffness:Q.stiffness,damping:Q.damping,mass:Q.mass,isResolvedFromDuration:!1,...t};if(!Ls(t,nl)&&Ls(t,el))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),i=s*s,r=2*wt(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Q.mass,stiffness:i,damping:r}}else{const n=Xa(t);e={...e,...n,mass:Q.mass},e.isResolvedFromDuration=!0}return e}function Ie(t=Q.visualDuration,e=Q.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:i}=n;const r=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:r},{stiffness:c,damping:d,mass:u,duration:h,velocity:f,isResolvedFromDuration:m}=sl({...n,velocity:-xt(n.velocity||0)}),y=f||0,x=d/(2*Math.sqrt(c*u)),b=o-r,g=xt(Math.sqrt(c/u)),w=Math.abs(b)<5;s||(s=w?Q.restSpeed.granular:Q.restSpeed.default),i||(i=w?Q.restDelta.granular:Q.restDelta.default);let v;if(x<1){const j=jn(g,x);v=C=>{const D=Math.exp(-x*g*C);return o-D*((y+x*g*b)/j*Math.sin(j*C)+b*Math.cos(j*C))}}else if(x===1)v=j=>o-Math.exp(-g*j)*(b+(y+g*b)*j);else{const j=g*Math.sqrt(x*x-1);v=C=>{const D=Math.exp(-x*g*C),A=Math.min(j*C,300);return o-D*((y+x*g*b)*Math.sinh(A)+j*b*Math.cosh(A))/j}}const T={calculatedDuration:m&&h||null,next:j=>{const C=v(j);if(m)l.done=j>=h;else{let D=j===0?y:0;x<1&&(D=j===0?yt(y):Cr(v,j,C));const A=Math.abs(D)<=s,V=Math.abs(o-C)<=i;l.done=A&&V}return l.value=l.done?o:C,l},toString:()=>{const j=Math.min(rs(T),ke),C=Sr(D=>T.next(j*D).value,j,30);return j+"ms "+C},toTransition:()=>{}};return T}Ie.applyToOptions=t=>{const e=Qa(t,100,Ie);return t.ease=e.ease,t.duration=yt(e.duration),t.type="keyframes",t};function Sn({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:r=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const h=t[0],f={done:!1,value:h},m=A=>l!==void 0&&A<l||c!==void 0&&A>c,y=A=>l===void 0?c:c===void 0||Math.abs(l-A)<Math.abs(c-A)?l:c;let x=n*e;const b=h+x,g=o===void 0?b:o(b);g!==b&&(x=g-h);const w=A=>-x*Math.exp(-A/s),v=A=>g+w(A),T=A=>{const V=w(A),L=v(A);f.done=Math.abs(V)<=d,f.value=f.done?g:L};let j,C;const D=A=>{m(f.value)&&(j=A,C=Ie({keyframes:[f.value,y(f.value)],velocity:Cr(v,A,f.value),damping:i,stiffness:r,restDelta:d,restSpeed:u}))};return D(0),{calculatedDuration:null,next:A=>{let V=!1;return!C&&j===void 0&&(V=!0,T(A),D(A)),j!==void 0&&A>=j?C.next(A-j):(!V&&T(A),f)}}}function il(t,e,n){const s=[],i=n||jt.mix||jr,r=t.length-1;for(let o=0;o<r;o++){let l=i(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||ht:e;l=ye(c,l)}s.push(l)}return s}function rl(t,e,{clamp:n=!0,ease:s,mixer:i}={}){const r=t.length;if(Yn(r===e.length),r===1)return()=>e[0];if(r===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[r-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=il(e,s,i),c=l.length,d=u=>{if(o&&u<t[0])return e[0];let h=0;if(c>1)for(;h<t.length-2&&!(u<t[h+1]);h++);const f=ce(t[h],t[h+1],u);return l[h](f)};return n?u=>d(wt(t[0],t[r-1],u)):d}function ol(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const i=ce(0,e,s);t.push(q(n,1,i))}}function al(t){const e=[0];return ol(e,t.length-1),e}function ll(t,e){return t.map(n=>n*e)}function cl(t,e){return t.map(()=>e||hr).splice(0,t.length-1)}function ie({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const i=ba(s)?s.map(Ms):Ms(s),r={done:!1,value:e[0]},o=ll(n&&n.length===e.length?n:al(e),t),l=rl(o,e,{ease:Array.isArray(i)?i:cl(e,i)});return{calculatedDuration:t,next:c=>(r.value=l(c),r.done=c>=t,r)}}const ul=t=>t!==null;function os(t,{repeat:e,repeatType:n="loop"},s,i=1){const r=t.filter(ul),l=i<0||e&&n!=="loop"&&e%2===1?0:r.length-1;return!l||s===void 0?r[l]:s}const dl={decay:Sn,inertia:Sn,tween:ie,keyframes:ie,spring:Ie};function Tr(t){typeof t.type=="string"&&(t.type=dl[t.type])}class as{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const hl=t=>t/100;class ls extends as{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,i;const{motionValue:n}=this.options;n&&n.updatedAt!==rt.now()&&this.tick(rt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(s=this.options).onStop)==null||i.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Tr(e);const{type:n=ie,repeat:s=0,repeatDelay:i=0,repeatType:r,velocity:o=0}=e;let{keyframes:l}=e;const c=n||ie;c!==ie&&typeof l[0]!="number"&&(this.mixKeyframes=ye(hl,jr(l[0],l[1])),l=[0,100]);const d=c({...e,keyframes:l});r==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=rs(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(s+1)-i,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:i,mixKeyframes:r,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return s.next(0);const{delay:d=0,keyframes:u,repeat:h,repeatType:f,repeatDelay:m,type:y,onUpdate:x,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const g=this.currentTime-d*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?g<0:g>i;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let v=this.currentTime,T=s;if(h){const A=Math.min(this.currentTime,i)/l;let V=Math.floor(A),L=A%1;!L&&A>=1&&(L=1),L===1&&V--,V=Math.min(V,h+1),!!(V%2)&&(f==="reverse"?(L=1-L,m&&(L-=m/l)):f==="mirror"&&(T=o)),v=wt(0,1,L)*l}const j=w?{done:!1,value:u[0]}:T.next(v);r&&(j.value=r(j.value));let{done:C}=j;!w&&c!==null&&(C=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return D&&y!==Sn&&(j.value=os(u,this.options,b,this.speed)),x&&x(j.value),D&&this.finish(),j}then(e,n){return this.finished.then(e,n)}get duration(){return xt(this.calculatedDuration)}get time(){return xt(this.currentTime)}set time(e){var n;e=yt(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(rt.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=xt(this.currentTime))}play(){var i,r;if(this.isStopped)return;const{driver:e=Ya,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(r=(i=this.options).onPlay)==null||r.call(i);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(rt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function fl(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const kt=t=>t*180/Math.PI,Cn=t=>{const e=kt(Math.atan2(t[1],t[0]));return Tn(e)},ml={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Cn,rotateZ:Cn,skewX:t=>kt(Math.atan(t[1])),skewY:t=>kt(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Tn=t=>(t=t%360,t<0&&(t+=360),t),Os=Cn,Fs=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Us=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),pl={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Fs,scaleY:Us,scale:t=>(Fs(t)+Us(t))/2,rotateX:t=>Tn(kt(Math.atan2(t[6],t[5]))),rotateY:t=>Tn(kt(Math.atan2(-t[2],t[0]))),rotateZ:Os,rotate:Os,skewX:t=>kt(Math.atan(t[4])),skewY:t=>kt(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Pn(t){return t.includes("scale")?1:0}function An(t,e){if(!t||t==="none")return Pn(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,i;if(n)s=pl,i=n;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=ml,i=l}if(!i)return Pn(e);const r=s[e],o=i[1].split(",").map(yl);return typeof r=="function"?r(o):o[r]}const gl=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return An(n,e)};function yl(t){return parseFloat(t.trim())}const Xt=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Zt=(()=>new Set(Xt))(),_s=t=>t===Jt||t===I,xl=new Set(["x","y","z"]),vl=Xt.filter(t=>!xl.has(t));function bl(t){const e=[];return vl.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const It={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>An(e,"x"),y:(t,{transform:e})=>An(e,"y")};It.translateX=It.x;It.translateY=It.y;const Lt=new Set;let En=!1,Rn=!1,Nn=!1;function Pr(){if(Rn){const t=Array.from(Lt).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const i=bl(s);i.length&&(n.set(s,i),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const i=n.get(s);i&&i.forEach(([r,o])=>{var l;(l=s.getValue(r))==null||l.set(o)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Rn=!1,En=!1,Lt.forEach(t=>t.complete(Nn)),Lt.clear()}function Ar(){Lt.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Rn=!0)})}function wl(){Nn=!0,Ar(),Pr(),Nn=!1}class cs{constructor(e,n,s,i,r,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=i,this.element=r,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Lt.add(this),En||(En=!0,Y.read(Ar),Y.resolveKeyframes(Pr))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:i}=this;if(e[0]===null){const r=i==null?void 0:i.get(),o=e[e.length-1];if(r!==void 0)e[0]=r;else if(s&&n){const l=s.readValue(n,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),i&&r===void 0&&i.set(e[0])}fl(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Lt.delete(this)}cancel(){this.state==="scheduled"&&(Lt.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const jl=t=>t.startsWith("--");function Sl(t,e,n){jl(e)?t.style.setProperty(e,n):t.style[e]=n}const Cl=Qn(()=>window.ScrollTimeline!==void 0),Tl={};function Pl(t,e){const n=Qn(t);return()=>Tl[e]??n()}const Er=Pl(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ne=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,$s={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ne([0,.65,.55,1]),circOut:ne([.55,0,1,.45]),backIn:ne([.31,.01,.66,-.59]),backOut:ne([.33,1.53,.69,.99])};function Rr(t,e){if(t)return typeof t=="function"?Er()?Sr(t,e):"ease-out":fr(t)?ne(t):Array.isArray(t)?t.map(n=>Rr(n,e)||$s.easeOut):$s[t]}function Al(t,e,n,{delay:s=0,duration:i=300,repeat:r=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const u={[e]:n};c&&(u.offset=c);const h=Rr(l,i);Array.isArray(h)&&(u.easing=h);const f={delay:s,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:r+1,direction:o==="reverse"?"alternate":"normal"};return d&&(f.pseudoElement=d),t.animate(u,f)}function Nr(t){return typeof t=="function"&&"applyToOptions"in t}function El({type:t,...e}){return Nr(t)&&Er()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Rl extends as{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:i,pseudoElement:r,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!r,this.allowFlatten=o,this.options=e,Yn(typeof e.type!="string");const d=El(e);this.animation=Al(n,s,i,d,r),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const u=os(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(u):Sl(n,s,u),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,s;const e=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return xt(Number(e))}get time(){return xt(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=yt(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Cl()?(this.animation.timeline=e,ht):n(this)}}const Mr={anticipate:cr,backInOut:lr,circInOut:dr};function Nl(t){return t in Mr}function Ml(t){typeof t.ease=="string"&&Nl(t.ease)&&(t.ease=Mr[t.ease])}const zs=10;class Dl extends Rl{constructor(e){Ml(e),Tr(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:i,element:r,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const l=new ls({...o,autoplay:!1}),c=yt(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-zs).value,l.sample(c).value,zs),l.stop()}}const Ws=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Et.test(t)||t==="0")&&!t.startsWith("url("));function Bl(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Vl(t,e,n,s){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const r=t[t.length-1],o=Ws(i,e),l=Ws(r,e);return!o||!l?!1:Bl(t)||(n==="spring"||Nr(n))&&s}function us(t){return er(t)&&"offsetHeight"in t}const kl=new Set(["opacity","clipPath","filter","transform"]),Il=Qn(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Ll(t){var d;const{motionValue:e,name:n,repeatDelay:s,repeatType:i,damping:r,type:o}=t;if(!us((d=e==null?void 0:e.owner)==null?void 0:d.current))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return Il()&&n&&kl.has(n)&&(n!=="transform"||!c)&&!l&&!s&&i!=="mirror"&&r!==0&&o!=="inertia"}const Ol=40;class Fl extends as{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:u,...h}){var y;super(),this.stop=()=>{var x,b;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=rt.now();const f={autoplay:e,delay:n,type:s,repeat:i,repeatDelay:r,repeatType:o,name:c,motionValue:d,element:u,...h},m=(u==null?void 0:u.KeyframeResolver)||cs;this.keyframeResolver=new m(l,(x,b,g)=>this.onKeyframesResolved(x,b,f,!g),c,d,u),(y=this.keyframeResolver)==null||y.scheduleResolve()}onKeyframesResolved(e,n,s,i){this.keyframeResolver=void 0;const{name:r,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:u}=s;this.resolvedAt=rt.now(),Vl(e,r,o,l)||((jt.instantAnimations||!c)&&(u==null||u(os(e,s,n))),e[0]=e[e.length-1],s.duration=0,s.repeat=0);const f={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>Ol?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},m=!d&&Ll(f)?new Dl({...f,element:f.motionValue.owner.current}):new ls(f);m.finished.then(()=>this.notifyFinished()).catch(ht),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),wl()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const Ul=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function _l(t){const e=Ul.exec(t);if(!e)return[,];const[,n,s,i]=e;return[`--${n??s}`,i]}function Dr(t,e,n=1){const[s,i]=_l(t);if(!s)return;const r=window.getComputedStyle(e).getPropertyValue(s);if(r){const o=r.trim();return tr(o)?parseFloat(o):o}return es(i)?Dr(i,e,n+1):i}function ds(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const Br=new Set(["width","height","top","left","right","bottom",...Xt]),$l={test:t=>t==="auto",parse:t=>t},Vr=t=>e=>e.test(t),kr=[Jt,I,vt,Ct,Ba,Da,$l],Gs=t=>kr.find(Vr(t));function zl(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||nr(t):!0}const Wl=new Set(["brightness","contrast","saturate","opacity"]);function Gl(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(ns)||[];if(!s)return t;const i=n.replace(s,"");let r=Wl.has(e)?1:0;return s!==n&&(r*=100),e+"("+r+i+")"}const Kl=/\b([a-z-]*)\(.*?\)/gu,Mn={...Et,getAnimatableNone:t=>{const e=t.match(Kl);return e?e.map(Gl).join(" "):t}},Ks={...Jt,transform:Math.round},Hl={rotate:Ct,rotateX:Ct,rotateY:Ct,rotateZ:Ct,scale:Te,scaleX:Te,scaleY:Te,scaleZ:Te,skew:Ct,skewX:Ct,skewY:Ct,distance:I,translateX:I,translateY:I,translateZ:I,x:I,y:I,z:I,perspective:I,transformPerspective:I,opacity:ue,originX:Bs,originY:Bs,originZ:I},hs={borderWidth:I,borderTopWidth:I,borderRightWidth:I,borderBottomWidth:I,borderLeftWidth:I,borderRadius:I,radius:I,borderTopLeftRadius:I,borderTopRightRadius:I,borderBottomRightRadius:I,borderBottomLeftRadius:I,width:I,maxWidth:I,height:I,maxHeight:I,top:I,right:I,bottom:I,left:I,padding:I,paddingTop:I,paddingRight:I,paddingBottom:I,paddingLeft:I,margin:I,marginTop:I,marginRight:I,marginBottom:I,marginLeft:I,backgroundPositionX:I,backgroundPositionY:I,...Hl,zIndex:Ks,fillOpacity:ue,strokeOpacity:ue,numOctaves:Ks},ql={...hs,color:nt,backgroundColor:nt,outlineColor:nt,fill:nt,stroke:nt,borderColor:nt,borderTopColor:nt,borderRightColor:nt,borderBottomColor:nt,borderLeftColor:nt,filter:Mn,WebkitFilter:Mn},Ir=t=>ql[t];function Lr(t,e){let n=Ir(t);return n!==Mn&&(n=Et),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Yl=new Set(["auto","none","0"]);function Ql(t,e,n){let s=0,i;for(;s<t.length&&!i;){const r=t[s];typeof r=="string"&&!Yl.has(r)&&de(r).values.length&&(i=t[s]),s++}if(i&&n)for(const r of e)t[r]=Lr(n,i)}class Jl extends cs{constructor(e,n,s,i,r){super(e,n,s,i,r,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),es(d))){const u=Dr(d,n.current);u!==void 0&&(e[c]=u),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!Br.has(s)||e.length!==2)return;const[i,r]=e,o=Gs(i),l=Gs(r);if(o!==l)if(_s(o)&&_s(l))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else It[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let i=0;i<e.length;i++)(e[i]===null||zl(e[i]))&&s.push(i);s.length&&Ql(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=It[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(s,i).jump(i,!1)}measureEndState(){var l;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const r=s.length-1,o=s[r];s[r]=It[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function Xl(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;e&&(s=e.current);const i=(n==null?void 0:n[t])??s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const Or=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Hs=30,Zl=t=>!isNaN(parseFloat(t));class tc{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,i=!0)=>{var o,l;const r=rt.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty();i&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=rt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Zl(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Jn);const s=this.events[e].add(n);return e==="change"?()=>{s(),Y.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=rt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Hs)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Hs);return sr(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Wt(t,e){return new tc(t,e)}const{schedule:fs,cancel:ff}=mr(queueMicrotask,!1),mt={x:!1,y:!1};function Fr(){return mt.x||mt.y}function ec(t){return t==="x"||t==="y"?mt[t]?null:(mt[t]=!0,()=>{mt[t]=!1}):mt.x||mt.y?null:(mt.x=mt.y=!0,()=>{mt.x=mt.y=!1})}function Ur(t,e){const n=Xl(t),s=new AbortController,i={passive:!0,...e,signal:s.signal};return[n,i,()=>s.abort()]}function qs(t){return!(t.pointerType==="touch"||Fr())}function nc(t,e,n={}){const[s,i,r]=Ur(t,n),o=l=>{if(!qs(l))return;const{target:c}=l,d=e(c,l);if(typeof d!="function"||!c)return;const u=h=>{qs(h)&&(d(h),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,i)};return s.forEach(l=>{l.addEventListener("pointerenter",o,i)}),r}const _r=(t,e)=>e?t===e?!0:_r(t,e.parentElement):!1,ms=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,sc=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ic(t){return sc.has(t.tagName)||t.tabIndex!==-1}const Me=new WeakSet;function Ys(t){return e=>{e.key==="Enter"&&t(e)}}function an(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const rc=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=Ys(()=>{if(Me.has(n))return;an(n,"down");const i=Ys(()=>{an(n,"up")}),r=()=>an(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",r,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function Qs(t){return ms(t)&&!Fr()}function oc(t,e,n={}){const[s,i,r]=Ur(t,n),o=l=>{const c=l.currentTarget;if(!Qs(l))return;Me.add(c);const d=e(c,l),u=(m,y)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),Me.has(c)&&Me.delete(c),Qs(m)&&typeof d=="function"&&d(m,{success:y})},h=m=>{u(m,c===window||c===document||n.useGlobalTarget||_r(c,m.target))},f=m=>{u(m,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",f,i)};return s.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),us(l)&&(l.addEventListener("focus",d=>rc(d,i)),!ic(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),r}function $r(t){return er(t)&&"ownerSVGElement"in t}function ac(t){return $r(t)&&t.tagName==="svg"}const st=t=>!!(t&&t.getVelocity),lc=[...kr,nt,Et],cc=t=>lc.find(Vr(t)),ps=p.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class uc extends p.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,i=us(s)&&s.offsetWidth||0,r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft,r.right=i-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function dc({children:t,isPresent:e,anchorX:n}){const s=p.useId(),i=p.useRef(null),r=p.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=p.useContext(ps);return p.useInsertionEffect(()=>{const{width:l,height:c,top:d,left:u,right:h}=r.current;if(e||!i.current||!l||!c)return;const f=n==="left"?`left: ${u}`:`right: ${h}`;i.current.dataset.motionPopId=s;const m=document.createElement("style");return o&&(m.nonce=o),document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${f}px !important;
            top: ${d}px !important;
          }
        `),()=>{document.head.contains(m)&&document.head.removeChild(m)}},[e]),a.jsx(uc,{isPresent:e,childRef:i,sizeRef:r,children:p.cloneElement(t,{ref:i})})}const hc=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:i,presenceAffectsLayout:r,mode:o,anchorX:l})=>{const c=Gn(fc),d=p.useId();let u=!0,h=p.useMemo(()=>(u=!1,{id:d,initial:e,isPresent:n,custom:i,onExitComplete:f=>{c.set(f,!0);for(const m of c.values())if(!m)return;s&&s()},register:f=>(c.set(f,!1),()=>c.delete(f))}),[n,c,s]);return r&&u&&(h={...h}),p.useMemo(()=>{c.forEach((f,m)=>c.set(m,!1))},[n]),p.useEffect(()=>{!n&&!c.size&&s&&s()},[n]),o==="popLayout"&&(t=a.jsx(dc,{isPresent:n,anchorX:l,children:t})),a.jsx(Ke.Provider,{value:h,children:t})};function fc(){return new Map}function zr(t=!0){const e=p.useContext(Ke);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:i}=e,r=p.useId();p.useEffect(()=>{if(t)return i(r)},[t]);const o=p.useCallback(()=>t&&s&&s(r),[r,s,t]);return!n&&s?[!1,o]:[!0]}const Pe=t=>t.key||"";function Js(t){const e=[];return p.Children.forEach(t,n=>{p.isValidElement(n)&&e.push(n)}),e}const Le=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:r="sync",propagate:o=!1,anchorX:l="left"})=>{const[c,d]=zr(o),u=p.useMemo(()=>Js(t),[t]),h=o&&!c?[]:u.map(Pe),f=p.useRef(!0),m=p.useRef(u),y=Gn(()=>new Map),[x,b]=p.useState(u),[g,w]=p.useState(u);Zi(()=>{f.current=!1,m.current=u;for(let j=0;j<g.length;j++){const C=Pe(g[j]);h.includes(C)?y.delete(C):y.get(C)!==!0&&y.set(C,!1)}},[g,h.length,h.join("-")]);const v=[];if(u!==x){let j=[...u];for(let C=0;C<g.length;C++){const D=g[C],A=Pe(D);h.includes(A)||(j.splice(C,0,D),v.push(D))}return r==="wait"&&v.length&&(j=v),w(Js(j)),b(u),null}const{forceRender:T}=p.useContext(Wn);return a.jsx(a.Fragment,{children:g.map(j=>{const C=Pe(j),D=o&&!c?!1:u===g||h.includes(C),A=()=>{if(y.has(C))y.set(C,!0);else return;let V=!0;y.forEach(L=>{L||(V=!1)}),V&&(T==null||T(),w(m.current),o&&(d==null||d()),s&&s())};return a.jsx(hc,{isPresent:D,initial:!f.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:r,onExitComplete:D?void 0:A,anchorX:l,children:j},C)})})},Wr=p.createContext({strict:!1}),Xs={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Gt={};for(const t in Xs)Gt[t]={isEnabled:e=>Xs[t].some(n=>!!e[n])};function mc(t){for(const e in t)Gt[e]={...Gt[e],...t[e]}}const pc=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Oe(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||pc.has(t)}let Gr=t=>!Oe(t);function gc(t){t&&(Gr=e=>e.startsWith("on")?!Oe(e):t(e))}try{gc(require("@emotion/is-prop-valid").default)}catch{}function yc(t,e,n){const s={};for(const i in t)i==="values"&&typeof t.values=="object"||(Gr(i)||n===!0&&Oe(i)||!e&&!Oe(i)||t.draggable&&i.startsWith("onDrag"))&&(s[i]=t[i]);return s}function xc(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...s)=>t(...s);return new Proxy(n,{get:(s,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const He=p.createContext({});function qe(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function he(t){return typeof t=="string"||Array.isArray(t)}const gs=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ys=["initial",...gs];function Ye(t){return qe(t.animate)||ys.some(e=>he(t[e]))}function Kr(t){return!!(Ye(t)||t.variants)}function vc(t,e){if(Ye(t)){const{initial:n,animate:s}=t;return{initial:n===!1||he(n)?n:void 0,animate:he(s)?s:void 0}}return t.inherit!==!1?e:{}}function bc(t){const{initial:e,animate:n}=vc(t,p.useContext(He));return p.useMemo(()=>({initial:e,animate:n}),[Zs(e),Zs(n)])}function Zs(t){return Array.isArray(t)?t.join(" "):t}const wc=Symbol.for("motionComponentSymbol");function Ut(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function jc(t,e,n){return p.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Ut(n)&&(n.current=s))},[e])}const xs=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Sc="framerAppearId",Hr="data-"+xs(Sc),qr=p.createContext({});function Cc(t,e,n,s,i){var x,b;const{visualElement:r}=p.useContext(He),o=p.useContext(Wr),l=p.useContext(Ke),c=p.useContext(ps).reducedMotion,d=p.useRef(null);s=s||o.renderer,!d.current&&s&&(d.current=s(t,{visualState:e,parent:r,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const u=d.current,h=p.useContext(qr);u&&!u.projection&&i&&(u.type==="html"||u.type==="svg")&&Tc(d.current,n,i,h);const f=p.useRef(!1);p.useInsertionEffect(()=>{u&&f.current&&u.update(n,l)});const m=n[Hr],y=p.useRef(!!m&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,m))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,m)));return Zi(()=>{u&&(f.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),fs.render(u.render),y.current&&u.animationState&&u.animationState.animateChanges())}),p.useEffect(()=>{u&&(!y.current&&u.animationState&&u.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,m)}),y.current=!1))}),u}function Tc(t,e,n,s){const{layoutId:i,layout:r,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Yr(t.parent)),t.projection.setOptions({layoutId:i,layout:r,alwaysMeasureLayout:!!o||l&&Ut(l),visualElement:t,animationType:typeof r=="string"?r:"both",initialPromotionConfig:s,crossfade:u,layoutScroll:c,layoutRoot:d})}function Yr(t){if(t)return t.options.allowProjection!==!1?t.projection:Yr(t.parent)}function Pc({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:i}){t&&mc(t);function r(l,c){let d;const u={...p.useContext(ps),...l,layoutId:Ac(l)},{isStatic:h}=u,f=bc(l),m=s(l,h);if(!h&&Kn){Ec();const y=Rc(u);d=y.MeasureLayout,f.visualElement=Cc(i,m,u,e,y.ProjectionNode)}return a.jsxs(He.Provider,{value:f,children:[d&&f.visualElement?a.jsx(d,{visualElement:f.visualElement,...u}):null,n(i,l,jc(m,f.visualElement,c),m,h,f.visualElement)]})}r.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const o=p.forwardRef(r);return o[wc]=i,o}function Ac({layoutId:t}){const e=p.useContext(Wn).id;return e&&t!==void 0?e+"-"+t:t}function Ec(t,e){p.useContext(Wr).strict}function Rc(t){const{drag:e,layout:n}=Gt;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const fe={};function Nc(t){for(const e in t)fe[e]=t[e],ts(e)&&(fe[e].isCSSVariable=!0)}function Qr(t,{layout:e,layoutId:n}){return Zt.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!fe[t]||t==="opacity")}const Mc={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Dc=Xt.length;function Bc(t,e,n){let s="",i=!0;for(let r=0;r<Dc;r++){const o=Xt[r],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const d=Or(l,hs[o]);if(!c){i=!1;const u=Mc[o]||o;s+=`${u}(${d}) `}n&&(e[o]=d)}}return s=s.trim(),n?s=n(e,i?"":s):i&&(s="none"),s}function vs(t,e,n){const{style:s,vars:i,transformOrigin:r}=t;let o=!1,l=!1;for(const c in e){const d=e[c];if(Zt.has(c)){o=!0;continue}else if(ts(c)){i[c]=d;continue}else{const u=Or(d,hs[c]);c.startsWith("origin")?(l=!0,r[c]=u):s[c]=u}}if(e.transform||(o||n?s.transform=Bc(e,t.transform,n):s.transform&&(s.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=r;s.transformOrigin=`${c} ${d} ${u}`}}const bs=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Jr(t,e,n){for(const s in e)!st(e[s])&&!Qr(s,n)&&(t[s]=e[s])}function Vc({transformTemplate:t},e){return p.useMemo(()=>{const n=bs();return vs(n,e,t),Object.assign({},n.vars,n.style)},[e])}function kc(t,e){const n=t.style||{},s={};return Jr(s,n,t),Object.assign(s,Vc(t,e)),s}function Ic(t,e){const n={},s=kc(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const Lc={offset:"stroke-dashoffset",array:"stroke-dasharray"},Oc={offset:"strokeDashoffset",array:"strokeDasharray"};function Fc(t,e,n=1,s=0,i=!0){t.pathLength=1;const r=i?Lc:Oc;t[r.offset]=I.transform(-s);const o=I.transform(e),l=I.transform(n);t[r.array]=`${o} ${l}`}function Xr(t,{attrX:e,attrY:n,attrScale:s,pathLength:i,pathSpacing:r=1,pathOffset:o=0,...l},c,d,u){if(vs(t,l,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:f}=t;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),s!==void 0&&(h.scale=s),i!==void 0&&Fc(h,i,r,o,!1)}const Zr=()=>({...bs(),attrs:{}}),to=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Uc(t,e,n,s){const i=p.useMemo(()=>{const r=Zr();return Xr(r,e,to(s),t.transformTemplate,t.style),{...r.attrs,style:{...r.style}}},[e]);if(t.style){const r={};Jr(r,t.style,t),i.style={...r,...i.style}}return i}const _c=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ws(t){return typeof t!="string"||t.includes("-")?!1:!!(_c.indexOf(t)>-1||/[A-Z]/u.test(t))}function $c(t=!1){return(n,s,i,{latestValues:r},o)=>{const c=(ws(n)?Uc:Ic)(s,r,o,n),d=yc(s,typeof n=="string",t),u=n!==p.Fragment?{...d,...c,ref:i}:{},{children:h}=s,f=p.useMemo(()=>st(h)?h.get():h,[h]);return p.createElement(n,{...u,children:f})}}function ti(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function js(t,e,n,s){if(typeof e=="function"){const[i,r]=ti(s);e=e(n!==void 0?n:t.custom,i,r)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,r]=ti(s);e=e(n!==void 0?n:t.custom,i,r)}return e}function De(t){return st(t)?t.get():t}function zc({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,i){return{latestValues:Wc(n,s,i,t),renderState:e()}}const eo=t=>(e,n)=>{const s=p.useContext(He),i=p.useContext(Ke),r=()=>zc(t,e,s,i);return n?r():Gn(r)};function Wc(t,e,n,s){const i={},r=s(t,{});for(const f in r)i[f]=De(r[f]);let{initial:o,animate:l}=t;const c=Ye(t),d=Kr(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const h=u?l:o;if(h&&typeof h!="boolean"&&!qe(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const y=js(t,f[m]);if(y){const{transitionEnd:x,transition:b,...g}=y;for(const w in g){let v=g[w];if(Array.isArray(v)){const T=u?v.length-1:0;v=v[T]}v!==null&&(i[w]=v)}for(const w in x)i[w]=x[w]}}}return i}function Ss(t,e,n){var r;const{style:s}=t,i={};for(const o in s)(st(s[o])||e.style&&st(e.style[o])||Qr(o,t)||((r=n==null?void 0:n.getValue(o))==null?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return i}const Gc={useVisualState:eo({scrapeMotionValuesFromProps:Ss,createRenderState:bs})};function no(t,e,n){const s=Ss(t,e,n);for(const i in t)if(st(t[i])||st(e[i])){const r=Xt.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;s[r]=t[i]}return s}const Kc={useVisualState:eo({scrapeMotionValuesFromProps:no,createRenderState:Zr})};function Hc(t,e){return function(s,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...ws(s)?Kc:Gc,preloadedFeatures:t,useRender:$c(i),createVisualElement:e,Component:s};return Pc(o)}}function me(t,e,n){const s=t.getProps();return js(s,e,n!==void 0?n:s.custom,t)}const Dn=t=>Array.isArray(t);function qc(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Wt(n))}function Yc(t){return Dn(t)?t[t.length-1]||0:t}function Qc(t,e){const n=me(t,e);let{transitionEnd:s={},transition:i={},...r}=n||{};r={...r,...s};for(const o in r){const l=Yc(r[o]);qc(t,o,l)}}function Jc(t){return!!(st(t)&&t.add)}function Bn(t,e){const n=t.getValue("willChange");if(Jc(n))return n.add(e);if(!n&&jt.WillChange){const s=new jt.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function so(t){return t.props[Hr]}const Xc=t=>t!==null;function Zc(t,{repeat:e,repeatType:n="loop"},s){const i=t.filter(Xc),r=e&&n!=="loop"&&e%2===1?0:i.length-1;return!r||s===void 0?i[r]:s}const tu={type:"spring",stiffness:500,damping:25,restSpeed:10},eu=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),nu={type:"keyframes",duration:.8},su={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},iu=(t,{keyframes:e})=>e.length>2?nu:Zt.has(t)?t.startsWith("scale")?eu(e[1]):tu:su;function ru({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:i,repeat:r,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const Cs=(t,e,n,s={},i,r)=>o=>{const l=ds(s,t)||{},c=l.delay||s.delay||0;let{elapsed:d=0}=s;d=d-yt(c);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:f=>{e.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:r?void 0:i};ru(l)||Object.assign(u,iu(t,u)),u.duration&&(u.duration=yt(u.duration)),u.repeatDelay&&(u.repeatDelay=yt(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(h=!0)),(jt.instantAnimations||jt.skipAnimations)&&(h=!0,u.duration=0,u.delay=0),u.allowFlatten=!l.type&&!l.ease,h&&!r&&e.get()!==void 0){const f=Zc(u.keyframes,l);if(f!==void 0){Y.update(()=>{u.onUpdate(f),u.onComplete()});return}}return l.isSync?new ls(u):new Fl(u)};function ou({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function io(t,e,{delay:n=0,transitionOverride:s,type:i}={}){let{transition:r=t.getDefaultTransition(),transitionEnd:o,...l}=e;s&&(r=s);const c=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const u in l){const h=t.getValue(u,t.latestValues[u]??null),f=l[u];if(f===void 0||d&&ou(d,u))continue;const m={delay:n,...ds(r||{},u)},y=h.get();if(y!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===y&&!m.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const g=so(t);if(g){const w=window.MotionHandoffAnimation(g,u,Y);w!==null&&(m.startTime=w,x=!0)}}Bn(t,u),h.start(Cs(u,h,f,t.shouldReduceMotion&&Br.has(u)?{type:!1}:m,t,x));const b=h.animation;b&&c.push(b)}return o&&Promise.all(c).then(()=>{Y.update(()=>{o&&Qc(t,o)})}),c}function Vn(t,e,n={}){var c;const s=me(t,e,n.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const r=s?()=>Promise.all(io(t,s,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:f}=i;return au(t,e,u+d,h,f,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[d,u]=l==="beforeChildren"?[r,o]:[o,r];return d().then(()=>u())}else return Promise.all([r(),o(n.delay)])}function au(t,e,n=0,s=0,i=1,r){const o=[],l=(t.variantChildren.size-1)*s,c=i===1?(d=0)=>d*s:(d=0)=>l-d*s;return Array.from(t.variantChildren).sort(lu).forEach((d,u)=>{d.notify("AnimationStart",e),o.push(Vn(d,e,{...r,delay:n+c(u)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(o)}function lu(t,e){return t.sortNodePosition(e)}function cu(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const i=e.map(r=>Vn(t,r,n));s=Promise.all(i)}else if(typeof e=="string")s=Vn(t,e,n);else{const i=typeof e=="function"?me(t,e,n.custom):e;s=Promise.all(io(t,i,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function ro(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const uu=ys.length;function oo(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?oo(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<uu;n++){const s=ys[n],i=t.props[s];(he(i)||i===!1)&&(e[s]=i)}return e}const du=[...gs].reverse(),hu=gs.length;function fu(t){return e=>Promise.all(e.map(({animation:n,options:s})=>cu(t,n,s)))}function mu(t){let e=fu(t),n=ei(),s=!0;const i=c=>(d,u)=>{var f;const h=me(t,u,c==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:y,...x}=h;d={...d,...x,...y}}return d};function r(c){e=c(t)}function o(c){const{props:d}=t,u=oo(t.parent)||{},h=[],f=new Set;let m={},y=1/0;for(let b=0;b<hu;b++){const g=du[b],w=n[g],v=d[g]!==void 0?d[g]:u[g],T=he(v),j=g===c?w.isActive:null;j===!1&&(y=b);let C=v===u[g]&&v!==d[g]&&T;if(C&&s&&t.manuallyAnimateOnMount&&(C=!1),w.protectedKeys={...m},!w.isActive&&j===null||!v&&!w.prevProp||qe(v)||typeof v=="boolean")continue;const D=pu(w.prevProp,v);let A=D||g===c&&w.isActive&&!C&&T||b>y&&T,V=!1;const L=Array.isArray(v)?v:[v];let F=L.reduce(i(g),{});j===!1&&(F={});const{prevResolvedValues:_={}}=w,G={..._,...F},X=P=>{A=!0,f.has(P)&&(V=!0,f.delete(P)),w.needsAnimating[P]=!0;const E=t.getValue(P);E&&(E.liveStyle=!1)};for(const P in G){const E=F[P],R=_[P];if(m.hasOwnProperty(P))continue;let et=!1;Dn(E)&&Dn(R)?et=!ro(E,R):et=E!==R,et?E!=null?X(P):f.add(P):E!==void 0&&f.has(P)?X(P):w.protectedKeys[P]=!0}w.prevProp=v,w.prevResolvedValues=F,w.isActive&&(m={...m,...F}),s&&t.blockInitialAnimation&&(A=!1),A&&(!(C&&D)||V)&&h.push(...L.map(P=>({animation:P,options:{type:g}})))}if(f.size){const b={};if(typeof d.initial!="boolean"){const g=me(t,Array.isArray(d.initial)?d.initial[0]:d.initial);g&&g.transition&&(b.transition=g.transition)}f.forEach(g=>{const w=t.getBaseTarget(g),v=t.getValue(g);v&&(v.liveStyle=!0),b[g]=w??null}),h.push({animation:b})}let x=!!h.length;return s&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(x=!1),s=!1,x?e(h):Promise.resolve()}function l(c,d){var h;if(n[c].isActive===d)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(c,d)}),n[c].isActive=d;const u=o(c);for(const f in n)n[f].protectedKeys={};return u}return{animateChanges:o,setActive:l,setAnimateFunction:r,getState:()=>n,reset:()=>{n=ei(),s=!0}}}function pu(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!ro(e,t):!1}function Mt(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ei(){return{animate:Mt(!0),whileInView:Mt(),whileHover:Mt(),whileTap:Mt(),whileDrag:Mt(),whileFocus:Mt(),exit:Mt()}}class Rt{constructor(e){this.isMounted=!1,this.node=e}update(){}}class gu extends Rt{constructor(e){super(e),e.animationState||(e.animationState=mu(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();qe(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let yu=0;class xu extends Rt{constructor(){super(...arguments),this.id=yu++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const vu={animation:{Feature:gu},exit:{Feature:xu}};function pe(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function be(t){return{point:{x:t.pageX,y:t.pageY}}}const bu=t=>e=>ms(e)&&t(e,be(e));function re(t,e,n,s){return pe(t,e,bu(n),s)}function ao({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function wu({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function ju(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}const lo=1e-4,Su=1-lo,Cu=1+lo,co=.01,Tu=0-co,Pu=0+co;function it(t){return t.max-t.min}function Au(t,e,n){return Math.abs(t-e)<=n}function ni(t,e,n,s=.5){t.origin=s,t.originPoint=q(e.min,e.max,t.origin),t.scale=it(n)/it(e),t.translate=q(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Su&&t.scale<=Cu||isNaN(t.scale))&&(t.scale=1),(t.translate>=Tu&&t.translate<=Pu||isNaN(t.translate))&&(t.translate=0)}function oe(t,e,n,s){ni(t.x,e.x,n.x,s?s.originX:void 0),ni(t.y,e.y,n.y,s?s.originY:void 0)}function si(t,e,n){t.min=n.min+e.min,t.max=t.min+it(e)}function Eu(t,e,n){si(t.x,e.x,n.x),si(t.y,e.y,n.y)}function ii(t,e,n){t.min=e.min-n.min,t.max=t.min+it(e)}function ae(t,e,n){ii(t.x,e.x,n.x),ii(t.y,e.y,n.y)}const ri=()=>({translate:0,scale:1,origin:0,originPoint:0}),_t=()=>({x:ri(),y:ri()}),oi=()=>({min:0,max:0}),J=()=>({x:oi(),y:oi()});function dt(t){return[t("x"),t("y")]}function ln(t){return t===void 0||t===1}function kn({scale:t,scaleX:e,scaleY:n}){return!ln(t)||!ln(e)||!ln(n)}function Bt(t){return kn(t)||uo(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function uo(t){return ai(t.x)||ai(t.y)}function ai(t){return t&&t!=="0%"}function Fe(t,e,n){const s=t-n,i=e*s;return n+i}function li(t,e,n,s,i){return i!==void 0&&(t=Fe(t,i,s)),Fe(t,n,s)+e}function In(t,e=0,n=1,s,i){t.min=li(t.min,e,n,s,i),t.max=li(t.max,e,n,s,i)}function ho(t,{x:e,y:n}){In(t.x,e.translate,e.scale,e.originPoint),In(t.y,n.translate,n.scale,n.originPoint)}const ci=.999999999999,ui=1.0000000000001;function Ru(t,e,n,s=!1){const i=n.length;if(!i)return;e.x=e.y=1;let r,o;for(let l=0;l<i;l++){r=n[l],o=r.projectionDelta;const{visualElement:c}=r.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&r.options.layoutScroll&&r.scroll&&r!==r.root&&zt(t,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,ho(t,o)),s&&Bt(r.latestValues)&&zt(t,r.latestValues))}e.x<ui&&e.x>ci&&(e.x=1),e.y<ui&&e.y>ci&&(e.y=1)}function $t(t,e){t.min=t.min+e,t.max=t.max+e}function di(t,e,n,s,i=.5){const r=q(t.min,t.max,i);In(t,e,n,r,s)}function zt(t,e){di(t.x,e.x,e.scaleX,e.scale,e.originX),di(t.y,e.y,e.scaleY,e.scale,e.originY)}function fo(t,e){return ao(ju(t.getBoundingClientRect(),e))}function Nu(t,e,n){const s=fo(t,n),{scroll:i}=e;return i&&($t(s.x,i.offset.x),$t(s.y,i.offset.y)),s}const mo=({current:t})=>t?t.ownerDocument.defaultView:null,hi=(t,e)=>Math.abs(t-e);function Mu(t,e){const n=hi(t.x,e.x),s=hi(t.y,e.y);return Math.sqrt(n**2+s**2)}class po{constructor(e,n,{transformPagePoint:s,contextWindow:i,dragSnapToOrigin:r=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=un(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=Mu(h.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:y}=h,{timestamp:x}=tt;this.history.push({...y,timestamp:x});const{onStart:b,onMove:g}=this.handlers;f||(b&&b(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=cn(f,this.transformPagePoint),Y.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=un(h.type==="pointercancel"?this.lastMoveEventInfo:cn(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,b),y&&y(h,b)},!ms(e))return;this.dragSnapToOrigin=r,this.handlers=n,this.transformPagePoint=s,this.contextWindow=i||window;const o=be(e),l=cn(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=tt;this.history=[{...c,timestamp:d}];const{onSessionStart:u}=n;u&&u(e,un(l,this.history)),this.removeListeners=ye(re(this.contextWindow,"pointermove",this.handlePointerMove),re(this.contextWindow,"pointerup",this.handlePointerUp),re(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),At(this.updatePoint)}}function cn(t,e){return e?{point:e(t.point)}:t}function fi(t,e){return{x:t.x-e.x,y:t.y-e.y}}function un({point:t},e){return{point:t,delta:fi(t,go(e)),offset:fi(t,Du(e)),velocity:Bu(e,.1)}}function Du(t){return t[0]}function go(t){return t[t.length-1]}function Bu(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const i=go(t);for(;n>=0&&(s=t[n],!(i.timestamp-s.timestamp>yt(e)));)n--;if(!s)return{x:0,y:0};const r=xt(i.timestamp-s.timestamp);if(r===0)return{x:0,y:0};const o={x:(i.x-s.x)/r,y:(i.y-s.y)/r};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Vu(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?q(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?q(n,t,s.max):Math.min(t,n)),t}function mi(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function ku(t,{top:e,left:n,bottom:s,right:i}){return{x:mi(t.x,n,i),y:mi(t.y,e,s)}}function pi(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function Iu(t,e){return{x:pi(t.x,e.x),y:pi(t.y,e.y)}}function Lu(t,e){let n=.5;const s=it(t),i=it(e);return i>s?n=ce(e.min,e.max-s,t.min):s>i&&(n=ce(t.min,t.max-i,e.min)),wt(0,1,n)}function Ou(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ln=.35;function Fu(t=Ln){return t===!1?t=0:t===!0&&(t=Ln),{x:gi(t,"left","right"),y:gi(t,"top","bottom")}}function gi(t,e,n){return{min:yi(t,e),max:yi(t,n)}}function yi(t,e){return typeof t=="number"?t:t[e]||0}const Uu=new WeakMap;class _u{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=J(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(be(u).point)},r=(u,h)=>{const{drag:f,dragPropagation:m,onDragStart:y}=this.getProps();if(f&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ec(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),dt(b=>{let g=this.getAxisMotionValue(b).get()||0;if(vt.test(g)){const{projection:w}=this.visualElement;if(w&&w.layout){const v=w.layout.layoutBox[b];v&&(g=it(v)*(parseFloat(g)/100))}}this.originPoint[b]=g}),y&&Y.postRender(()=>y(u,h)),Bn(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(u,h)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:y,onDrag:x}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:b}=h;if(m&&this.currentDirection===null){this.currentDirection=$u(b),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,b),this.updateAxis("y",h.point,b),this.visualElement.render(),x&&x(u,h)},l=(u,h)=>this.stop(u,h),c=()=>dt(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)==null?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new po(e,{onSessionStart:i,onStart:r,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:mo(this.visualElement)})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:r}=this.getProps();r&&Y.postRender(()=>r(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:i}=this.getProps();if(!s||!Ae(e,i,this.currentDirection))return;const r=this.getAxisMotionValue(e);let o=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(o=Vu(o,this.constraints[e],this.elastic[e])),r.set(o)}resolveConstraints(){var r;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(r=this.visualElement.projection)==null?void 0:r.layout,i=this.constraints;e&&Ut(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=ku(s.layoutBox,e):this.constraints=!1,this.elastic=Fu(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&dt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Ou(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ut(e))return!1;const s=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const r=Nu(s,i.root,this.visualElement.getTransformPagePoint());let o=Iu(i.layout.layoutBox,r);if(n){const l=n(wu(o));this.hasMutatedConstraints=!!l,l&&(o=ao(l))}return o}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:i,dragTransition:r,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=dt(u=>{if(!Ae(u,n,this.currentDirection))return;let h=c&&c[u]||{};o&&(h={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,y={type:"inertia",velocity:s?e[u]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...r,...h};return this.startAxisValueAnimation(u,y)});return Promise.all(d).then(l)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return Bn(this.visualElement,e),s.start(Cs(e,s,0,n,this.visualElement,!1))}stopAnimation(){dt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){dt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),i=s[n];return i||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){dt(n=>{const{drag:s}=this.getProps();if(!Ae(n,s,this.currentDirection))return;const{projection:i}=this.visualElement,r=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[n];r.set(e[n]-q(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Ut(n)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};dt(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=Lu({min:c,max:c},this.constraints[o])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),dt(o=>{if(!Ae(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(q(c,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;Uu.set(this.visualElement,this);const e=this.visualElement.current,n=re(e,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();Ut(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,r=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Y.read(s);const o=pe(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(dt(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),n(),r(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:r=!1,dragElastic:o=Ln,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:i,dragConstraints:r,dragElastic:o,dragMomentum:l}}}function Ae(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function $u(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class zu extends Rt{constructor(e){super(e),this.removeGroupControls=ht,this.removeListeners=ht,this.controls=new _u(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ht}unmount(){this.removeGroupControls(),this.removeListeners()}}const xi=t=>(e,n)=>{t&&Y.postRender(()=>t(e,n))};class Wu extends Rt{constructor(){super(...arguments),this.removePointerDownListener=ht}onPointerDown(e){this.session=new po(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:mo(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:xi(e),onStart:xi(n),onMove:s,onEnd:(r,o)=>{delete this.session,i&&Y.postRender(()=>i(r,o))}}}mount(){this.removePointerDownListener=re(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Be={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function vi(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ee={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(I.test(t))t=parseFloat(t);else return t;const n=vi(t,e.target.x),s=vi(t,e.target.y);return`${n}% ${s}%`}},Gu={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,i=Et.parse(t);if(i.length>5)return s;const r=Et.createTransformer(t),o=typeof i[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;i[0+o]/=l,i[1+o]/=c;const d=q(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),r(i)}};class Ku extends p.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:i}=this.props,{projection:r}=e;Nc(Hu),r&&(n.group&&n.group.add(r),s&&s.register&&i&&s.register(r),r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),Be.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:i,isPresent:r}=this.props,{projection:o}=s;return o&&(o.isPresent=r,i||e.layoutDependency!==n||n===void 0||e.isPresent!==r?o.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?o.promote():o.relegate()||Y.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),fs.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function yo(t){const[e,n]=zr(),s=p.useContext(Wn);return a.jsx(Ku,{...t,layoutGroup:s,switchLayoutGroup:p.useContext(qr),isPresent:e,safeToRemove:n})}const Hu={borderRadius:{...ee,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ee,borderTopRightRadius:ee,borderBottomLeftRadius:ee,borderBottomRightRadius:ee,boxShadow:Gu};function qu(t,e,n){const s=st(t)?t:Wt(t);return s.start(Cs("",s,e,n)),s.animation}const Yu=(t,e)=>t.depth-e.depth;class Qu{constructor(){this.children=[],this.isDirty=!1}add(e){Hn(this.children,e),this.isDirty=!0}remove(e){qn(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Yu),this.isDirty=!1,this.children.forEach(e)}}function Ju(t,e){const n=rt.now(),s=({timestamp:i})=>{const r=i-n;r>=e&&(At(s),t(r-e))};return Y.setup(s,!0),()=>At(s)}const xo=["TopLeft","TopRight","BottomLeft","BottomRight"],Xu=xo.length,bi=t=>typeof t=="string"?parseFloat(t):t,wi=t=>typeof t=="number"||I.test(t);function Zu(t,e,n,s,i,r){i?(t.opacity=q(0,n.opacity??1,td(s)),t.opacityExit=q(e.opacity??1,0,ed(s))):r&&(t.opacity=q(e.opacity??1,n.opacity??1,s));for(let o=0;o<Xu;o++){const l=`border${xo[o]}Radius`;let c=ji(e,l),d=ji(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||wi(c)===wi(d)?(t[l]=Math.max(q(bi(c),bi(d),s),0),(vt.test(d)||vt.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||n.rotate)&&(t.rotate=q(e.rotate||0,n.rotate||0,s))}function ji(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const td=vo(0,.5,ur),ed=vo(.5,.95,ht);function vo(t,e,n){return s=>s<t?0:s>e?1:n(ce(t,e,s))}function Si(t,e){t.min=e.min,t.max=e.max}function ut(t,e){Si(t.x,e.x),Si(t.y,e.y)}function Ci(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Ti(t,e,n,s,i){return t-=e,t=Fe(t,1/n,s),i!==void 0&&(t=Fe(t,1/i,s)),t}function nd(t,e=0,n=1,s=.5,i,r=t,o=t){if(vt.test(e)&&(e=parseFloat(e),e=q(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=q(r.min,r.max,s);t===r&&(l-=e),t.min=Ti(t.min,e,n,l,i),t.max=Ti(t.max,e,n,l,i)}function Pi(t,e,[n,s,i],r,o){nd(t,e[n],e[s],e[i],e.scale,r,o)}const sd=["x","scaleX","originX"],id=["y","scaleY","originY"];function Ai(t,e,n,s){Pi(t.x,e,sd,n?n.x:void 0,s?s.x:void 0),Pi(t.y,e,id,n?n.y:void 0,s?s.y:void 0)}function Ei(t){return t.translate===0&&t.scale===1}function bo(t){return Ei(t.x)&&Ei(t.y)}function Ri(t,e){return t.min===e.min&&t.max===e.max}function rd(t,e){return Ri(t.x,e.x)&&Ri(t.y,e.y)}function Ni(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function wo(t,e){return Ni(t.x,e.x)&&Ni(t.y,e.y)}function Mi(t){return it(t.x)/it(t.y)}function Di(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class od{constructor(){this.members=[]}add(e){Hn(this.members,e),e.scheduleRender()}remove(e){if(qn(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let s;for(let i=n;i>=0;i--){const r=this.members[i];if(r.isPresent!==!1){s=r;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ad(t,e,n){let s="";const i=t.x.translate/e.x,r=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||r||o)&&(s=`translate3d(${i}px, ${r}px, ${o}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:u,rotateX:h,rotateY:f,skewX:m,skewY:y}=n;d&&(s=`perspective(${d}px) ${s}`),u&&(s+=`rotate(${u}deg) `),h&&(s+=`rotateX(${h}deg) `),f&&(s+=`rotateY(${f}deg) `),m&&(s+=`skewX(${m}deg) `),y&&(s+=`skewY(${y}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(s+=`scale(${l}, ${c})`),s||"none"}const dn=["","X","Y","Z"],ld={visibility:"hidden"},cd=1e3;let ud=0;function hn(t,e,n,s){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),s&&(s[t]=0))}function jo(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=so(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:r}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Y,!(i||r))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&jo(s)}function So({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(o={},l=e==null?void 0:e()){this.id=ud++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(fd),this.nodes.forEach(xd),this.nodes.forEach(vd),this.nodes.forEach(md)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Qu)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Jn),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=$r(o)&&!ac(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let u;const h=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=Ju(h,250),Be.hasAnimatedSinceResize&&(Be.hasAnimatedSinceResize=!1,this.nodes.forEach(Vi))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||d.getDefaultTransition()||Cd,{onLayoutAnimationStart:x,onLayoutAnimationComplete:b}=d.getProps(),g=!this.targetLayout||!wo(this.targetLayout,m),w=!h&&f;if(this.options.layoutRoot||this.resumeFrom||w||h&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const v={...ds(y,"layout"),onPlay:x,onComplete:b};(d.shouldReduceMotion||this.options.layoutRoot)&&(v.delay=0,v.type=!1),this.startAnimation(v),this.setAnimationOrigin(u,w)}else h||Vi(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),At(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(bd),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&jo(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Bi);return}this.isUpdating||this.nodes.forEach(gd),this.isUpdating=!1,this.nodes.forEach(yd),this.nodes.forEach(dd),this.nodes.forEach(hd),this.clearAllSnapshots();const l=rt.now();tt.delta=wt(0,1e3/60,l-tt.timestamp),tt.timestamp=l,tt.isProcessing=!0,en.update.process(tt),en.preRender.process(tt),en.render.process(tt),tt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,fs.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(pd),this.sharedNodes.forEach(wd)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Y.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Y.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!it(this.snapshot.measuredBox.x)&&!it(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=J(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!bo(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||Bt(this.latestValues)||u)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),Td(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return J();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(Pd))){const{scroll:u}=this.root;u&&($t(l.x,u.offset.x),$t(l.y,u.offset.y))}return l}removeElementScroll(o){var c;const l=J();if(ut(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:h,options:f}=u;u!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&ut(l,o),$t(l.x,h.offset.x),$t(l.y,h.offset.y))}return l}applyTransform(o,l=!1){const c=J();ut(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&zt(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Bt(u.latestValues)&&zt(c,u.latestValues)}return Bt(this.latestValues)&&zt(c,this.latestValues),c}removeTransform(o){const l=J();ut(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Bt(d.latestValues))continue;kn(d.latestValues)&&d.updateSnapshot();const u=J(),h=d.measurePageBox();ut(u,h),Ai(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return Bt(this.latestValues)&&Ai(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==tt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=tt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=J(),this.relativeTargetOrigin=J(),ae(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),ut(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=J(),this.targetWithTransforms=J()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Eu(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ut(this.target,this.layout.layoutBox),ho(this.target,this.targetDelta)):ut(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=J(),this.relativeTargetOrigin=J(),ae(this.relativeTargetOrigin,this.target,m.target),ut(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||kn(this.parent.latestValues)||uo(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var y;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===tt.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;ut(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;Ru(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=J());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ci(this.prevProjectionDelta.x,this.projectionDelta.x),Ci(this.prevProjectionDelta.y,this.projectionDelta.y)),oe(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!Di(this.projectionDelta.x,this.prevProjectionDelta.x)||!Di(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=_t(),this.projectionDelta=_t(),this.projectionDeltaWithTransform=_t()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=_t();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=J(),m=c?c.source:void 0,y=this.layout?this.layout.source:void 0,x=m!==y,b=this.getStack(),g=!b||b.members.length<=1,w=!!(x&&!g&&this.options.crossfade===!0&&!this.path.some(Sd));this.animationProgress=0;let v;this.mixTargetDelta=T=>{const j=T/1e3;ki(h.x,o.x,j),ki(h.y,o.y,j),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ae(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),jd(this.relativeTarget,this.relativeTargetOrigin,f,j),v&&rd(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=J()),ut(v,this.relativeTarget)),x&&(this.animationValues=u,Zu(u,d,this.latestValues,j,w,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(At(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Y.update(()=>{Be.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Wt(0)),this.currentAnimation=qu(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(cd),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&Co(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||J();const h=it(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=it(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}ut(l,c),zt(l,u),oe(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new od),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&hn("z",o,d,this.animationValues);for(let u=0;u<dn.length;u++)hn(`rotate${dn[u]}`,o,d,this.animationValues),hn(`skew${dn[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return ld;const l={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=De(o==null?void 0:o.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none",l;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=De(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Bt(this.latestValues)&&(m.transform=c?c({},""):"none",this.hasProjected=!1),m}const u=d.animationValues||d.latestValues;this.applyTransformsToTarget(),l.transform=ad(this.projectionDeltaWithTransform,this.treeScale,u),c&&(l.transform=c(u,l.transform));const{x:h,y:f}=this.projectionDelta;l.transformOrigin=`${h.origin*100}% ${f.origin*100}% 0`,d.animationValues?l.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:l.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const m in fe){if(u[m]===void 0)continue;const{correct:y,applyTo:x,isCSSVariable:b}=fe[m],g=l.transform==="none"?u[m]:y(u[m],d);if(x){const w=x.length;for(let v=0;v<w;v++)l[x[v]]=g}else b?this.options.visualElement.renderState.vars[m]=g:l[m]=g}return this.options.layoutId&&(l.pointerEvents=d===this?De(o==null?void 0:o.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(Bi),this.root.sharedNodes.clear()}}}function dd(t){t.updateLayout()}function hd(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=t.layout,{animationType:r}=t.options,o=e.source!==t.layout.source;r==="size"?dt(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],m=it(f);f.min=s[h].min,f.max=f.min+m}):Co(r,e.layoutBox,s)&&dt(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],m=it(s[h]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const l=_t();oe(l,s,e.layoutBox);const c=_t();o?oe(c,t.applyTransform(i,!0),e.measuredBox):oe(c,s,e.layoutBox);const d=!bo(l);let u=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const y=J();ae(y,e.layoutBox,f.layoutBox);const x=J();ae(x,s,m.layoutBox),wo(y,x)||(u=!0),h.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=y,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function fd(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function md(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function pd(t){t.clearSnapshot()}function Bi(t){t.clearMeasurements()}function gd(t){t.isLayoutDirty=!1}function yd(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Vi(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function xd(t){t.resolveTargetDelta()}function vd(t){t.calcProjection()}function bd(t){t.resetSkewAndRotation()}function wd(t){t.removeLeadSnapshot()}function ki(t,e,n){t.translate=q(e.translate,0,n),t.scale=q(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Ii(t,e,n,s){t.min=q(e.min,n.min,s),t.max=q(e.max,n.max,s)}function jd(t,e,n,s){Ii(t.x,e.x,n.x,s),Ii(t.y,e.y,n.y,s)}function Sd(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Cd={duration:.45,ease:[.4,0,.1,1]},Li=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Oi=Li("applewebkit/")&&!Li("chrome/")?Math.round:ht;function Fi(t){t.min=Oi(t.min),t.max=Oi(t.max)}function Td(t){Fi(t.x),Fi(t.y)}function Co(t,e,n){return t==="position"||t==="preserve-aspect"&&!Au(Mi(e),Mi(n),.2)}function Pd(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Ad=So({attachResizeListener:(t,e)=>pe(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),fn={current:void 0},To=So({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!fn.current){const t=new Ad({});t.mount(window),t.setOptions({layoutScroll:!0}),fn.current=t}return fn.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Ed={pan:{Feature:Wu},drag:{Feature:zu,ProjectionNode:To,MeasureLayout:yo}};function Ui(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,r=s[i];r&&Y.postRender(()=>r(e,be(e)))}class Rd extends Rt{mount(){const{current:e}=this.node;e&&(this.unmount=nc(e,(n,s)=>(Ui(this.node,s,"Start"),i=>Ui(this.node,i,"End"))))}unmount(){}}class Nd extends Rt{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ye(pe(this.node.current,"focus",()=>this.onFocus()),pe(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function _i(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),r=s[i];r&&Y.postRender(()=>r(e,be(e)))}class Md extends Rt{mount(){const{current:e}=this.node;e&&(this.unmount=oc(e,(n,s)=>(_i(this.node,s,"Start"),(i,{success:r})=>_i(this.node,i,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const On=new WeakMap,mn=new WeakMap,Dd=t=>{const e=On.get(t.target);e&&e(t)},Bd=t=>{t.forEach(Dd)};function Vd({root:t,...e}){const n=t||document;mn.has(n)||mn.set(n,{});const s=mn.get(n),i=JSON.stringify(e);return s[i]||(s[i]=new IntersectionObserver(Bd,{root:t,...e})),s[i]}function kd(t,e,n){const s=Vd(e);return On.set(t,n),s.observe(t),()=>{On.delete(t),s.unobserve(t)}}const Id={some:0,all:1};class Ld extends Rt{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:i="some",once:r}=e,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:Id[i]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,r&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),f=d?u:h;f&&f(c)};return kd(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Od(e,n))&&this.startObserver()}unmount(){}}function Od({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Fd={inView:{Feature:Ld},tap:{Feature:Md},focus:{Feature:Nd},hover:{Feature:Rd}},Ud={layout:{ProjectionNode:To,MeasureLayout:yo}},Fn={current:null},Po={current:!1};function _d(){if(Po.current=!0,!!Kn)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Fn.current=t.matches;t.addListener(e),e()}else Fn.current=!1}const $d=new WeakMap;function zd(t,e,n){for(const s in e){const i=e[s],r=n[s];if(st(i))t.addValue(s,i);else if(st(r))t.addValue(s,Wt(i,{owner:t}));else if(r!==i)if(t.hasValue(s)){const o=t.getValue(s);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(s);t.addValue(s,Wt(o!==void 0?o:i,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const $i=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Wd{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:i,blockInitialAnimation:r,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=cs,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=rt.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Y.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!r,this.isControllingVariants=Ye(n),this.isVariantNode=Kr(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const m=h[f];c[f]!==void 0&&st(m)&&m.set(c[f],!1)}}mount(e){this.current=e,$d.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),Po.current||_d(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Fn.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),At(this.notifyUpdate),At(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Zt.has(e);s&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&Y.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),r=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),r(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Gt){const n=Gt[e];if(!n)continue;const{isEnabled:s,Feature:i}=n;if(!this.features[e]&&i&&s(this.props)&&(this.features[e]=new i(this)),this.features[e]){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):J()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<$i.length;s++){const i=$i[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const r="on"+i,o=e[r];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=zd(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Wt(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(tr(s)||nr(s))?s=parseFloat(s):!cc(s)&&Et.test(n)&&(s=Lr(e,n)),this.setBaseTarget(e,st(s)?s.get():s)),st(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var r;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const o=js(this.props,n,(r=this.presenceContext)==null?void 0:r.custom);o&&(s=o[e])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!st(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Jn),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Ao extends Wd{constructor(){super(...arguments),this.KeyframeResolver=Jl}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;st(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Eo(t,{style:e,vars:n},s,i){Object.assign(t.style,e,i&&i.getProjectionStyles(s));for(const r in n)t.style.setProperty(r,n[r])}function Gd(t){return window.getComputedStyle(t)}class Kd extends Ao{constructor(){super(...arguments),this.type="html",this.renderInstance=Eo}readValueFromInstance(e,n){var s;if(Zt.has(n))return(s=this.projection)!=null&&s.isProjecting?Pn(n):gl(e,n);{const i=Gd(e),r=(ts(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return fo(e,n)}build(e,n,s){vs(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Ss(e,n,s)}}const Ro=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Hd(t,e,n,s){Eo(t,e,void 0,s);for(const i in e.attrs)t.setAttribute(Ro.has(i)?i:xs(i),e.attrs[i])}class qd extends Ao{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=J}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Zt.has(n)){const s=Ir(n);return s&&s.default||0}return n=Ro.has(n)?n:xs(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return no(e,n,s)}build(e,n,s){Xr(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,i){Hd(e,n,s,i)}mount(e){this.isSVGTag=to(e.tagName),super.mount(e)}}const Yd=(t,e)=>ws(t)?new qd(e):new Kd(e,{allowProjection:t!==p.Fragment}),Qd=Hc({...vu,...Fd,...Ed,...Ud},Yd),Ue=xc(Qd);function Jd({title:t,setTitle:e,content:n,setContent:s,imageFiles:i,setImageFiles:r,imageBase64List:o,setImageBase64List:l,isExpanded:c,setIsExpanded:d,isSubmitting:u,setIsSubmitting:h,userid:f,fetchPosts:m}){const y=g=>{const w=Array.from(g.target.files);r(w);const v=w.map(T=>new Promise(j=>{const C=new FileReader;C.onloadend=()=>j(C.result),C.readAsDataURL(T)}));Promise.all(v).then(l)},x="http://103.91.205.153:3000";console.log("🔍 Home - API URL:",x),console.log("🔍 Home - Environment:","http://103.91.205.153:3000");const b=async g=>{if(g.preventDefault(),!!n.trim()){if(!f){alert("ไม่พบข้อมูลผู้ใช้ กรุณาเข้าสู่ระบบใหม่");return}h(!0);try{console.log("📤 Posting to:",`${x}/api/post`),console.log("📤 Data to send:",{title:t,content:n,userid:f,images:i.length});const w=new FormData;w.append("title",t||"ไม่มีหัวข้อ"),w.append("content",n),w.append("userid",f),i.forEach((j,C)=>{w.append("images",j),console.log(`📸 Added image ${C+1}:`,j.name)});const v=await fetch(`${x}/api/post`,{method:"POST",body:w}),T=await v.json();console.log("📤 Post response:",T),v.ok?(console.log("✅ Post created successfully"),e(""),s(""),r([]),l([]),d(!1),await m()):(console.error("❌ Post creation failed:",T),alert("เกิดข้อผิดพลาดขณะโพสต์: "+(T.message||"Unknown error")))}catch(w){console.error("❌ Post error:",w),alert("เกิดข้อผิดพลาดขณะโพสต์")}finally{h(!1)}}};return a.jsx("section",{className:"new-post-section",children:a.jsx(Le,{children:c?a.jsxs(Ue.form,{onSubmit:b,initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"post-form",children:[a.jsx("input",{type:"text",placeholder:"หัวข้อข่าว",value:t,onChange:g=>e(g.target.value),className:"input"}),a.jsx("textarea",{placeholder:"เขียนอะไรลงไป...",value:n,onChange:g=>s(g.target.value),required:!0,rows:"4",className:"textarea"}),a.jsxs("div",{style:{marginBottom:"0.75rem"},children:[a.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:y,className:"hidden",id:"imageUpload"}),a.jsx("label",{htmlFor:"imageUpload",className:"btn",style:{background:"#e0e7ff",color:"#2563eb",fontWeight:600,cursor:"pointer"},children:"เลือกรูปภาพ"})]}),o.length>0&&a.jsx("div",{className:"post-images",children:o.map((g,w)=>a.jsx("img",{src:g,alt:`preview-${w}`,className:"post-image"},w))}),a.jsxs("div",{style:{display:"flex",justifyContent:"end",gap:"0.75rem"},children:[a.jsx("button",{type:"button",onClick:()=>{d(!1),e(""),s(""),r([]),l([])},className:"btn",children:"ยกเลิก"}),a.jsx("button",{type:"submit",disabled:!n.trim()||u,className:"btn btn-primary",children:u?"กำลังโพสต์...":"โพสต์"})]})]}):a.jsx("button",{onClick:()=>d(!0),className:"btn",style:{width:"100%",marginBottom:"1.5rem"},children:"เขียนโพสต์ใหม่..."})})})}function Xd(){const[t,e]=p.useState(""),[n,s]=p.useState(""),[i,r]=p.useState(!1),[o,l]=p.useState(""),[c,d]=p.useState(""),[u,h]=p.useState([]),[f,m]=p.useState([]),[y,x]=p.useState([]),[b,g]=p.useState(!1),[w,v]=p.useState(!1),[T,j]=p.useState(null),[C,D]=p.useState(!1),[A,V]=p.useState(""),L=Ot(),F="http://103.91.205.153:3000";p.useEffect(()=>{const P=localStorage.getItem("token");if(console.log("Token from localStorage:",P,"Type:",typeof P),!P||P==="null"||P==="undefined"){console.log("No valid token found, redirecting to login"),L("/login");return}const E=typeof P=="string"?P:JSON.stringify(P);console.log("Using token:",E.substring(0,30)+"..."),fetch(`${F}/api/user/${E}`).then(R=>R.json()).then(R=>{console.log("API Response:",R),R.status&&R.data?(e(R.data.realname),s(R.data.userid),r(R.data.admin),R.data.profileImage?V(`data:image/jpeg;base64,${R.data.profileImage}`):R.data.avatar&&V(R.data.avatar)):(localStorage.removeItem("token"),L("/login"))}).catch(()=>{localStorage.removeItem("token"),L("/login")}),_()},[]);const _=async()=>{try{console.log("🔄 Fetching posts from:",`${F}/api/post`);const E=await(await fetch(`${F}/api/post`)).json();console.log("📝 Posts response:",E),E.status&&E.data?(x(E.data),console.log("✅ Posts loaded:",E.data.length,"posts")):(console.error("❌ Posts fetch failed:",E),x([]))}catch(P){console.error("❌ Posts fetch error:",P),x([])}},G=async P=>{if(window.confirm("คุณต้องการลบโพสต์นี้ใช่หรือไม่?"))try{const E=localStorage.getItem("token");(await fetch(`${F}/api/post/${P}`,{method:"DELETE",headers:{Authorization:`Bearer ${E}`}})).ok?await _():alert("ลบโพสต์ไม่สำเร็จ")}catch{alert("เกิดข้อผิดพลาดขณะลบโพสต์")}},X=P=>{j(P),v(!0)},k=()=>{v(!1),j(null)};function M(P){const E=/(https?:\/\/[^\s]+)/g;return P.split(E).map((et,te)=>E.test(et)?a.jsx("a",{href:et,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:et},te):et)}return a.jsxs("div",{className:"home-bg",children:[a.jsxs("div",{className:"profile-section",children:[a.jsx("div",{className:"profile-avatar-center",children:a.jsx("img",{src:A,alt:"avatar",className:"avatar-img",onError:P=>{P.target.onerror=null}})}),a.jsxs("div",{className:"profile-info-center",children:[a.jsx("div",{className:"profile-name",children:t||"ชื่อผู้ใช้"}),a.jsx("div",{className:"profile-grade",children:i?"Admin":"สมาชิกทั่วไป"})]})]}),a.jsx("div",{style:{width:"100%",maxWidth:4500,margin:"0 auto"},children:a.jsx(Jd,{title:o,setTitle:l,content:c,setContent:d,imageFiles:u,setImageFiles:h,imageBase64List:f,setImageBase64List:m,isExpanded:b,setIsExpanded:g,isSubmitting:C,setIsSubmitting:D,userid:n,fetchPosts:_})}),a.jsxs("div",{className:"home-container",children:[a.jsxs("section",{className:"all-posts-section",style:{marginTop:"0.1rem"},children:[a.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:600,color:"#1e293b",marginBottom:"1rem",textAlign:"center"},children:"ข่าวสารทั้งหมด"}),a.jsx("div",{children:y.length===0?a.jsx("p",{style:{textAlign:"center",color:"#64748b"},children:"ยังไม่มีข่าวสาร"}):a.jsx(Le,{children:y.map(P=>{var E;return a.jsxs(Ue.div,{className:"post-card",initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0,y:-30},transition:{duration:.4},layout:!0,children:[a.jsx("h3",{className:"post-title",children:P.title||"(ไม่มีหัวข้อ)"}),a.jsx("p",{className:"post-content",children:M(P.content)}),((E=P.images)==null?void 0:E.length)>0&&a.jsx("div",{className:"post-images",children:P.images.map((R,et)=>a.jsx("img",{src:R,alt:`โพสต์ ${et+1}`,className:"post-image",onClick:()=>X(R)},et))}),a.jsxs("div",{className:"post-meta",children:["โพสต์โดย: ",P.postedBy," | ",new Date(P.date).toLocaleString()]}),(i||String(P.userid)===String(n))&&a.jsx("button",{className:"btn btn-danger",style:{marginTop:8,padding:"4px 8px",display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>G(P.id),title:"ลบโพสต์",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"none",viewBox:"0 0 24 24",children:a.jsx("path",{fill:"currentColor",d:"M9 3a3 3 0 0 1 6 0h5a1 1 0 1 1 0 2h-1.05l-1.2 14.39A3 3 0 0 1 14.76 22H9.24a3 3 0 0 1-2.99-2.61L5.05 5H4a1 1 0 1 1 0-2h5Zm2 0a1 1 0 0 1 2 0h-2Zm-4.95 2 1.2 14.39A1 1 0 0 0 9.24 20h5.52a1 1 0 0 0 .99-.89L16.95 5H7.05ZM9 9a1 1 0 0 1 2 0v6a1 1 0 1 1-2 0V9Zm4 0a1 1 0 1 1 2 0v6a1 1 0 1 1-2 0V9Z"})})})]},P.id)})})})]}),w&&a.jsx("div",{className:"modal-bg",onClick:k,children:a.jsx("img",{src:T,alt:"expanded",className:"modal-img",onClick:P=>P.stopPropagation()})})]})]})}const Zd="/assets/logo-0b13794e.png";function th(){const[t,e]=p.useState("login"),[n,s]=p.useState(""),[i,r]=p.useState(""),[o,l]=p.useState(""),[c,d]=p.useState(!1),[u,h]=p.useState(""),[f,m]=p.useState(!1),[y,x]=p.useState(""),[b,g]=p.useState(""),[w,v]=p.useState(""),[T,j]=p.useState(""),[C,D]=p.useState(""),[A,V]=p.useState(""),[L,F]=p.useState(""),_="http://103.91.205.153:3000";console.log("🔍 API URL:",_),console.log("🔍 Environment:",{VITE_API_URL:"http://103.91.205.153:3000",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1});const G=Ot();p.useEffect(()=>{m(!0)},[]);const X=async M=>{M.preventDefault(),l(""),d(!0),h("กำลังเข้าสู่ระบบ...");try{const P=await fetch(`${_}/api/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,password:i})}),E=await P.json();if(console.log("Login response data:",E),P.ok){h("เข้าสู่ระบบสำเร็จ! กำลังนำคุณไปยังหน้าหลัก...");const R=E.data;console.log("Token to save:",R,"Type:",typeof R),typeof R=="string"?localStorage.setItem("token",R):typeof R=="object"&&R.token?localStorage.setItem("token",R.token):(console.error("Invalid token format:",R),localStorage.setItem("token",JSON.stringify(R))),setTimeout(()=>{G("/")},1e3)}else l(E.error||E.message||"เข้าสู่ระบบไม่สำเร็จ"),h("")}catch{l("เกิดข้อผิดพลาดในการเชื่อมต่อ"),h("")}finally{d(!1)}},k=async M=>{if(M.preventDefault(),V(""),!y||!T||!C||!b||!w||!L){V("กรุณากรอกข้อมูลให้ครบ");return}if(T!==C){V("รหัสผ่านไม่ตรงกัน");return}try{const P=await fetch(`${_}/api/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:y,realname:b,userid:w,password:T,blood:L})}),E=await P.json();P.ok?(alert("สมัครสมาชิกสำเร็จ"),e("login")):V(E.error||E.message||"สมัครสมาชิกไม่สำเร็จ")}catch{V("เกิดข้อผิดพลาด")}};return a.jsxs("div",{className:"container",style:{opacity:f?1:0,transform:f?"translateY(0)":"translateY(30px)",transition:"opacity 0.7s, transform 0.7s"},children:[a.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:24},children:a.jsx("img",{src:Zd,alt:"logo",style:{width:100,height:100,objectFit:"contain"}})}),a.jsxs("div",{className:"tabs",children:[a.jsx("button",{className:t==="login"?"active":"",onClick:()=>e("login"),children:"Login"}),a.jsx("button",{className:t==="register"?"active":"",onClick:()=>e("register"),children:"Register"})]}),t==="login"&&a.jsxs("form",{className:"form active",onSubmit:X,children:[a.jsx("input",{type:"text",placeholder:"ชื่อผู้ใช้ หรือ รหัสประจำตัวประชาชน",value:n,onChange:M=>s(M.target.value),required:!0,disabled:c}),a.jsx("input",{type:"password",placeholder:"รหัสผ่าน",value:i,onChange:M=>r(M.target.value),required:!0,disabled:c}),o&&a.jsx("div",{style:{color:"red",marginBottom:8},children:o}),u&&a.jsx("div",{style:{color:"green",marginBottom:8},children:u}),a.jsx("button",{type:"submit",disabled:c,className:"btn",children:c?"กำลังเข้าสู่ระบบ...":"เข้าสู่ระบบ"})]}),t==="register"&&a.jsxs("form",{className:"form active",onSubmit:k,children:[a.jsx("input",{type:"text",placeholder:"ชื่อผู้ใช้",value:y,onChange:M=>x(M.target.value),required:!0}),a.jsx("input",{type:"text",placeholder:"ชื่อ-นามสกุล",value:b,onChange:M=>g(M.target.value),required:!0}),a.jsx("input",{type:"text",placeholder:"รหัสประจำตัวประชาชน",value:w,onChange:M=>v(M.target.value),required:!0}),a.jsx("input",{type:"password",placeholder:"รหัสผ่าน",value:T,onChange:M=>j(M.target.value),required:!0}),a.jsx("input",{type:"password",placeholder:"ยืนยันรหัสผ่าน",value:C,onChange:M=>D(M.target.value),required:!0}),a.jsxs("select",{value:L,onChange:M=>F(M.target.value),required:!0,style:{marginBottom:12},children:[a.jsx("option",{value:"",children:"เลือกกรุ๊ปเลือด"}),a.jsx("option",{value:"A",children:"A"}),a.jsx("option",{value:"B",children:"B"}),a.jsx("option",{value:"O",children:"O"}),a.jsx("option",{value:"AB",children:"AB"})]}),A&&a.jsx("div",{style:{color:"red",marginBottom:8},children:A}),a.jsx("button",{type:"submit",className:"btn",children:"สมัครสมาชิก"})]}),t==="login"&&a.jsxs("div",{style:{marginTop:16},children:["ยังไม่มีบัญชี? ",a.jsx("span",{style:{color:"#007bff",cursor:"pointer"},onClick:()=>e("register"),children:"สมัครสมาชิก"})]})]})}function eh(){const[t,e]=p.useState(""),[n,s]=p.useState(""),[i,r]=p.useState(""),[o,l]=p.useState(""),[c,d]=p.useState(""),[u,h]=p.useState(""),[f,m]=p.useState(!1),y=Ot(),x="http://103.91.205.153:3000";p.useEffect(()=>{m(!0)},[]);const b=async g=>{g.preventDefault(),h("");try{const w=await fetch(`${x}/api/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,realname:n,userid:i,password:o,blood:c})}),v=await w.json();w.ok?(alert("สมัครสมาชิกสำเร็จ"),y("/login")):h(v.error||v.message||"สมัครสมาชิกไม่สำเร็จ")}catch{h("เกิดข้อผิดพลาด")}};return a.jsxs("div",{style:{maxWidth:400,margin:"40px auto",padding:24,boxShadow:"0 2px 8px #eee",borderRadius:8,opacity:f?1:0,transform:f?"translateY(0)":"translateY(30px)",transition:"opacity 0.7s, transform 0.7s"},children:[a.jsx("h2",{children:"สมัครสมาชิก"}),a.jsxs("form",{onSubmit:b,children:[a.jsx("input",{type:"text",placeholder:"ชื่อผู้ใช้",value:t,onChange:g=>e(g.target.value),required:!0,style:{width:"100%",marginBottom:12,padding:8}}),a.jsx("input",{type:"text",placeholder:"ชื่อ-นามสกุล",value:n,onChange:g=>s(g.target.value),required:!0,style:{width:"100%",marginBottom:12,padding:8}}),a.jsx("input",{type:"text",placeholder:"รหัสประจำตัวประชาชน",value:i,onChange:g=>r(g.target.value),required:!0,style:{width:"100%",marginBottom:12,padding:8}}),a.jsx("input",{type:"password",placeholder:"รหัสผ่าน",value:o,onChange:g=>l(g.target.value),required:!0,style:{width:"100%",marginBottom:12,padding:8}}),a.jsxs("select",{value:c,onChange:g=>d(g.target.value),required:!0,style:{width:"100%",marginBottom:12,padding:8},children:[a.jsx("option",{value:"",children:"เลือกกรุ๊ปเลือด"}),a.jsx("option",{value:"A",children:"A"}),a.jsx("option",{value:"B",children:"B"}),a.jsx("option",{value:"O",children:"O"}),a.jsx("option",{value:"AB",children:"AB"})]}),u&&a.jsx("div",{style:{color:"red",marginBottom:8},children:u}),a.jsx("button",{type:"submit",style:{width:"100%",padding:10},children:"สมัครสมาชิก"})]}),a.jsxs("div",{style:{marginTop:16},children:["มีบัญชีอยู่แล้ว? ",a.jsx(sa,{to:"/login",children:"เข้าสู่ระบบ"})]})]})}const nh=()=>{const[t,e]=p.useState([]),n="http://103.91.205.153:3000";p.useEffect(()=>{fetch(`${n}/api/users`).then(r=>r.json()).then(r=>e(r)).catch(r=>console.error(r))},[]);const s=r=>r?typeof r=="string"?`data:image/png;base64,${r}`:r.data?`data:image/png;base64,${btoa(new Uint8Array(r.data).reduce((l,c)=>l+String.fromCharCode(c),""))}`:"":"",i=async(r,o)=>{await fetch(`${n}/api/user/setAdmin`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userid:r,admin:o})}),e(t.map(l=>l.userid===r?{...l,admin:o}:l)),console.log(o?`User ${r} is now Admin`:`User ${r} is no longer Admin`)};return a.jsx("div",{style:{overflowX:"auto"},children:a.jsxs("table",{border:"1",cellPadding:"8",style:{borderCollapse:"collapse",minWidth:900},children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"ID"}),a.jsx("th",{children:"Username"}),a.jsx("th",{children:"Real Name"}),a.jsx("th",{children:"UserID"}),a.jsx("th",{children:"Blood"}),a.jsx("th",{children:"Gun Number"}),a.jsx("th",{children:"Point"}),a.jsx("th",{children:"Major"}),a.jsx("th",{children:"Profile Image"}),a.jsx("th",{children:"Admin"})]})}),a.jsx("tbody",{children:t.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"10",align:"center",children:"No users found."})}):t.map(r=>a.jsxs("tr",{children:[a.jsx("td",{children:r.id}),a.jsx("td",{children:r.username}),a.jsx("td",{children:r.realname}),a.jsx("td",{children:r.userid}),a.jsx("td",{children:r.blood}),a.jsx("td",{children:r.gunNumber}),a.jsx("td",{children:r.point}),a.jsx("td",{children:r.major}),a.jsx("td",{children:r.profileImage&&r.profileImage.data?a.jsx("img",{src:s(r.profileImage),alt:"profile",style:{width:60,height:60,objectFit:"cover",borderRadius:"50%"}}):"No Image"}),a.jsxs("td",{children:[a.jsx("input",{type:"checkbox",checked:!!r.admin,onChange:o=>i(r.userid,o.target.checked)})," ",r.admin?"YES":"NO"]})]},r.id))})]})})},Dt=({children:t})=>localStorage.getItem("token")?t:a.jsx(ia,{to:"/login",replace:!0});function sh(){var T;const[t,e]=p.useState(""),[n,s]=p.useState(""),[i,r]=p.useState(0),[o,l]=p.useState([]),[c,d]=p.useState(""),[u,h]=p.useState(""),[f,m]=p.useState(!0),[y,x]=p.useState(""),b="http://103.91.205.153:3000",g=Ot(),w=[{value:"ME",label:"วิศวกรรมเครื่องกล"},{value:"EE",label:"วิศวกรรมไฟฟ้าสื่อสาร"},{value:"CYBER",label:"ความมั่นคงปลอดภัยทางไซเบอร์"},{value:"SCIEN",label:"วิทยาศาสตร์และเทคโนโลยี (EN)"},{value:"CE",label:"วิศวกรรมโยธา"},{value:"GEO",label:"วิศวกรรมแผนที่"},{value:"IE",label:"วิศวกรรมอุตสาหการ"},{value:"SCI",label:"วิทยาศาสตร์และเทคโนโลยี"},{value:"SOC",label:"สังคมศาสตร์เพื่อการพัฒนา"}];p.useEffect(()=>{const j=localStorage.getItem("token");if(!j){m(!1);return}fetch(`${b}/api/user/me`,{headers:{Authorization:`Bearer ${j}`}}).then(C=>C.json()).then(C=>{if(!C.data||!C.data.userid){m(!1);return}d(C.data.userid),e(C.data.realname||""),h(C.data.major||""),s(C.data.profileImage?`data:image/jpeg;base64,${C.data.profileImage}`:"");const D=C.data.adjustments||[];l(D),r(C.data.point||0),x(!!C.data.admin),m(!1)}).catch(()=>m(!1))},[]);function v(j){if(!j)return"";const C=new Date(j);return isNaN(C)?j:C.toLocaleDateString("th-TH",{year:"numeric",month:"2-digit",day:"2-digit"})}return f?a.jsx("div",{className:"behavior-point-container",children:a.jsx("div",{className:"loading",children:"Loading..."})}):a.jsx("div",{className:"behavior-point-container",children:a.jsxs("div",{className:"behavior-card",children:[a.jsx("h2",{children:"Behavior Point"}),a.jsxs("div",{className:"profile-section",children:[n?a.jsx("img",{src:n,alt:"Profile",className:"profile-img"}):a.jsx("div",{className:"profile-img no-img",children:"No Image"}),a.jsxs("div",{className:"profile-info",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"ชื่อ:"})," ",t]}),a.jsxs("p",{children:[a.jsx("strong",{children:"รหัส:"})," ",c]}),u&&a.jsxs("p",{children:[a.jsx("strong",{children:"สาขา:"})," ",((T=w.find(j=>j.value===u))==null?void 0:T.label)||u]}),a.jsxs("p",{children:[a.jsx("strong",{children:"คะแนนพฤติกรรม:"})," ",a.jsx("span",{className:"point",children:i})]}),y&&a.jsx("p",{className:"admin-badge",children:"สถานะ: Admin"})]})]}),y&&a.jsx("button",{className:"deduct-point-btn",onClick:()=>g("/DeductPoint"),children:"ไปหน้าหักคะแนน (DeductPoint)"}),a.jsx("h3",{children:"ประวัติการปรับคะแนน"}),a.jsxs("div",{style:{fontWeight:600,display:"flex",padding:"4px 0",borderBottom:"1px solid #e0e0e0",marginBottom:4},children:[a.jsx("span",{style:{flex:1},children:"วันที่"}),a.jsx("span",{style:{width:60,textAlign:"center"},children:"คะแนน"}),a.jsx("span",{style:{flex:2},children:"เหตุผล"}),a.jsx("span",{style:{flex:1},children:"โดย"})]}),a.jsxs("ul",{className:"adjustment-list",children:[o.length===0&&a.jsx("li",{className:"no-history",children:"ไม่มีประวัติการปรับคะแนน"}),o.map((j,C)=>a.jsxs("li",{className:j.change>0?"plus":j.change<0?"minus":"",style:{display:"flex",alignItems:"center"},children:[a.jsx("span",{className:"adj-date",style:{flex:1},children:v(j.date)}),a.jsxs("span",{className:"adj-change",style:{width:60,textAlign:"center"},children:[j.change>0?"+":"",j.change]}),a.jsxs("span",{className:"adj-reason",style:{flex:2},children:["(",j.reason,")"]}),a.jsxs("span",{className:"adj-operator",style:{flex:1},children:["โดย: ",j.operator]})]},C))]})]})})}function ih(){const[t,e]=p.useState(""),[n,s]=p.useState(-1),[i,r]=p.useState(""),[o,l]=p.useState(""),[c,d]=p.useState(""),u="http://103.91.205.153:3000",h=async f=>{f.preventDefault();const y=await(await fetch(`${u}/api/behavior/deduct`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userid:t,change:n,reason:i,operator:o})})).json();d(y.message||(y.status?"สำเร็จ":"เกิดข้อผิดพลาด"))};return a.jsx("div",{className:"deduct-point-container",children:a.jsxs("div",{className:"deduct-point-card",children:[a.jsx("h2",{children:"ตัดคะแนน"}),a.jsxs("form",{onSubmit:h,children:[a.jsx("div",{children:a.jsxs("label",{children:["รหัสนักเรียน:",a.jsx("input",{value:t,onChange:f=>e(f.target.value),required:!0})]})}),a.jsx("div",{children:a.jsxs("label",{children:["คะแนนที่ตัด:",a.jsx("input",{type:"number",value:Math.abs(n),onChange:f=>s(-Math.abs(Number(f.target.value))),min:"1",required:!0})]})}),a.jsx("div",{children:a.jsxs("label",{children:["เหตุผล:",a.jsx("input",{value:i,onChange:f=>r(f.target.value),required:!0})]})}),a.jsx("div",{children:a.jsxs("label",{children:["ผู้ตัดคะแนน:",a.jsx("input",{value:o,onChange:f=>l(f.target.value),required:!0})]})}),a.jsx("button",{type:"submit",children:"ตัดคะแนน"})]}),c&&a.jsx("div",{className:"message",children:c})]})})}const zi=[{value:"ME",label:"วิศวกรรมเครื่องกล"},{value:"EE",label:"วิศวกรรมไฟฟ้าสื่อสาร"},{value:"CYBER",label:"ความมั่นคงปลอดภัยทางไซเบอร์"},{value:"SCIEN",label:"วิทยาศาสตร์และเทคโนโลยี (EN)"},{value:"CE",label:"วิศวกรรมโยธา"},{value:"GEO",label:"วิศวกรรมแผนที่"},{value:"IE",label:"วิศวกรรมอุตสาหการ"},{value:"SCI",label:"วิทยาศาสตร์และเทคโนโลยี"},{value:"SOC",label:"สังคมศาสตร์เพื่อการพัฒนา"}];function rh(){const[t,e]=p.useState(""),[n,s]=p.useState(""),[i,r]=p.useState(""),[o,l]=p.useState(""),[c,d]=p.useState(""),[u,h]=p.useState(null),[f,m]=p.useState(""),[y,x]=p.useState(""),[b,g]=p.useState(""),[w,v]=p.useState(""),[T,j]=p.useState(""),[C,D]=p.useState([{key:"",value:1}]),A=Ot(),V="http://103.91.205.153:3000";p.useEffect(()=>{const k=localStorage.getItem("token");fetch(`${V}/api/user/me`,{headers:{Authorization:`Bearer ${k}`}}).then(M=>M.json()).then(M=>{if(M.status){e(M.data.realname||""),s(M.data.userid||""),r(M.data.blood||""),l(M.data.gunNumber||"");let P=M.data.major||"";P.startsWith("สาขาวิชา")&&(P=P.replace("สาขาวิชา","").trim());const E=zi.find(R=>R.label===P||R.value===P);if(d(E?E.value:""),x(M.data.club1||""),g(M.data.club2||""),v(M.data.club3||""),j(M.data.year||""),M.data.profileImage&&m(`data:image/jpeg;base64,${M.data.profileImage}`),M.data.other)try{const R=typeof M.data.other=="string"?JSON.parse(M.data.other):M.data.other;Array.isArray(R)&&D(R)}catch{}}}).catch(M=>{console.error("Error fetching user data:",M)})},[]);const L=k=>{const M=k.target.files[0];M&&(h(M),m(URL.createObjectURL(M)))},F=(k,M,P)=>{D(E=>{const R=[...E];return R[k][M]=P,R})},_=()=>{D(k=>[...k,{key:"",value:1}])},G=k=>{D(M=>M.filter((P,E)=>E!==k))},X=k=>{k.preventDefault();const M=localStorage.getItem("token"),P=new FormData;P.append("realname",t),P.append("userid",n),P.append("blood",i),P.append("gunNumber",o),P.append("major",c),P.append("club1",y),P.append("club2",b),P.append("club3",w),P.append("year",T),P.append("other",JSON.stringify(C)),u&&P.append("profileImage",u),fetch(`${V}/api/user/update`,{method:"POST",headers:{Authorization:`Bearer ${M}`},body:P}).then(E=>E.json()).then(E=>{E.success?(alert("Profile updated successfully"),A("/")):alert("Failed to update profile")}).catch(E=>{console.error("Error:",E),alert("An error occurred while updating profile")})};return a.jsx("div",{className:"edit-profile-minimal",children:a.jsxs("form",{className:"edit-profile-form",onSubmit:X,children:[a.jsxs("div",{className:"profile-img-block",children:[f&&a.jsx("img",{src:f,alt:"Preview",className:"profile-img"}),a.jsx("input",{type:"file",accept:"image/*",onChange:L})]}),a.jsx("input",{type:"text",placeholder:"ชื่อ-นามสกุล",value:t,onChange:k=>e(k.target.value),required:!0}),a.jsx("input",{type:"text",placeholder:"รหัสประจำตัว",value:n,onChange:k=>s(k.target.value),required:!0}),a.jsx("input",{type:"text",placeholder:"กรุ๊ปเลือด",value:i,onChange:k=>r(k.target.value),required:!0}),a.jsx("input",{type:"text",placeholder:"เลขปืน",value:o,onChange:k=>l(k.target.value)}),a.jsxs("select",{value:c,onChange:k=>d(k.target.value),required:!0,children:[a.jsx("option",{value:"",children:"-- เลือกสาขาวิชา --"}),zi.map(k=>a.jsx("option",{value:k.value,children:k.label},k.value))]}),a.jsxs("select",{value:T,onChange:k=>j(k.target.value),required:!0,children:[a.jsx("option",{value:"",children:"-- เลือกชั้นปี --"}),a.jsx("option",{value:"1",children:"ชั้นปี 1"}),a.jsx("option",{value:"2",children:"ชั้นปี 2"}),a.jsx("option",{value:"3",children:"ชั้นปี 3"}),a.jsx("option",{value:"4",children:"ชั้นปี 4"}),a.jsx("option",{value:"5",children:"ชั้นปี 5"})]}),a.jsx("input",{type:"text",placeholder:"ชื่อชมรมที่ 1",value:y,onChange:k=>x(k.target.value)}),a.jsx("input",{type:"text",placeholder:"ชื่อชมรมที่ 2",value:b,onChange:k=>g(k.target.value)}),a.jsx("input",{type:"text",placeholder:"ชื่อชมรมที่ 3",value:w,onChange:k=>v(k.target.value)}),a.jsxs("div",{style:{margin:"16px 0"},children:[a.jsx("b",{children:"รายการจำหน่าย (เพิ่มได้หลายรายการ):"}),C.map((k,M)=>a.jsxs("div",{style:{display:"flex",gap:8,marginBottom:4,alignItems:"center",width:"100%"},children:[a.jsx("input",{placeholder:"ชื่อรายการ",value:k.key,onChange:P=>F(M,"key",P.target.value),style:{flex:2,minWidth:0}}),a.jsx("button",{type:"button",onClick:()=>G(M),style:{padding:"0 10px",height:36,background:"#e57373",color:"#fff",border:"none",borderRadius:4,cursor:"pointer"},children:"-"})]},M)),a.jsx("button",{type:"button",onClick:_,style:{width:"100%",marginTop:4,background:"#1976d2",color:"#fff",border:"none",borderRadius:6,padding:"10px 0",fontSize:"1rem",fontWeight:500,cursor:"pointer"},children:"+ เพิ่มรายการจำหน่าย"})]}),a.jsx("button",{type:"submit",children:"บันทึก"})]})})}var Kt={},oh=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},No={},ct={};let Ts;const ah=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];ct.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};ct.getSymbolTotalCodewords=function(e){return ah[e]};ct.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};ct.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');Ts=e};ct.isKanjiModeEnabled=function(){return typeof Ts<"u"};ct.toSJIS=function(e){return Ts(e)};var Qe={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(s){return s&&typeof s.bit<"u"&&s.bit>=0&&s.bit<4},t.from=function(s,i){if(t.isValid(s))return s;try{return e(s)}catch{return i}}})(Qe);function Mo(){this.buffer=[],this.length=0}Mo.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var lh=Mo;function we(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}we.prototype.set=function(t,e,n,s){const i=t*this.size+e;this.data[i]=n,s&&(this.reservedBit[i]=!0)};we.prototype.get=function(t,e){return this.data[t*this.size+e]};we.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};we.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var ch=we,Do={};(function(t){const e=ct.getSymbolSize;t.getRowColCoords=function(s){if(s===1)return[];const i=Math.floor(s/7)+2,r=e(s),o=r===145?26:Math.ceil((r-13)/(2*i-2))*2,l=[r-7];for(let c=1;c<i-1;c++)l[c]=l[c-1]-o;return l.push(6),l.reverse()},t.getPositions=function(s){const i=[],r=t.getRowColCoords(s),o=r.length;for(let l=0;l<o;l++)for(let c=0;c<o;c++)l===0&&c===0||l===0&&c===o-1||l===o-1&&c===0||i.push([r[l],r[c]]);return i}})(Do);var Bo={};const uh=ct.getSymbolSize,Wi=7;Bo.getPositions=function(e){const n=uh(e);return[[0,0],[n-Wi,0],[0,n-Wi]]};var Vo={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const r=i.size;let o=0,l=0,c=0,d=null,u=null;for(let h=0;h<r;h++){l=c=0,d=u=null;for(let f=0;f<r;f++){let m=i.get(h,f);m===d?l++:(l>=5&&(o+=e.N1+(l-5)),d=m,l=1),m=i.get(f,h),m===u?c++:(c>=5&&(o+=e.N1+(c-5)),u=m,c=1)}l>=5&&(o+=e.N1+(l-5)),c>=5&&(o+=e.N1+(c-5))}return o},t.getPenaltyN2=function(i){const r=i.size;let o=0;for(let l=0;l<r-1;l++)for(let c=0;c<r-1;c++){const d=i.get(l,c)+i.get(l,c+1)+i.get(l+1,c)+i.get(l+1,c+1);(d===4||d===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){const r=i.size;let o=0,l=0,c=0;for(let d=0;d<r;d++){l=c=0;for(let u=0;u<r;u++)l=l<<1&2047|i.get(d,u),u>=10&&(l===1488||l===93)&&o++,c=c<<1&2047|i.get(u,d),u>=10&&(c===1488||c===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){let r=0;const o=i.data.length;for(let c=0;c<o;c++)r+=i.data[c];return Math.abs(Math.ceil(r*100/o/5)-10)*e.N4};function n(s,i,r){switch(s){case t.Patterns.PATTERN000:return(i+r)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return r%3===0;case t.Patterns.PATTERN011:return(i+r)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(r/3))%2===0;case t.Patterns.PATTERN101:return i*r%2+i*r%3===0;case t.Patterns.PATTERN110:return(i*r%2+i*r%3)%2===0;case t.Patterns.PATTERN111:return(i*r%3+(i+r)%2)%2===0;default:throw new Error("bad maskPattern:"+s)}}t.applyMask=function(i,r){const o=r.size;for(let l=0;l<o;l++)for(let c=0;c<o;c++)r.isReserved(c,l)||r.xor(c,l,n(i,c,l))},t.getBestMask=function(i,r){const o=Object.keys(t.Patterns).length;let l=0,c=1/0;for(let d=0;d<o;d++){r(d),t.applyMask(d,i);const u=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(d,i),u<c&&(c=u,l=d)}return l}})(Vo);var Je={};const Tt=Qe,Ee=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Re=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Je.getBlocksCount=function(e,n){switch(n){case Tt.L:return Ee[(e-1)*4+0];case Tt.M:return Ee[(e-1)*4+1];case Tt.Q:return Ee[(e-1)*4+2];case Tt.H:return Ee[(e-1)*4+3];default:return}};Je.getTotalCodewordsCount=function(e,n){switch(n){case Tt.L:return Re[(e-1)*4+0];case Tt.M:return Re[(e-1)*4+1];case Tt.Q:return Re[(e-1)*4+2];case Tt.H:return Re[(e-1)*4+3];default:return}};var ko={},Xe={};const le=new Uint8Array(512),_e=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)le[n]=e,_e[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)le[n]=le[n-255]})();Xe.log=function(e){if(e<1)throw new Error("log("+e+")");return _e[e]};Xe.exp=function(e){return le[e]};Xe.mul=function(e,n){return e===0||n===0?0:le[_e[e]+_e[n]]};(function(t){const e=Xe;t.mul=function(s,i){const r=new Uint8Array(s.length+i.length-1);for(let o=0;o<s.length;o++)for(let l=0;l<i.length;l++)r[o+l]^=e.mul(s[o],i[l]);return r},t.mod=function(s,i){let r=new Uint8Array(s);for(;r.length-i.length>=0;){const o=r[0];for(let c=0;c<i.length;c++)r[c]^=e.mul(i[c],o);let l=0;for(;l<r.length&&r[l]===0;)l++;r=r.slice(l)}return r},t.generateECPolynomial=function(s){let i=new Uint8Array([1]);for(let r=0;r<s;r++)i=t.mul(i,new Uint8Array([1,e.exp(r)]));return i}})(ko);const Io=ko;function Ps(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}Ps.prototype.initialize=function(e){this.degree=e,this.genPoly=Io.generateECPolynomial(this.degree)};Ps.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(e.length+this.degree);n.set(e);const s=Io.mod(n,this.genPoly),i=this.degree-s.length;if(i>0){const r=new Uint8Array(this.degree);return r.set(s,i),r}return s};var dh=Ps,Lo={},Nt={},As={};As.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var bt={};const Oo="[0-9]+",hh="[A-Z $%*+\\-./:]+";let ge="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";ge=ge.replace(/u/g,"\\u");const fh="(?:(?![A-Z0-9 $%*+\\-./:]|"+ge+`)(?:.|[\r
]))+`;bt.KANJI=new RegExp(ge,"g");bt.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");bt.BYTE=new RegExp(fh,"g");bt.NUMERIC=new RegExp(Oo,"g");bt.ALPHANUMERIC=new RegExp(hh,"g");const mh=new RegExp("^"+ge+"$"),ph=new RegExp("^"+Oo+"$"),gh=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");bt.testKanji=function(e){return mh.test(e)};bt.testNumeric=function(e){return ph.test(e)};bt.testAlphanumeric=function(e){return gh.test(e)};(function(t){const e=As,n=bt;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(r,o){if(!r.ccBits)throw new Error("Invalid mode: "+r);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?r.ccBits[0]:o<27?r.ccBits[1]:r.ccBits[2]},t.getBestModeForData=function(r){return n.testNumeric(r)?t.NUMERIC:n.testAlphanumeric(r)?t.ALPHANUMERIC:n.testKanji(r)?t.KANJI:t.BYTE},t.toString=function(r){if(r&&r.id)return r.id;throw new Error("Invalid mode")},t.isValid=function(r){return r&&r.bit&&r.ccBits};function s(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(r,o){if(t.isValid(r))return r;try{return s(r)}catch{return o}}})(Nt);(function(t){const e=ct,n=Je,s=Qe,i=Nt,r=As,o=7973,l=e.getBCHDigit(o);function c(f,m,y){for(let x=1;x<=40;x++)if(m<=t.getCapacity(x,y,f))return x}function d(f,m){return i.getCharCountIndicator(f,m)+4}function u(f,m){let y=0;return f.forEach(function(x){const b=d(x.mode,m);y+=b+x.getBitsLength()}),y}function h(f,m){for(let y=1;y<=40;y++)if(u(f,y)<=t.getCapacity(y,m,i.MIXED))return y}t.from=function(m,y){return r.isValid(m)?parseInt(m,10):y},t.getCapacity=function(m,y,x){if(!r.isValid(m))throw new Error("Invalid QR Code version");typeof x>"u"&&(x=i.BYTE);const b=e.getSymbolTotalCodewords(m),g=n.getTotalCodewordsCount(m,y),w=(b-g)*8;if(x===i.MIXED)return w;const v=w-d(x,m);switch(x){case i.NUMERIC:return Math.floor(v/10*3);case i.ALPHANUMERIC:return Math.floor(v/11*2);case i.KANJI:return Math.floor(v/13);case i.BYTE:default:return Math.floor(v/8)}},t.getBestVersionForData=function(m,y){let x;const b=s.from(y,s.M);if(Array.isArray(m)){if(m.length>1)return h(m,b);if(m.length===0)return 1;x=m[0]}else x=m;return c(x.mode,x.getLength(),b)},t.getEncodedBits=function(m){if(!r.isValid(m)||m<7)throw new Error("Invalid QR Code version");let y=m<<12;for(;e.getBCHDigit(y)-l>=0;)y^=o<<e.getBCHDigit(y)-l;return m<<12|y}})(Lo);var Fo={};const Un=ct,Uo=1335,yh=21522,Gi=Un.getBCHDigit(Uo);Fo.getEncodedBits=function(e,n){const s=e.bit<<3|n;let i=s<<10;for(;Un.getBCHDigit(i)-Gi>=0;)i^=Uo<<Un.getBCHDigit(i)-Gi;return(s<<10|i)^yh};var _o={};const xh=Nt;function Ht(t){this.mode=xh.NUMERIC,this.data=t.toString()}Ht.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};Ht.prototype.getLength=function(){return this.data.length};Ht.prototype.getBitsLength=function(){return Ht.getBitsLength(this.data.length)};Ht.prototype.write=function(e){let n,s,i;for(n=0;n+3<=this.data.length;n+=3)s=this.data.substr(n,3),i=parseInt(s,10),e.put(i,10);const r=this.data.length-n;r>0&&(s=this.data.substr(n),i=parseInt(s,10),e.put(i,r*3+1))};var vh=Ht;const bh=Nt,pn=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function qt(t){this.mode=bh.ALPHANUMERIC,this.data=t}qt.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};qt.prototype.getLength=function(){return this.data.length};qt.prototype.getBitsLength=function(){return qt.getBitsLength(this.data.length)};qt.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let s=pn.indexOf(this.data[n])*45;s+=pn.indexOf(this.data[n+1]),e.put(s,11)}this.data.length%2&&e.put(pn.indexOf(this.data[n]),6)};var wh=qt;const jh=Nt;function Yt(t){this.mode=jh.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}Yt.getBitsLength=function(e){return e*8};Yt.prototype.getLength=function(){return this.data.length};Yt.prototype.getBitsLength=function(){return Yt.getBitsLength(this.data.length)};Yt.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var Sh=Yt;const Ch=Nt,Th=ct;function Qt(t){this.mode=Ch.KANJI,this.data=t}Qt.getBitsLength=function(e){return e*13};Qt.prototype.getLength=function(){return this.data.length};Qt.prototype.getBitsLength=function(){return Qt.getBitsLength(this.data.length)};Qt.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=Th.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};var Ph=Qt,$o={exports:{}};(function(t){var e={single_source_shortest_paths:function(n,s,i){var r={},o={};o[s]=0;var l=e.PriorityQueue.make();l.push(s,0);for(var c,d,u,h,f,m,y,x,b;!l.empty();){c=l.pop(),d=c.value,h=c.cost,f=n[d]||{};for(u in f)f.hasOwnProperty(u)&&(m=f[u],y=h+m,x=o[u],b=typeof o[u]>"u",(b||x>y)&&(o[u]=y,l.push(u,y),r[u]=d))}if(typeof i<"u"&&typeof o[i]>"u"){var g=["Could not find a path from ",s," to ",i,"."].join("");throw new Error(g)}return r},extract_shortest_path_from_predecessor_list:function(n,s){for(var i=[],r=s;r;)i.push(r),n[r],r=n[r];return i.reverse(),i},find_path:function(n,s,i){var r=e.single_source_shortest_paths(n,s,i);return e.extract_shortest_path_from_predecessor_list(r,i)},PriorityQueue:{make:function(n){var s=e.PriorityQueue,i={},r;n=n||{};for(r in s)s.hasOwnProperty(r)&&(i[r]=s[r]);return i.queue=[],i.sorter=n.sorter||s.default_sorter,i},default_sorter:function(n,s){return n.cost-s.cost},push:function(n,s){var i={value:n,cost:s};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})($o);var Ah=$o.exports;(function(t){const e=Nt,n=vh,s=wh,i=Sh,r=Ph,o=bt,l=ct,c=Ah;function d(g){return unescape(encodeURIComponent(g)).length}function u(g,w,v){const T=[];let j;for(;(j=g.exec(v))!==null;)T.push({data:j[0],index:j.index,mode:w,length:j[0].length});return T}function h(g){const w=u(o.NUMERIC,e.NUMERIC,g),v=u(o.ALPHANUMERIC,e.ALPHANUMERIC,g);let T,j;return l.isKanjiModeEnabled()?(T=u(o.BYTE,e.BYTE,g),j=u(o.KANJI,e.KANJI,g)):(T=u(o.BYTE_KANJI,e.BYTE,g),j=[]),w.concat(v,T,j).sort(function(D,A){return D.index-A.index}).map(function(D){return{data:D.data,mode:D.mode,length:D.length}})}function f(g,w){switch(w){case e.NUMERIC:return n.getBitsLength(g);case e.ALPHANUMERIC:return s.getBitsLength(g);case e.KANJI:return r.getBitsLength(g);case e.BYTE:return i.getBitsLength(g)}}function m(g){return g.reduce(function(w,v){const T=w.length-1>=0?w[w.length-1]:null;return T&&T.mode===v.mode?(w[w.length-1].data+=v.data,w):(w.push(v),w)},[])}function y(g){const w=[];for(let v=0;v<g.length;v++){const T=g[v];switch(T.mode){case e.NUMERIC:w.push([T,{data:T.data,mode:e.ALPHANUMERIC,length:T.length},{data:T.data,mode:e.BYTE,length:T.length}]);break;case e.ALPHANUMERIC:w.push([T,{data:T.data,mode:e.BYTE,length:T.length}]);break;case e.KANJI:w.push([T,{data:T.data,mode:e.BYTE,length:d(T.data)}]);break;case e.BYTE:w.push([{data:T.data,mode:e.BYTE,length:d(T.data)}])}}return w}function x(g,w){const v={},T={start:{}};let j=["start"];for(let C=0;C<g.length;C++){const D=g[C],A=[];for(let V=0;V<D.length;V++){const L=D[V],F=""+C+V;A.push(F),v[F]={node:L,lastCount:0},T[F]={};for(let _=0;_<j.length;_++){const G=j[_];v[G]&&v[G].node.mode===L.mode?(T[G][F]=f(v[G].lastCount+L.length,L.mode)-f(v[G].lastCount,L.mode),v[G].lastCount+=L.length):(v[G]&&(v[G].lastCount=L.length),T[G][F]=f(L.length,L.mode)+4+e.getCharCountIndicator(L.mode,w))}}j=A}for(let C=0;C<j.length;C++)T[j[C]].end=0;return{map:T,table:v}}function b(g,w){let v;const T=e.getBestModeForData(g);if(v=e.from(w,T),v!==e.BYTE&&v.bit<T.bit)throw new Error('"'+g+'" cannot be encoded with mode '+e.toString(v)+`.
 Suggested mode is: `+e.toString(T));switch(v===e.KANJI&&!l.isKanjiModeEnabled()&&(v=e.BYTE),v){case e.NUMERIC:return new n(g);case e.ALPHANUMERIC:return new s(g);case e.KANJI:return new r(g);case e.BYTE:return new i(g)}}t.fromArray=function(w){return w.reduce(function(v,T){return typeof T=="string"?v.push(b(T,null)):T.data&&v.push(b(T.data,T.mode)),v},[])},t.fromString=function(w,v){const T=h(w,l.isKanjiModeEnabled()),j=y(T),C=x(j,v),D=c.find_path(C.map,"start","end"),A=[];for(let V=1;V<D.length-1;V++)A.push(C.table[D[V]].node);return t.fromArray(m(A))},t.rawSplit=function(w){return t.fromArray(h(w,l.isKanjiModeEnabled()))}})(_o);const Ze=ct,gn=Qe,Eh=lh,Rh=ch,Nh=Do,Mh=Bo,_n=Vo,$n=Je,Dh=dh,$e=Lo,Bh=Fo,Vh=Nt,yn=_o;function kh(t,e){const n=t.size,s=Mh.getPositions(e);for(let i=0;i<s.length;i++){const r=s[i][0],o=s[i][1];for(let l=-1;l<=7;l++)if(!(r+l<=-1||n<=r+l))for(let c=-1;c<=7;c++)o+c<=-1||n<=o+c||(l>=0&&l<=6&&(c===0||c===6)||c>=0&&c<=6&&(l===0||l===6)||l>=2&&l<=4&&c>=2&&c<=4?t.set(r+l,o+c,!0,!0):t.set(r+l,o+c,!1,!0))}}function Ih(t){const e=t.size;for(let n=8;n<e-8;n++){const s=n%2===0;t.set(n,6,s,!0),t.set(6,n,s,!0)}}function Lh(t,e){const n=Nh.getPositions(e);for(let s=0;s<n.length;s++){const i=n[s][0],r=n[s][1];for(let o=-2;o<=2;o++)for(let l=-2;l<=2;l++)o===-2||o===2||l===-2||l===2||o===0&&l===0?t.set(i+o,r+l,!0,!0):t.set(i+o,r+l,!1,!0)}}function Oh(t,e){const n=t.size,s=$e.getEncodedBits(e);let i,r,o;for(let l=0;l<18;l++)i=Math.floor(l/3),r=l%3+n-8-3,o=(s>>l&1)===1,t.set(i,r,o,!0),t.set(r,i,o,!0)}function xn(t,e,n){const s=t.size,i=Bh.getEncodedBits(e,n);let r,o;for(r=0;r<15;r++)o=(i>>r&1)===1,r<6?t.set(r,8,o,!0):r<8?t.set(r+1,8,o,!0):t.set(s-15+r,8,o,!0),r<8?t.set(8,s-r-1,o,!0):r<9?t.set(8,15-r-1+1,o,!0):t.set(8,15-r-1,o,!0);t.set(s-8,8,1,!0)}function Fh(t,e){const n=t.size;let s=-1,i=n-1,r=7,o=0;for(let l=n-1;l>0;l-=2)for(l===6&&l--;;){for(let c=0;c<2;c++)if(!t.isReserved(i,l-c)){let d=!1;o<e.length&&(d=(e[o]>>>r&1)===1),t.set(i,l-c,d),r--,r===-1&&(o++,r=7)}if(i+=s,i<0||n<=i){i-=s,s=-s;break}}}function Uh(t,e,n){const s=new Eh;n.forEach(function(c){s.put(c.mode.bit,4),s.put(c.getLength(),Vh.getCharCountIndicator(c.mode,t)),c.write(s)});const i=Ze.getSymbolTotalCodewords(t),r=$n.getTotalCodewordsCount(t,e),o=(i-r)*8;for(s.getLengthInBits()+4<=o&&s.put(0,4);s.getLengthInBits()%8!==0;)s.putBit(0);const l=(o-s.getLengthInBits())/8;for(let c=0;c<l;c++)s.put(c%2?17:236,8);return _h(s,t,e)}function _h(t,e,n){const s=Ze.getSymbolTotalCodewords(e),i=$n.getTotalCodewordsCount(e,n),r=s-i,o=$n.getBlocksCount(e,n),l=s%o,c=o-l,d=Math.floor(s/o),u=Math.floor(r/o),h=u+1,f=d-u,m=new Dh(f);let y=0;const x=new Array(o),b=new Array(o);let g=0;const w=new Uint8Array(t.buffer);for(let D=0;D<o;D++){const A=D<c?u:h;x[D]=w.slice(y,y+A),b[D]=m.encode(x[D]),y+=A,g=Math.max(g,A)}const v=new Uint8Array(s);let T=0,j,C;for(j=0;j<g;j++)for(C=0;C<o;C++)j<x[C].length&&(v[T++]=x[C][j]);for(j=0;j<f;j++)for(C=0;C<o;C++)v[T++]=b[C][j];return v}function $h(t,e,n,s){let i;if(Array.isArray(t))i=yn.fromArray(t);else if(typeof t=="string"){let d=e;if(!d){const u=yn.rawSplit(t);d=$e.getBestVersionForData(u,n)}i=yn.fromString(t,d||40)}else throw new Error("Invalid data");const r=$e.getBestVersionForData(i,n);if(!r)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=r;else if(e<r)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+r+`.
`);const o=Uh(e,n,i),l=Ze.getSymbolSize(e),c=new Rh(l);return kh(c,e),Ih(c),Lh(c,e),xn(c,n,0),e>=7&&Oh(c,e),Fh(c,o),isNaN(s)&&(s=_n.getBestMask(c,xn.bind(null,c,n))),_n.applyMask(s,c),xn(c,n,s),{modules:c,version:e,errorCorrectionLevel:n,maskPattern:s,segments:i}}No.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let s=gn.M,i,r;return typeof n<"u"&&(s=gn.from(n.errorCorrectionLevel,gn.M),i=$e.from(n.version),r=_n.from(n.maskPattern),n.toSJISFunc&&Ze.setToSJISFunction(n.toSJISFunc)),$h(e,i,s,r)};var zo={},Es={};(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let s=n.slice().replace("#","").split("");if(s.length<3||s.length===5||s.length>8)throw new Error("Invalid hex color: "+n);(s.length===3||s.length===4)&&(s=Array.prototype.concat.apply([],s.map(function(r){return[r,r]}))),s.length===6&&s.push("F","F");const i=parseInt(s.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+s.slice(0,6).join("")}}t.getOptions=function(s){s||(s={}),s.color||(s.color={});const i=typeof s.margin>"u"||s.margin===null||s.margin<0?4:s.margin,r=s.width&&s.width>=21?s.width:void 0,o=s.scale||4;return{width:r,scale:r?4:o,margin:i,color:{dark:e(s.color.dark||"#000000ff"),light:e(s.color.light||"#ffffffff")},type:s.type,rendererOpts:s.rendererOpts||{}}},t.getScale=function(s,i){return i.width&&i.width>=s+i.margin*2?i.width/(s+i.margin*2):i.scale},t.getImageWidth=function(s,i){const r=t.getScale(s,i);return Math.floor((s+i.margin*2)*r)},t.qrToImageData=function(s,i,r){const o=i.modules.size,l=i.modules.data,c=t.getScale(o,r),d=Math.floor((o+r.margin*2)*c),u=r.margin*c,h=[r.color.light,r.color.dark];for(let f=0;f<d;f++)for(let m=0;m<d;m++){let y=(f*d+m)*4,x=r.color.light;if(f>=u&&m>=u&&f<d-u&&m<d-u){const b=Math.floor((f-u)/c),g=Math.floor((m-u)/c);x=h[l[b*o+g]?1:0]}s[y++]=x.r,s[y++]=x.g,s[y++]=x.b,s[y]=x.a}}})(Es);(function(t){const e=Es;function n(i,r,o){i.clearRect(0,0,r.width,r.height),r.style||(r.style={}),r.height=o,r.width=o,r.style.height=o+"px",r.style.width=o+"px"}function s(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(r,o,l){let c=l,d=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(d=s()),c=e.getOptions(c);const u=e.getImageWidth(r.modules.size,c),h=d.getContext("2d"),f=h.createImageData(u,u);return e.qrToImageData(f.data,r,c),n(h,d,u),h.putImageData(f,0,0),d},t.renderToDataURL=function(r,o,l){let c=l;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const d=t.render(r,o,c),u=c.type||"image/png",h=c.rendererOpts||{};return d.toDataURL(u,h.quality)}})(zo);var Wo={};const zh=Es;function Ki(t,e){const n=t.a/255,s=e+'="'+t.hex+'"';return n<1?s+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':s}function vn(t,e,n){let s=t+e;return typeof n<"u"&&(s+=" "+n),s}function Wh(t,e,n){let s="",i=0,r=!1,o=0;for(let l=0;l<t.length;l++){const c=Math.floor(l%e),d=Math.floor(l/e);!c&&!r&&(r=!0),t[l]?(o++,l>0&&c>0&&t[l-1]||(s+=r?vn("M",c+n,.5+d+n):vn("m",i,0),i=0,r=!1),c+1<e&&t[l+1]||(s+=vn("h",o),o=0)):i++}return s}Wo.render=function(e,n,s){const i=zh.getOptions(n),r=e.modules.size,o=e.modules.data,l=r+i.margin*2,c=i.color.light.a?"<path "+Ki(i.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",d="<path "+Ki(i.color.dark,"stroke")+' d="'+Wh(o,r,i.margin)+'"/>',u='viewBox="0 0 '+l+" "+l+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+u+' shape-rendering="crispEdges">'+c+d+`</svg>
`;return typeof s=="function"&&s(null,f),f};const Gh=oh,zn=No,Go=zo,Kh=Wo;function Rs(t,e,n,s,i){const r=[].slice.call(arguments,1),o=r.length,l=typeof r[o-1]=="function";if(!l&&!Gh())throw new Error("Callback required as last argument");if(l){if(o<2)throw new Error("Too few arguments provided");o===2?(i=n,n=e,e=s=void 0):o===3&&(e.getContext&&typeof i>"u"?(i=s,s=void 0):(i=s,s=n,n=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(n=e,e=s=void 0):o===2&&!e.getContext&&(s=n,n=e,e=void 0),new Promise(function(c,d){try{const u=zn.create(n,s);c(t(u,e,s))}catch(u){d(u)}})}try{const c=zn.create(n,s);i(null,t(c,e,s))}catch(c){i(c)}}Kt.create=zn.create;Kt.toCanvas=Rs.bind(null,Go.render);Kt.toDataURL=Rs.bind(null,Go.renderToDataURL);Kt.toString=Rs.bind(null,function(t,e,n){return Kh.render(t,n)});function Hh(){const[t,e]=p.useState(""),[n,s]=p.useState(""),[i,r]=p.useState(""),[o,l]=p.useState(""),[c,d]=p.useState(""),[u,h]=p.useState(""),[f,m]=p.useState(!1),[y,x]=p.useState(""),[b,g]=p.useState(""),[w,v]=p.useState(""),[T,j]=p.useState([]),[C,D]=p.useState(""),[A,V]=p.useState(""),[L,F]=p.useState(""),_="http://103.91.205.153:3000",G=Ot(),X=[{value:"ME",label:"วิศวกรรมเครื่องกล"},{value:"EE",label:"วิศวกรรมไฟฟ้าสื่อสาร"},{value:"CYBER",label:"ความมั่นคงปลอดภัยทางไซเบอร์"},{value:"SCIEN",label:"วิทยาศาสตร์และเทคโนโลยี (EN)"},{value:"CE",label:"วิศวกรรมโยธา"},{value:"GEO",label:"วิศวกรรมแผนที่"},{value:"IE",label:"วิศวกรรมอุตสาหการ"},{value:"SCI",label:"วิทยาศาสตร์และเทคโนโลยี"},{value:"SOC",label:"สังคมศาสตร์เพื่อการพัฒนา"}];p.useEffect(()=>{const E=localStorage.getItem("token");E?(console.log("API URL:",_),fetch(`${_}/api/user/me`,{headers:{Authorization:`Bearer ${E}`}}).then(R=>R.json()).then(R=>{e(R.data.realname),s(R.data.userid),r(R.data.blood),l(R.data.gunNumber||"N/A"),d(R.data.major||"-"),h(R.data.point??"-"),m(R.data.admin??!1),j(R.data.adjustments||[]),D(R.data.club1||""),V(R.data.club2||""),F(R.data.club3||""),R.data.profileImage&&x(`data:image/jpeg;base64,${R.data.profileImage}`),k(R.data.userid),R.data.gunNumber&&M(R.data.gunNumber)})):G("/login")},[G]);const k=async E=>{try{const R=await Kt.toDataURL(E,{width:60});g(R)}catch(R){console.error("Error generating QR Code:",R)}},M=async E=>{try{const R=await Kt.toDataURL(E,{width:60});v(R)}catch(R){console.error("Error generating Gun QR Code:",R)}},P=()=>{G("/edit-profile")};return a.jsx("div",{className:"view-profile-bg",children:a.jsxs("div",{className:"view-profile-container",children:[a.jsxs("div",{className:"view-profile-header",children:[a.jsx("div",{className:"view-profile-avatar",children:y?a.jsx("img",{src:y,alt:"Profile",className:"view-profile-avatar-img"}):t?t[0]:""}),a.jsxs("div",{children:[a.jsx("div",{className:"view-profile-name",children:t}),a.jsx("div",{className:"view-profile-major",children:c}),a.jsx("button",{onClick:P,className:"btn",type:"button",children:"Edit profile"})]})]}),a.jsxs("div",{className:"view-profile-main-row",children:[a.jsxs("div",{className:"view-profile-card",children:[a.jsx("div",{className:"view-profile-card-title",children:"User details"}),a.jsxs("div",{className:"view-profile-row",children:[a.jsx("span",{children:"รหัสประจำตัว: "}),n]}),a.jsxs("div",{className:"view-profile-row",children:[a.jsx("span",{children:"หมู่โลหิต: "}),i]}),a.jsxs("div",{className:"view-profile-row",children:[a.jsx("span",{children:"หมายเลขปืน: "}),o]}),a.jsxs("div",{className:"view-profile-row",children:[a.jsx("span",{children:"สาขา: "}),(()=>{const E=X.find(R=>R.value===c||R.label===c);return E?E.label:c&&!c.startsWith("สาขาวิชา")?`สาขาวิชา${c}`:c})()]}),a.jsxs("div",{className:"view-profile-row",children:[a.jsx("span",{children:"คะแนนพฤติกรรม: "}),u]}),a.jsxs("div",{className:"view-profile-row",children:[a.jsx("span",{children:"สิทธิ์ผู้ดูแล: "}),f?"ผู้ดูแลระบบ":"ทั่วไป"]}),a.jsxs("div",{className:"view-profile-row",children:[a.jsx("span",{children:"ชมรม: "}),a.jsxs("ul",{style:{margin:0,paddingLeft:18},children:[C&&a.jsx("li",{children:C}),A&&a.jsx("li",{children:A}),L&&a.jsx("li",{children:L}),!C&&!A&&!L&&a.jsx("li",{style:{color:"#aaa"},children:"-"})]})]}),a.jsx("div",{className:"view-profile-card-subtitle",children:"ประวัติการปรับคะแนน"}),a.jsxs("div",{className:"view-profile-history",children:[T.length===0&&a.jsx("div",{style:{color:"#aaa"},children:"ไม่มีข้อมูล"}),T.map(E=>a.jsxs("div",{className:"view-profile-history-item",children:[a.jsxs("div",{children:["วันที่: ",new Date(E.date).toLocaleDateString()]}),a.jsxs("div",{children:["เปลี่ยนแปลง: ",a.jsxs("b",{children:[E.change>0?"+":"",E.change]})," (",E.reason,")"]}),a.jsxs("div",{children:["โดย: ",E.operator]})]},E.id))]})]}),a.jsxs("div",{className:"view-profile-card view-profile-qr-only",children:[a.jsx("div",{className:"view-profile-card-title",children:"QR Code"}),b&&a.jsx("img",{src:b,alt:"QR Code",className:"view-profile-qr-img"}),a.jsx("div",{className:"view-profile-card-title",style:{margin:"12px 0"},children:"Gun QR Code"}),w&&a.jsx("img",{src:w,alt:"Gun QR Code",className:"view-profile-qr-img"})]})]})]})})}function qh(){const t="http://103.91.205.153:3000",[e,n]=p.useState(""),[s,i]=p.useState(""),[r,o]=p.useState(""),[l,c]=p.useState([]),[d,u]=p.useState([]),[h,f]=p.useState({}),[m,y]=p.useState(""),[x,b]=p.useState(""),[g,w]=p.useState(!1),[v,T]=p.useState([]),[j,C]=p.useState(""),[D,A]=p.useState(""),[V,L]=p.useState(!1);p.useEffect(()=>{F()},[]);const F=async()=>{try{const U=await(await fetch(`${t}/api/public-gun`)).json();T(U)}catch{A("ไม่สามารถโหลดข้อมูลปืนสาธารณะ")}},_=async B=>{if(B.preventDefault(),!!j)try{(await fetch(`${t}/api/public-gun`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({gunQRCode:j})})).ok?(C(""),A("เพิ่มปืนสำเร็จ"),F()):A("เพิ่มปืนไม่สำเร็จ")}catch{A("เกิดข้อผิดพลาด")}},G=async B=>{if(window.confirm(`ลบปืน ${B} ?`))try{(await fetch(`${t}/api/public-gun`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({gunQRCode:B})})).ok?(A("ลบปืนสำเร็จ"),F()):A("ลบปืนไม่สำเร็จ")}catch{A("เกิดข้อผิดพลาด")}},X=()=>{const B=new Set;return l.filter(U=>{const W=`${U.userQRCode}_${U.gunQRCode}`;return B.has(W)?!1:(B.add(W),!0)})},k=()=>{const B=new Set;return d.filter(U=>{const W=`${U.userQRCode}_${U.gunQRCode}`;return B.has(W)?!1:(B.add(W),!0)})},M=()=>{const B=new Set(d.map(W=>`${W.userQRCode}_${W.gunQRCode}`)),U=new Set;return l.filter(W=>{const K=`${W.userQRCode}_${W.gunQRCode}`;return B.has(K)||U.has(K)?!1:(U.add(K),!0)})},P=B=>{if(B.preventDefault(),m&&x){n(m),i(x),o("กรอกข้อมูล QR Code สำเร็จ");const U=m,W=x;if(U&&W){const K=`${U}_${W}`;f(ot=>{const pt=(ot[K]||0)+1;return pt===2&&R(U,W),{...ot,[K]:pt}})}y(""),b("")}else o("กรุณากรอกข้อมูลให้ครบ")},E=(B,U)=>{U&&!e?(n(B),o("User QR Code Scanned")):!U&&!s&&(i(B),o("Gun QR Code Scanned"));const W=U?B:e,K=U?s:B;if(W&&K){const ot=`${W}_${K}`;f(pt=>{const Z=(pt[ot]||0)+1;return Z===2&&R(W,K),{...pt,[ot]:Z}})}},R=async(B,U)=>{try{const K=await(await fetch(`${t}/api/get-user-details?userQRCode=${B}`)).json();if(K.success){const{realname:ot}=K,pt=new Date().toLocaleString();u(Z=>Z.some(je=>je.userQRCode===B&&je.gunQRCode===U)?Z:[...Z,{userQRCode:B,gunQRCode:U,realname:ot,time:pt}])}else o("Error: Unable to fetch user details")}catch{o("Error: Failed to fetch user data")}},et=B=>{const U=B?"user-qr-reader":"gun-qr-reader",W=new aa(U,{fps:30,qrbox:350});W.render(K=>{E(K,B),W.clear()},K=>{console.log("Scan failed:",K)})},te=async()=>{try{const U=await(await fetch(`${t}/api/check-gun-borrowing`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userQRCode:e,gunQRCode:s})})).json();if(U.success){o("Gun Borrowing Successful");const K={realname:U.realname,userQRCode:e,gunQRCode:s,time:new Date().toLocaleString()};c(ot=>ot.some(Z=>Z.userQRCode===K.userQRCode&&Z.gunQRCode===K.gunQRCode)?ot:[...ot,K])}else o("QR Codes do not match")}catch{o("Error: Unable to process request")}};p.useEffect(()=>{e&&s&&te()},[e,s]);const St=()=>{n(""),i(""),o("")},tn=()=>{const B=M(),U=window.open("","","width=800,height=600");U.document.write(`
            <html>
            <head>
                <title>Gun Borrowing Report</title>
                <style>
                    body { font-family: Arial, sans-serif; padding: 24px; }
                    table { border-collapse: collapse; width: 100%; margin-bottom: 24px; }
                    th, td { border: 1px solid #888; padding: 8px; text-align: left; }
                    th { background: #f0f0f0; }
                </style>
            </head>
            <body>
                <div><b>จำนวนการเบิก:</b> ${X().length}</div>
                <div><b>จำนวนการคืน:</b> ${k().length}</div>
                <h3 style="margin-top:24px;">รายชื่อที่ยังไม่ได้คืน</h3>
                <table>
                    <thead>
                        <tr>
                            <th>User Name</th>
                            <th>Gun QR Code</th>
                            <th>Time</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${B.length===0?'<tr><td colspan="3" style="text-align:center;">-</td></tr>':B.map(W=>`
                                <tr>
                                    <td>${W.realname}</td>
                                    <td>${W.gunQRCode}</td>
                                    <td>${W.time}</td>
                                </tr>
                            `).join("")}
                    </tbody>
                </table>
            </body>
            </html>
        `),U.document.close(),U.print()};return a.jsxs("div",{className:"gun-borrowing-bg",children:[a.jsxs("div",{className:"gun-borrowing-main",children:[a.jsx("h1",{children:"Gun Borrowing"}),a.jsxs("div",{style:{marginBottom:24},children:[a.jsxs("div",{style:{marginBottom:12},children:[a.jsx("label",{style:{fontWeight:500,color:"#1976d2"},children:"User QR Code"}),a.jsx("div",{id:"user-qr-reader",style:{width:"100%",margin:"8px 0"}}),a.jsx("button",{onClick:()=>et(!0),children:"Scan User QR Code"}),a.jsxs("div",{style:{marginTop:8,color:"#333"},children:[a.jsx("b",{children:"Scanned:"})," ",e||a.jsx("span",{style:{color:"#aaa"},children:"None"})]})]}),a.jsxs("div",{style:{marginBottom:12},children:[a.jsx("label",{style:{fontWeight:500,color:"#1976d2"},children:"Gun QR Code"}),a.jsx("div",{id:"gun-qr-reader",style:{width:"100%",margin:"8px 0"}}),a.jsx("button",{onClick:()=>et(!1),children:"Scan Gun QR Code"}),a.jsxs("div",{style:{marginTop:8,color:"#333"},children:[a.jsx("b",{children:"Scanned:"})," ",s||a.jsx("span",{style:{color:"#aaa"},children:"None"})]})]}),a.jsx("button",{onClick:St,children:"Repeat Scanning"}),a.jsx("button",{type:"button",className:"gun-borrowing-print-btn",style:{width:"100%",marginTop:16,marginBottom:g?0:16},onClick:()=>w(B=>!B),children:g?"ปิดฟอร์มกรอกข้อมูล":"กรอกข้อมูลด้วยตนเอง"}),g&&a.jsxs("form",{onSubmit:P,style:{margin:"16px 0 0 0",background:"#f7fafd",borderRadius:10,padding:16},children:[a.jsxs("div",{style:{marginBottom:10,color:"#1976d2",fontWeight:500},children:["หรือ ",a.jsx("span",{style:{color:"#1976d2",fontWeight:700},children:"กรอกข้อมูล"})," ด้วยตนเอง"]}),a.jsx("input",{type:"text",placeholder:"User ID",value:m,onChange:B=>y(B.target.value),style:{width:"100%",padding:"10px",borderRadius:8,border:"1px solid #d1d9e6",marginBottom:10,fontSize:"1rem",boxSizing:"border-box"}}),a.jsx("input",{type:"text",placeholder:"Gun Number",value:x,onChange:B=>b(B.target.value),style:{width:"100%",padding:"10px",borderRadius:8,border:"1px solid #d1d9e6",marginBottom:10,fontSize:"1rem",boxSizing:"border-box"}}),a.jsx("button",{type:"submit",className:"gun-borrowing-print-btn",style:{width:"100%",marginTop:8},children:"ยืนยันข้อมูล"})]}),r&&a.jsx("div",{className:`gun-borrowing-status ${r.includes("Successful")?"success":"error"}`,children:r})]}),a.jsxs("div",{style:{background:"#f7fafd",borderRadius:10,padding:16,margin:"24px 0"},children:[a.jsx("h2",{style:{color:"#1976d2",fontSize:"1.1rem",marginBottom:8},children:"ปืนสาธารณะ (Public Gun)"}),a.jsx("button",{type:"button",className:"gun-borrowing-print-btn",style:{width:"100%",marginBottom:V?0:16},onClick:()=>L(B=>!B),children:V?"ปิดฟอร์มเพิ่มปืน":"เพิ่มปืนสาธารณะ"}),V&&a.jsxs("form",{onSubmit:_,style:{display:"flex",gap:8,margin:"16px 0 12px 0"},children:[a.jsx("input",{type:"text",placeholder:"Gun QR Code",value:j,onChange:B=>C(B.target.value),style:{flex:1,padding:"8px",borderRadius:6,border:"1px solid #d1d9e6",fontSize:"1rem"}}),a.jsx("button",{type:"submit",className:"gun-borrowing-print-btn",style:{minWidth:90},children:"เพิ่ม"})]}),D&&a.jsx("div",{style:{color:"#1976d2",marginBottom:8},children:D}),a.jsx("div",{style:{maxHeight:120,overflowY:"auto"},children:a.jsxs("table",{style:{width:"100%",fontSize:"1rem"},children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{style:{width:"70%"},children:"Gun QR Code"}),a.jsx("th",{style:{width:"30%"},children:"ลบ"})]})}),a.jsx("tbody",{children:v.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:2,style:{color:"#888",textAlign:"center"},children:"ไม่มีข้อมูล"})}):v.map(B=>a.jsxs("tr",{children:[a.jsx("td",{children:B.gunQRCode}),a.jsx("td",{children:a.jsx("button",{type:"button",style:{background:"#e53935",color:"#fff",border:"none",borderRadius:6,padding:"4px 12px",cursor:"pointer"},onClick:()=>G(B.gunQRCode),children:"ลบ"})})]},B.gunQRCode))})]})})]}),a.jsx("div",{className:"gun-borrowing-print-row",style:{display:"flex",justifyContent:"center",maxWidth:1200,margin:"0 auto 16px auto"},children:a.jsx("button",{className:"gun-borrowing-print-btn",onClick:tn,children:"พิมพ์รายงาน"})})]}),a.jsxs("div",{className:"gun-borrowing-list-row",children:[a.jsxs("div",{className:"gun-borrowing-list-card",children:[a.jsx("h2",{style:{color:"#2563eb"},children:"รายการเบิกอาวุธ"}),a.jsxs("p",{children:["จำนวนการเบิก: ",a.jsx("b",{children:X().length})]}),X().length===0?a.jsx("p",{className:"text-center mt-4",style:{color:"#888"},children:"No borrow records available"}):a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"User Name"}),a.jsx("th",{children:"Gun QR Code"}),a.jsx("th",{children:"Time"})]})}),a.jsx("tbody",{children:X().map((B,U)=>a.jsxs("tr",{children:[a.jsx("td",{children:B.realname}),a.jsx("td",{children:B.gunQRCode}),a.jsx("td",{children:B.time})]},U))})]})]}),a.jsxs("div",{className:"gun-borrowing-list-card",children:[a.jsx("h2",{style:{color:"#2563eb"},children:"รายการส่งคืนอาวุธ"}),a.jsxs("p",{children:["จำนวนการส่งคืน: ",a.jsx("b",{children:k().length})]}),k().length===0?a.jsx("p",{className:"text-center mt-4",style:{color:"#888"},children:"No users scanned both QR codes twice"}):a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"User Name"}),a.jsx("th",{children:"Gun QR Code"}),a.jsx("th",{children:"Time"}),a.jsx("th",{children:"Status"})]})}),a.jsx("tbody",{children:k().map((B,U)=>a.jsxs("tr",{children:[a.jsx("td",{children:B.realname}),a.jsx("td",{children:B.gunQRCode}),a.jsx("td",{children:B.time}),a.jsx("td",{style:{color:"#388e3c",fontWeight:600},children:"✅"})]},U))})]})]}),a.jsxs("div",{className:"gun-borrowing-list-card",children:[a.jsx("h2",{style:{color:"#2563eb"},children:"รายชื่อที่ยังไม่ได้คืน"}),a.jsxs("p",{children:["จำนวน: ",a.jsx("b",{children:M().length})]}),M().length===0?a.jsx("p",{className:"text-center mt-4",style:{color:"#888"},children:"ไม่มีข้อมูล"}):a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"User Name"}),a.jsx("th",{children:"Gun QR Code"}),a.jsx("th",{children:"Time"})]})}),a.jsx("tbody",{children:M().map((B,U)=>a.jsxs("tr",{children:[a.jsx("td",{children:B.realname}),a.jsx("td",{children:B.gunQRCode}),a.jsx("td",{children:B.time})]},U))})]})]})]})]})}const Yh="/assets/logo-9e493622.jpeg";var Ko={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Hi=Pt.createContext&&Pt.createContext(Ko),Qh=["attr","size","title"];function Jh(t,e){if(t==null)return{};var n=Xh(t,e),s,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function Xh(t,e){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;n[s]=t[s]}return n}function ze(){return ze=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ze.apply(this,arguments)}function qi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function We(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qi(Object(n),!0).forEach(function(s){Zh(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qi(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Zh(t,e,n){return e=tf(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tf(t){var e=ef(t,"string");return typeof e=="symbol"?e:e+""}function ef(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ho(t){return t&&t.map((e,n)=>Pt.createElement(e.tag,We({key:n},e.attr),Ho(e.child)))}function qo(t){return e=>Pt.createElement(nf,ze({attr:We({},t.attr)},e),Ho(t.child))}function nf(t){var e=n=>{var{attr:s,size:i,title:r}=t,o=Jh(t,Qh),l=i||n.size||"1em",c;return n.className&&(c=n.className),t.className&&(c=(c?c+" ":"")+t.className),Pt.createElement("svg",ze({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,o,{className:c,style:We(We({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),r&&Pt.createElement("title",null,r),t.children)};return Hi!==void 0?Pt.createElement(Hi.Consumer,null,n=>e(n)):e(Ko)}function sf(t){return qo({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M16 7.992C16 3.58 12.416 0 8 0S0 3.58 0 7.992c0 2.43 1.104 4.62 2.832 6.09.016.016.032.016.032.032.144.112.288.224.448.336.08.048.144.111.224.175A7.98 7.98 0 0 0 8.016 16a7.98 7.98 0 0 0 4.48-1.375c.08-.048.144-.111.224-.16.144-.111.304-.223.448-.335.016-.016.032-.016.032-.032 1.696-1.487 2.8-3.676 2.8-6.106zm-8 7.001c-1.504 0-2.88-.48-4.016-1.279.016-.128.048-.255.08-.383a4.17 4.17 0 0 1 .416-.991c.176-.304.384-.576.64-.816.24-.24.528-.463.816-.639.304-.176.624-.304.976-.4A4.15 4.15 0 0 1 8 10.342a4.185 4.185 0 0 1 2.928 1.166c.368.368.656.8.864 1.295.112.288.192.592.24.911A7.03 7.03 0 0 1 8 14.993zm-2.448-7.4a2.49 2.49 0 0 1-.208-1.024c0-.351.064-.703.208-1.023.144-.32.336-.607.576-.847.24-.24.528-.431.848-.575.32-.144.672-.208 1.024-.208.368 0 .704.064 1.024.208.32.144.608.336.848.575.24.24.432.528.576.847.144.32.208.672.208 1.023 0 .368-.064.704-.208 1.023a2.84 2.84 0 0 1-.576.848 2.84 2.84 0 0 1-.848.575 2.715 2.715 0 0 1-2.064 0 2.84 2.84 0 0 1-.848-.575 2.526 2.526 0 0 1-.56-.848zm7.424 5.306c0-.032-.016-.048-.016-.08a5.22 5.22 0 0 0-.688-1.406 4.883 4.883 0 0 0-1.088-1.135 5.207 5.207 0 0 0-1.04-.608 2.82 2.82 0 0 0 .464-.383 4.2 4.2 0 0 0 .624-.784 3.624 3.624 0 0 0 .528-1.934 3.71 3.71 0 0 0-.288-1.47 3.799 3.799 0 0 0-.816-1.199 3.845 3.845 0 0 0-1.2-.8 3.72 3.72 0 0 0-1.472-.287 3.72 3.72 0 0 0-1.472.288 3.631 3.631 0 0 0-1.2.815 3.84 3.84 0 0 0-.8 1.199 3.71 3.71 0 0 0-.288 1.47c0 .352.048.688.144 1.007.096.336.224.64.4.927.16.288.384.544.624.784.144.144.304.271.48.383a5.12 5.12 0 0 0-1.04.624c-.416.32-.784.703-1.088 1.119a4.999 4.999 0 0 0-.688 1.406c-.016.032-.016.064-.016.08C1.776 11.636.992 9.91.992 7.992.992 4.14 4.144.991 8 .991s7.008 3.149 7.008 7.001a6.96 6.96 0 0 1-2.032 4.907z"},child:[]}]})(t)}function rf(t){return qo({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M14 5H2V3h12v2zm0 4H2V7h12v2zM2 13h12v-2H2v2z"},child:[]}]})(t)}function of(){var L;const[t,e]=p.useState(""),[n,s]=p.useState(""),[i,r]=p.useState(""),[o,l]=p.useState(""),[c,d]=p.useState(""),[u,h]=p.useState(!1),[f,m]=p.useState(!1),y="http://103.91.205.153:3000",x=Ot(),b=Yi(),g=p.useRef(null),w=p.useRef(null),v=[{value:"ME",label:"วิศวกรรมเครื่องกล"},{value:"EE",label:"วิศวกรรมไฟฟ้าสื่อสาร"},{value:"CYBER",label:"ความมั่นคงปลอดภัยทางไซเบอร์"},{value:"SCIEN",label:"วิทยาศาสตร์และเทคโนโลยี (EN)"},{value:"CE",label:"วิศวกรรมโยธา"},{value:"GEO",label:"วิศวกรรมแผนที่"},{value:"IE",label:"วิศวกรรมอุตสาหการ"},{value:"SCI",label:"วิทยาศาสตร์และเทคโนโลยี"},{value:"SOC",label:"สังคมศาสตร์เพื่อการพัฒนา"}];p.useEffect(()=>{const F=localStorage.getItem("token");!F&&b.pathname!=="/login"&&b.pathname!=="/register"?x("/login"):F&&fetch(`${y}/api/user/${F}`).then(_=>_.json()).then(_=>{_.data&&(e(_.data.realname),s(_.data.userid),r(_.data.blood),l(_.data.major),_.data.profileImage?d(`data:image/jpeg;base64,${_.data.profileImage}`):d(""))})},[x,b]);const T=()=>{h(F=>(F||m(!1),!F))},j=()=>{m(F=>(F||h(!1),!F))},C=()=>{localStorage.removeItem("token"),h(!1),x("/login")},D=()=>{x("/")},A=()=>{h(!1),x("/edit-profile")},V=()=>{h(!1),x("/view-profile")};return p.useEffect(()=>{function F(_){g.current&&!g.current.contains(_.target)&&w.current&&!w.current.contains(_.target)&&(h(!1),m(!1))}return document.addEventListener("mousedown",F),()=>{document.removeEventListener("mousedown",F)}},[]),a.jsxs("nav",{className:"navbar bg-white text-black shadow-md border-b border-gray-300 flex items-center justify-between px-4 py-2",children:[a.jsx("div",{className:"flex items-center",children:a.jsxs("span",{className:"btn btn-ghost normal-case text-xl text-black flex items-center cursor-pointer",onClick:D,children:[a.jsx("img",{src:Yh,alt:"Logo",className:"logo-img"}),a.jsx("span",{className:"ml-2",children:"CRMA"})]})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{ref:w,className:"relative",children:[a.jsx("button",{className:"btn btn-ghost",onClick:j,children:a.jsx(rf,{size:28})}),a.jsx(Le,{children:f&&a.jsxs(Ue.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.18},className:"absolute right-0 mt-2 w-48 bg-white border border-gray-300 rounded shadow-md z-50 dropdown-content show",children:[a.jsx("p",{className:"block px-4 py-2 text-black cursor-pointer hover:bg-gray-200",onClick:()=>{m(!1),x("/gun-borrowing")},children:"เบิก / คืน อาวุธปืน"}),a.jsx("p",{className:"block px-4 py-2 text-black cursor-pointer hover:bg-gray-200",onClick:()=>{m(!1),x("/behavior-point")},children:"ตัดคะแนนความประพฤติ"}),a.jsx("p",{className:"block px-4 py-2 text-black cursor-pointer hover:bg-gray-200",onClick:()=>{m(!1),x("/summary")},children:"เช็คใบยอด"})]})})]}),a.jsxs("div",{ref:g,className:"relative",children:[a.jsx("button",{className:"btn btn-ghost",onClick:T,children:a.jsx(sf,{size:28})}),a.jsx(Le,{children:u&&a.jsxs(Ue.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.18},className:"dropdown-content show absolute right-0 mt-2 w-52 bg-white border border-gray-300 rounded shadow-md z-50 p-4",children:[c?a.jsx("img",{src:c,alt:"Profile",className:"dropdown-profile-img mb-2 rounded-full w-16 h-16 object-cover mx-auto"}):a.jsx("div",{className:"dropdown-profile-img mb-2 rounded-full w-16 h-16 bg-gray-300 mx-auto flex items-center justify-center text-gray-600",children:"No Image"}),a.jsxs("p",{children:[a.jsx("strong",{children:"ชื่อ:"})," ",t]}),a.jsxs("p",{children:[a.jsx("strong",{children:"User ID:"})," ",n]}),a.jsxs("p",{children:[a.jsx("strong",{children:"สาขา:"})," ",((L=v.find(F=>F.value===o))==null?void 0:L.label)||o]}),a.jsxs("div",{className:"mt-3 space-y-1",children:[a.jsx("p",{className:"btn btn-ghost text-left w-full edit-profile-item",onClick:A,children:"Edit Profile"}),a.jsx("p",{className:"btn btn-ghost text-left w-full view-profile-item",onClick:V,children:"View Profile"}),a.jsx("p",{className:"btn btn-ghost text-left w-full logout-item",onClick:C,children:"Logout"})]})]})})]})]})]})}function af(){const[t,e]=p.useState([]),[n,s]=p.useState(!1),[i,r]=p.useState([]),[o,l]=p.useState(null),[c,d]=p.useState(""),[u,h]=p.useState([]),[f,m]=p.useState(""),[y,x]=p.useState(""),[b,g]=p.useState({date:"",time:"",battalion:"",company:"",total:"",other:"",note:"",total_year_5:"",total_year_4:"",total_year_3:"",total_year_2:"",total_year_1:""}),[w,v]=p.useState([{key:"",value:"",names:[""],counted:!0}]),[T,j]=p.useState({}),[C,D]=p.useState({}),[A,V]=p.useState(null),[L,F]=p.useState({}),[_,G]=p.useState(!1),[X,k]=p.useState(null),[M,P]=p.useState(null),E="http://103.91.205.153:3000";p.useEffect(()=>{console.log("API URL:",E),fetch(`${E}/api/summary`).then(S=>S.json()).then(S=>{e(S.data||[]),h(S.data||[])})},[]),p.useEffect(()=>{const S=localStorage.getItem("token");fetch(`${E}/api/user/me`,{headers:{Authorization:`Bearer ${S}`}}).then(N=>N.json()).then(N=>{if(N.data&&(m(N.data.realname||""),x(N.data.year||"")),N.data&&N.data.other)try{const O=typeof N.data.other=="string"?JSON.parse(N.data.other):N.data.other;r(Array.isArray(O)?O.map($=>({...$,value:Number($.value)||1})):[]);const z={};(Array.isArray(O)?O:[]).forEach(($,H)=>{z[H]=!0}),l(z)}catch{r([]),l({})}})},[]);const R=S=>{l(S)},et=S=>{d(S.target.value)},te=async()=>{var lt,Se;if(!c){alert("กรุณาเลือกใบยอด");return}const S=u.find(gt=>String(gt.id)===String(c));if(!S){alert("ไม่พบใบยอดที่เลือก");return}let N={};try{N=S.other?JSON.parse(S.other):{}}catch{}const O={...N};if(o==null){alert("กรุณาเลือกอย่างน้อย 1 รายการ");return}const z=f&&y?`${f}(${y})`:f||"";let $=!1;if(Object.values(N).forEach(gt=>{Array.isArray(gt.names)&&gt.names.includes(z)&&($=!0)}),$){alert("คุณได้ส่งยอดในใบนี้ไปแล้ว");return}const H=i[o];if(H&&H.key){const gt=Number((lt=N[H.key])==null?void 0:lt.count)||0,Xo=Number(H.value)||1,Zo=Array.isArray((Se=N[H.key])==null?void 0:Se.names)?N[H.key].names:[],ta=z?[z]:[],ea=Array.from(new Set([...Zo,...ta].filter(Boolean)));O[H.key]={count:gt+Xo,names:ea}}else{alert("กรุณาเลือกอย่างน้อย 1 รายการ");return}(await fetch(`${E}/api/summary?id=${S.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...S,other:O})})).ok&&(alert("ส่งยอดจำหน่ายสำเร็จ"),d(""),l(null),fetch(`${E}/api/summary`).then(gt=>gt.json()).then(gt=>e(gt.data||[])),s(!1))},St=S=>g({...b,[S.target.name]:S.target.value}),tn=Number(b.total)||0,B=w.reduce((S,N)=>N.counted!==!1?S+(Number(N.value)||0):S,0),U=tn-B,W=["5","4","3","2","1"].reduce((S,N)=>(S[N]=Number(b[`total_year_${N}`])||0,S),{});Object.values(W).reduce((S,N)=>S+N,0);const K=S=>{g({date:S.date,time:S.time,battalion:String(S.battalion),company:String(S.company),total:String(S.total),note:S.note||"",other:"",total_year_5:S.total_year_5||"",total_year_4:S.total_year_4||"",total_year_3:S.total_year_3||"",total_year_2:S.total_year_2||"",total_year_1:S.total_year_1||""});try{const N=JSON.parse(S.other);v(Object.entries(N).map(([O,z])=>({key:O,value:z.count,names:z.names&&Array.isArray(z.names)?z.names:[""],counted:z.counted!==!1})))}catch{v([{key:"",value:"",names:[""],counted:!0}])}V(S.id),window.scrollTo({top:0,behavior:"smooth"})},ot=async S=>{window.confirm("ต้องการลบข้อมูลนี้ใช่หรือไม่?")&&(await fetch(`${E}/api/summary?id=${S}`,{method:"DELETE"}),e(N=>N.filter(O=>O.id!==S)))},pt=async S=>{S.preventDefault();const N={};w.forEach(lt=>{lt.key&&(N[lt.key]={count:lt.value,names:lt.names.filter(Se=>Se),counted:lt.counted!==!1})});const O=A?"PUT":"POST",z=A?`${E}/api/summary?id=${A}`:`${E}/api/summary`,$={...b,battalion:Number(b.battalion),company:Number(b.company),total:Number(b.total),other:N,total_year_5:b.total_year_5,total_year_4:b.total_year_4,total_year_3:b.total_year_3,total_year_2:b.total_year_2,total_year_1:b.total_year_1},at=await(await fetch(z,{method:O,headers:{"Content-Type":"application/json"},body:JSON.stringify($)})).json();at.success&&(A?(e(t.map(lt=>lt.id===A?at.data:lt)),V(null)):e([at.data,...t]),g({date:"",time:"",battalion:"",company:"",total:"",other:"",note:"",total_year_5:"",total_year_4:"",total_year_3:"",total_year_2:"",total_year_1:""}),v([{key:"",value:"",names:[""],counted:!0}]))},Z={};t.forEach(S=>{Z[S.battalion]||(Z[S.battalion]={}),Z[S.battalion][S.company]||(Z[S.battalion][S.company]=[]),Z[S.battalion][S.company].push(S)});const je=S=>{j(N=>({...N,[S]:!N[S]}))},Yo=(S,N)=>{D(O=>({...O,[`${S}-${N}`]:!O[`${S}-${N}`]}))},Qo=(S,N)=>{k(S),P(N),G(!0)},Jo=async(S,N,O)=>{const z=t.find(H=>H.id===S);if(!z)return;let $={};try{$=z.other?JSON.parse(z.other):{}}catch{}!$[N]||!Array.isArray($[N].names)||($[N].names=$[N].names.filter(H=>H!==O),$[N].names.length===0&&delete $[N],await fetch(`${E}/api/summary?id=${S}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...z,other:$})}),e(H=>H.map(at=>at.id===S?{...at,other:JSON.stringify($)}:at)),Object.keys($).length===0?G(!1):k($))};return a.jsxs("div",{className:"summary-container",children:[a.jsxs("div",{style:{marginBottom:32},children:[a.jsx("h4",{style:{color:"#007bff",marginBottom:8},children:"สถานะการส่งยอดจำหน่ายของคุณ"}),a.jsxs("table",{className:"summary-table",style:{minWidth:400},children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"วันที่"}),a.jsx("th",{children:"เวลา"}),a.jsx("th",{children:"กองพัน"}),a.jsx("th",{children:"กองร้อย"}),a.jsx("th",{children:"สถานะ"}),a.jsx("th",{children:"รายการที่ส่ง"})]})}),a.jsx("tbody",{children:u.map(S=>{let N=!1,O=[];try{const z=S.other?JSON.parse(S.other):{},$=f&&y?`${f}(${y})`:f||"";Object.entries(z).forEach(([H,at])=>{Array.isArray(at.names)&&at.names.includes($)&&(N=!0,O.push(H))})}catch{}return a.jsxs("tr",{children:[a.jsx("td",{children:S.date}),a.jsx("td",{children:S.time}),a.jsx("td",{children:S.battalion}),a.jsx("td",{children:S.company}),a.jsx("td",{children:N?a.jsx("span",{style:{color:"#19d254",fontWeight:500},children:"ส่งจำหน่ายแล้ว"}):a.jsx("span",{style:{color:"#e53935",fontWeight:500},children:"ยังไม่ได้ส่ง"})}),a.jsx("td",{children:O.length>0?O.map((z,$)=>a.jsxs("span",{children:[z,$<O.length-1?", ":""]},z)):"-"})]},S.id)})})]})]}),a.jsxs("div",{style:{marginBottom:32,border:"2px solid #007bff",borderRadius:8,padding:16,background:"#f8faff"},children:[a.jsx("h3",{style:{color:"#007bff"},children:"ส่งยอดจำหน่าย (สำหรับผู้ใช้ทั่วไป)"}),n?a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:{marginBottom:8},children:[a.jsx("b",{children:"เลือกใบยอดที่ต้องการลงยอด:"}),a.jsxs("select",{value:c,onChange:et,style:{marginLeft:8},children:[a.jsx("option",{value:"",children:"-- เลือกใบยอด --"}),u.map(S=>a.jsxs("option",{value:S.id,children:[S.date," | ",S.time," | กองพัน ",S.battalion," กองร้อย ",S.company]},S.id))]})]}),a.jsxs("div",{style:{marginBottom:8},children:[a.jsx("b",{children:"รายการจำหน่ายของคุณ:"}),i.length===0&&a.jsx("div",{style:{color:"#888"},children:"ไม่มีรายการจำหน่าย"}),i.map((S,N)=>{let O=!1;if(c){const z=u.find($=>String($.id)===String(c));if(z)try{const $=z.other?JSON.parse(z.other):{},H=f&&y?`${f}(${y})`:f||"";$[S.key]&&Array.isArray($[S.key].names)&&$[S.key].names.includes(H)&&(O=!0)}catch{}}return a.jsxs("div",{style:{display:"flex",gap:8,marginBottom:4,alignItems:"center"},children:[a.jsx("input",{type:"checkbox",checked:o===N,onChange:()=>R(N),style:{marginRight:4},disabled:O}),a.jsxs("span",{style:{flex:2},children:[S.key,O&&a.jsx("span",{style:{color:"#1976d2",fontWeight:500,marginLeft:8},children:"(คุณส่งยอดนี้แล้ว)✅"})]}),a.jsxs("span",{style:{flex:1},children:["จำนวน ",S.value]})]},N)})]}),a.jsxs("div",{style:{display:"flex",gap:8},children:[a.jsx("button",{className:"btn btn-primary",style:{marginBottom:0},onClick:te,children:"ส่งยอดจำหน่าย"}),a.jsx("button",{type:"button",className:"btn",style:{marginBottom:0,background:"#eee",color:"#333"},onClick:()=>{d(""),l(null),s(!1)},children:"ยกเลิก"})]})]}):a.jsx("button",{className:"btn btn-primary",onClick:()=>s(!0),style:{marginBottom:0},children:"+ เพิ่มส่งยอดจำหน่าย"})]}),a.jsx("h2",{children:"สร้างใบยอด(สำหรับตัวแทนชั้น)"}),a.jsxs("form",{className:"summary-form",onSubmit:pt,style:{marginBottom:32},children:[a.jsxs("div",{style:{display:"flex",gap:8,marginBottom:8},children:[a.jsxs("select",{name:"battalion",value:b.battalion,onChange:St,required:!0,children:[a.jsx("option",{value:"",children:"เลือกกองพัน"}),a.jsx("option",{value:"1",children:"กองพัน 1"}),a.jsx("option",{value:"2",children:"กองพัน 2"}),a.jsx("option",{value:"3",children:"กองพัน 3"}),a.jsx("option",{value:"4",children:"กองพัน 4"})]}),a.jsxs("select",{name:"company",value:b.company,onChange:St,required:!0,children:[a.jsx("option",{value:"",children:"เลือกกองร้อย"}),a.jsx("option",{value:"1",children:"กองร้อย 1"}),a.jsx("option",{value:"2",children:"กองร้อย 2"}),a.jsx("option",{value:"3",children:"กองร้อย 3"})]})]}),a.jsx("div",{style:{display:"flex",gap:8,marginBottom:8},children:a.jsxs("div",{style:{flex:1},children:[a.jsx("b",{children:"วันที่ :"}),a.jsx("input",{name:"date",type:"date",placeholder:"เช่น 2025-06-12",value:b.date,onChange:St,required:!0,style:{width:"100%"}})]})}),a.jsxs("div",{style:{flex:1},children:[a.jsx("b",{children:"เวลา :"}),a.jsx("input",{name:"time",type:"text",placeholder:"เช่น 0530, 0700, 0800, 1800, 2100",value:b.time,onChange:St,required:!0,style:{width:"100%"}})]}),a.jsxs("div",{style:{margin:"16px 0",padding:12,border:"1px solid #eee",borderRadius:8,background:"#f9f9f9"},children:[a.jsx("b",{children:"จำนวนคนทั้งหมด (แยกชั้นปี):"}),a.jsx("div",{className:"summary-year-row",children:["5","4","3","2","1"].map(S=>a.jsxs("div",{className:"summary-year-col",children:[a.jsxs("label",{children:["ชั้น ",S,":"]}),a.jsx("input",{type:"number",min:"0",value:b[`total_year_${S}`]||"",onChange:N=>g(O=>({...O,[`total_year_${S}`]:N.target.value})),placeholder:`ชั้น ${S}`})]},S))}),a.jsxs("div",{style:{marginTop:8},children:[a.jsx("b",{children:"รวมทั้งหมด:"})," ",["5","4","3","2","1"].reduce((S,N)=>S+(Number(b[`total_year_${N}`])||0),0)]})]}),a.jsx("input",{name:"total",type:"number",placeholder:"จำนวนคนทั้งหมด",value:b.total,onChange:St,required:!0,style:{marginBottom:8,width:"100%"}}),a.jsx("div",{style:{marginBottom:8},children:a.jsxs("div",{className:`remain ${U<0?"negative":"positive"}`,children:[a.jsx("b",{children:"ยอดที่เหลือ:"})," ",U]})}),a.jsx("input",{name:"note",placeholder:"ชื่อตัวแทนชั้น (ชั้นปี)",value:b.note,onChange:St,style:{marginBottom:8,width:"100%"}}),a.jsx("button",{type:"submit",children:A?"บันทึกการแก้ไข":"บันทึกยอด"}),A&&a.jsx("button",{type:"button",onClick:()=>{V(null),g({date:"",time:"",battalion:"",company:"",total:"",other:"",note:"",total_year_5:"",total_year_4:"",total_year_3:"",total_year_2:"",total_year_1:""}),v([{key:"",value:"",names:[""],counted:!0}])},children:"ยกเลิก"})]}),a.jsx("h3",{children:"ผลลัพธ์ยอด (แยกตามกองพัน/กองร้อย)"}),Object.keys(Z).sort().map(S=>a.jsxs("div",{style:{marginBottom:24},children:[a.jsxs("button",{type:"button",className:"summary-accordion-btn",onClick:()=>je(S),children:[T[S]?"▼":"►"," กองพัน ",S]}),T[S]&&a.jsx("div",{children:Object.keys(Z[S]).sort().map(N=>a.jsxs("div",{style:{marginBottom:12,marginLeft:24},children:[a.jsxs("button",{type:"button",className:"summary-company-btn",onClick:()=>Yo(S,N),children:[C[`${S}-${N}`]?"▼":"►"," กองร้อย ",N]}),C[`${S}-${N}`]&&a.jsx("div",{style:{overflowX:"auto"},children:a.jsxs("table",{className:"summary-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"วันที่"}),a.jsx("th",{children:"เวลา"}),a.jsx("th",{children:"ทั้งหมด"}),a.jsx("th",{children:"จำหน่าย"}),a.jsx("th",{children:"ยอดที่เหลือ"}),a.jsx("th",{children:"ตัวแทนชั้น"}),a.jsx("th",{children:"แก้ไข"})]})}),a.jsx("tbody",{children:Z[S][N].map(O=>{let z=Number(O.total)||0,$={};try{$=JSON.parse(O.other),z-=Object.entries($).reduce((H,[at,lt])=>L[O.id]&&L[O.id][at]?H:H+(Number(lt.count)||0),0)}catch{}return a.jsxs("tr",{children:[a.jsx("td",{"data-label":"วันที่",children:O.date}),a.jsx("td",{"data-label":"แถวกี่โมง",children:O.time}),a.jsx("td",{"data-label":"ทั้งหมด",children:O.total}),a.jsx("td",{"data-label":"จำหน่าย",style:{fontSize:"0.92em",wordBreak:"break-word",whiteSpace:"normal"},children:$&&Object.entries($).length>0?a.jsx("button",{type:"button",style:{background:"#1976d2",color:"#fff",border:"none",borderRadius:4,padding:"2px 12px",fontSize:"0.95em",cursor:"pointer",marginBottom:4},onClick:()=>Qo($,O.id),children:"ดูรายการจำหน่าย"}):a.jsx("span",{style:{color:"#888"},children:"-"})}),a.jsx("td",{"data-label":"ยอดที่เหลือ",children:a.jsx("span",{style:{color:z<0?"red":"green"},children:z})}),a.jsx("td",{"data-label":"ตัวแทนชั้น",children:O.note}),a.jsxs("td",{"data-label":"แก้ไข",children:[a.jsx("button",{type:"button",onClick:()=>K(O),children:"แก้ไข"}),a.jsx("button",{type:"button",style:{marginLeft:8,color:"red",border:"none",background:"none",cursor:"pointer"},onClick:()=>ot(O.id),title:"ลบ",children:"ลบ"})]})]},O.id)})})]})})]},N))})]},S)),_&&a.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.3)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>G(!1),children:a.jsxs("div",{style:{background:"#fff",borderRadius:8,padding:24,minWidth:260,maxWidth:350,boxShadow:"0 2px 16px rgba(0,0,0,0.18)",position:"relative"},onClick:S=>S.stopPropagation(),children:[a.jsx("h4",{style:{marginTop:0},children:"รายการจำหน่าย"}),a.jsx("div",{children:X&&Object.keys(X).length>0?Object.entries(X).map(([S,N])=>a.jsxs("div",{style:{marginBottom:12},children:[a.jsxs("div",{style:{fontWeight:600,marginBottom:2},children:[S," : ",N.count]}),a.jsx("ul",{style:{paddingLeft:18,margin:0},children:Array.isArray(N.names)&&N.names.length>0?N.names.map((O,z)=>a.jsxs("li",{style:{display:"flex",alignItems:"center",marginBottom:2},children:[a.jsx("span",{style:{flex:1},children:O}),a.jsx("button",{style:{marginLeft:8,background:"#e53935",color:"#fff",border:"none",borderRadius:4,padding:"2px 10px",fontSize:"0.92em",cursor:"pointer"},onClick:()=>Jo(M,S,O),children:"ลบ"})]},O)):a.jsx("li",{style:{color:"#888"},children:"ไม่มีชื่อผู้ใช้"})})]},S)):a.jsx("div",{style:{color:"#888"},children:"ไม่มีรายการ"})}),a.jsx("button",{style:{marginTop:16,background:"#1976d2",color:"#fff",border:"none",borderRadius:4,padding:"4px 16px",cursor:"pointer"},onClick:()=>G(!1),children:"ปิด"})]})})]})}function lf(){const t=Yi(),e=t.pathname==="/login"||t.pathname==="/register";return a.jsxs(a.Fragment,{children:[!e&&a.jsx(of,{}),a.jsxs(oa,{children:[a.jsx(ft,{path:"/",element:a.jsx(Dt,{children:a.jsx(Xd,{})})}),a.jsx(ft,{path:"/users",element:a.jsx(Dt,{children:a.jsx(nh,{})})}),a.jsx(ft,{path:"/login",element:a.jsx(th,{})}),a.jsx(ft,{path:"/register",element:a.jsx(eh,{})}),a.jsx(ft,{path:"/behavior-point",element:a.jsx(sh,{})}),a.jsx(ft,{path:"/DeductPoint",element:a.jsx(Dt,{children:a.jsx(ih,{})})}),a.jsx(ft,{path:"/edit-profile",element:a.jsx(Dt,{children:a.jsx(rh,{})})}),a.jsx(ft,{path:"/view-profile",element:a.jsx(Dt,{children:a.jsx(Hh,{})})}),a.jsx(ft,{path:"/gun-borrowing",element:a.jsx(Dt,{children:a.jsx(qh,{})})}),a.jsx(ft,{path:"/summary",element:a.jsx(Dt,{children:a.jsx(af,{})})}),a.jsx(ft,{path:"*",element:a.jsx("h1",{children:"404 Not Found"})})]})]})}const cf=()=>a.jsx(ra,{children:a.jsx(lf,{})});Xi(document.getElementById("root")).render(a.jsx(Pt.StrictMode,{children:a.jsx(cf,{})}));
