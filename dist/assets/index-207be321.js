import{r as p,a as na,R as Pe}from"./vendor-8a332d8f.js";import{u as Oe,L as sa,N as ia,a as Yi,B as ra,R as oa,b as fe}from"./router-41ae65be.js";import{H as aa}from"./qr-a3af8558.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();var Qi={exports:{}},Gt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var la=p,ca=Symbol.for("react.element"),ua=Symbol.for("react.fragment"),da=Object.prototype.hasOwnProperty,ha=la.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fa={key:!0,ref:!0,__self:!0,__source:!0};function Ji(e,t,n){var s,i={},r=null,o=null;n!==void 0&&(r=""+n),t.key!==void 0&&(r=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)da.call(t,s)&&!fa.hasOwnProperty(s)&&(i[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)i[s]===void 0&&(i[s]=t[s]);return{$$typeof:ca,type:e,key:r,ref:o,props:i,_owner:ha.current}}Gt.Fragment=ua;Gt.jsx=Ji;Gt.jsxs=Ji;Qi.exports=Gt;var a=Qi.exports,Xi,Ns=na;Xi=Ns.createRoot,Ns.hydrateRoot;const Wn=p.createContext({});function Gn(e){const t=p.useRef(null);return t.current===null&&(t.current=e()),t.current}const Kn=typeof window<"u",Zi=Kn?p.useLayoutEffect:p.useEffect,Kt=p.createContext(null);function Hn(e,t){e.indexOf(t)===-1&&e.push(t)}function qn(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const we=(e,t,n)=>n>t?t:n<e?e:n;let Yn=()=>{};const je={},er=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function tr(e){return typeof e=="object"&&e!==null}const nr=e=>/^0[^.\s]+$/u.test(e);function Qn(e){let t;return()=>(t===void 0&&(t=e()),t)}const he=e=>e,ma=(e,t)=>n=>t(e(n)),yt=(...e)=>e.reduce(ma),ct=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class Jn{constructor(){this.subscriptions=[]}add(t){return Hn(this.subscriptions,t),()=>qn(this.subscriptions,t)}notify(t,n,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,s);else for(let r=0;r<i;r++){const o=this.subscriptions[r];o&&o(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ye=e=>e*1e3,xe=e=>e/1e3;function sr(e,t){return t?e*(1e3/t):0}const ir=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,pa=1e-7,ga=12;function ya(e,t,n,s,i){let r,o,l=0;do o=t+(n-t)/2,r=ir(o,s,i)-e,r>0?n=o:t=o;while(Math.abs(r)>pa&&++l<ga);return o}function xt(e,t,n,s){if(e===t&&n===s)return he;const i=r=>ya(r,0,1,e,n);return r=>r===0||r===1?r:ir(i(r),t,s)}const rr=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,or=e=>t=>1-e(1-t),ar=xt(.33,1.53,.69,.99),Xn=or(ar),lr=rr(Xn),cr=e=>(e*=2)<1?.5*Xn(e):.5*(2-Math.pow(2,-10*(e-1))),Zn=e=>1-Math.sin(Math.acos(e)),ur=or(Zn),dr=rr(Zn),xa=xt(.42,0,1,1),va=xt(0,0,.58,1),hr=xt(.42,0,.58,1),ba=e=>Array.isArray(e)&&typeof e[0]!="number",fr=e=>Array.isArray(e)&&typeof e[0]=="number",wa={linear:he,easeIn:xa,easeInOut:hr,easeOut:va,circIn:Zn,circInOut:dr,circOut:ur,backIn:Xn,backInOut:lr,backOut:ar,anticipate:cr},ja=e=>typeof e=="string",Ms=e=>{if(fr(e)){Yn(e.length===4);const[t,n,s,i]=e;return xt(t,n,s,i)}else if(ja(e))return wa[e];return e},Ct=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Ds={value:null,addProjectionMetrics:null};function Sa(e,t){let n=new Set,s=new Set,i=!1,r=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function d(h){o.has(h)&&(u.schedule(h),e()),c++,h(l)}const u={schedule:(h,f=!1,m=!1)=>{const x=m&&i?n:s;return f&&o.add(h),x.has(h)||x.add(h),h},cancel:h=>{s.delete(h),o.delete(h)},process:h=>{if(l=h,i){r=!0;return}i=!0,[n,s]=[s,n],n.forEach(d),t&&Ds.value&&Ds.value.frameloop[t].push(c),c=0,n.clear(),i=!1,r&&(r=!1,u.process(h))}};return u}const Ca=40;function mr(e,t){let n=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},r=()=>n=!0,o=Ct.reduce((v,T)=>(v[T]=Sa(r,t?T:void 0),v),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:u,update:h,preRender:f,render:m,postRender:y}=o,x=()=>{const v=je.useManualTiming?i.timestamp:performance.now();n=!1,je.useManualTiming||(i.delta=s?1e3/60:Math.max(Math.min(v-i.timestamp,Ca),1)),i.timestamp=v,i.isProcessing=!0,l.process(i),c.process(i),d.process(i),u.process(i),h.process(i),f.process(i),m.process(i),y.process(i),i.isProcessing=!1,n&&t&&(s=!1,e(x))},b=()=>{n=!0,s=!0,i.isProcessing||e(x)};return{schedule:Ct.reduce((v,T)=>{const j=o[T];return v[T]=(C,D=!1,A=!1)=>(n||b(),j.schedule(C,D,A)),v},{}),cancel:v=>{for(let T=0;T<Ct.length;T++)o[Ct[T]].cancel(v)},state:i,steps:o}}const{schedule:Y,cancel:Ae,state:ee,steps:tn}=mr(typeof requestAnimationFrame<"u"?requestAnimationFrame:he,!0);let Nt;function Ta(){Nt=void 0}const re={now:()=>(Nt===void 0&&re.set(ee.isProcessing||je.useManualTiming?ee.timestamp:performance.now()),Nt),set:e=>{Nt=e,queueMicrotask(Ta)}},pr=e=>t=>typeof t=="string"&&t.startsWith(e),es=pr("--"),Pa=pr("var(--"),ts=e=>Pa(e)?Aa.test(e.split("/*")[0].trim()):!1,Aa=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Je={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ut={...Je,transform:e=>we(0,1,e)},Tt={...Je,default:1},st=e=>Math.round(e*1e5)/1e5,ns=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Ea(e){return e==null}const Ra=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ss=(e,t)=>n=>!!(typeof n=="string"&&Ra.test(n)&&n.startsWith(e)||t&&!Ea(n)&&Object.prototype.hasOwnProperty.call(n,t)),gr=(e,t,n)=>s=>{if(typeof s!="string")return s;const[i,r,o,l]=s.match(ns);return{[e]:parseFloat(i),[t]:parseFloat(r),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Na=e=>we(0,255,e),nn={...Je,transform:e=>Math.round(Na(e))},Ve={test:ss("rgb","red"),parse:gr("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+nn.transform(e)+", "+nn.transform(t)+", "+nn.transform(n)+", "+st(ut.transform(s))+")"};function Ma(e){let t="",n="",s="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,s+=s,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const bn={test:ss("#"),parse:Ma,transform:Ve.transform},vt=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ce=vt("deg"),ve=vt("%"),I=vt("px"),Da=vt("vh"),Ba=vt("vw"),Bs=(()=>({...ve,parse:e=>ve.parse(e)/100,transform:e=>ve.transform(e*100)}))(),Fe={test:ss("hsl","hue"),parse:gr("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+ve.transform(st(t))+", "+ve.transform(st(n))+", "+st(ut.transform(s))+")"},ne={test:e=>Ve.test(e)||bn.test(e)||Fe.test(e),parse:e=>Ve.test(e)?Ve.parse(e):Fe.test(e)?Fe.parse(e):bn.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ve.transform(e):Fe.transform(e)},Va=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ka(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(ns))==null?void 0:t.length)||0)+(((n=e.match(Va))==null?void 0:n.length)||0)>0}const yr="number",xr="color",Ia="var",La="var(",Vs="${}",Oa=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function dt(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},i=[];let r=0;const l=t.replace(Oa,c=>(ne.test(c)?(s.color.push(r),i.push(xr),n.push(ne.parse(c))):c.startsWith(La)?(s.var.push(r),i.push(Ia),n.push(c)):(s.number.push(r),i.push(yr),n.push(parseFloat(c))),++r,Vs)).split(Vs);return{values:n,split:l,indexes:s,types:i}}function vr(e){return dt(e).values}function br(e){const{split:t,types:n}=dt(e),s=t.length;return i=>{let r="";for(let o=0;o<s;o++)if(r+=t[o],i[o]!==void 0){const l=n[o];l===yr?r+=st(i[o]):l===xr?r+=ne.transform(i[o]):r+=i[o]}return r}}const Fa=e=>typeof e=="number"?0:e;function Ua(e){const t=vr(e);return br(e)(t.map(Fa))}const Ee={test:ka,parse:vr,createTransformer:br,getAnimatableNone:Ua};function sn(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function _a({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let i=0,r=0,o=0;if(!t)i=r=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;i=sn(c,l,e+1/3),r=sn(c,l,e),o=sn(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(r*255),blue:Math.round(o*255),alpha:s}}function Vt(e,t){return n=>n>0?t:e}const q=(e,t,n)=>e+(t-e)*n,rn=(e,t,n)=>{const s=e*e,i=n*(t*t-s)+s;return i<0?0:Math.sqrt(i)},$a=[bn,Ve,Fe],za=e=>$a.find(t=>t.test(e));function ks(e){const t=za(e);if(!t)return!1;let n=t.parse(e);return t===Fe&&(n=_a(n)),n}const Is=(e,t)=>{const n=ks(e),s=ks(t);if(!n||!s)return Vt(e,t);const i={...n};return r=>(i.red=rn(n.red,s.red,r),i.green=rn(n.green,s.green,r),i.blue=rn(n.blue,s.blue,r),i.alpha=q(n.alpha,s.alpha,r),Ve.transform(i))},wn=new Set(["none","hidden"]);function Wa(e,t){return wn.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Ga(e,t){return n=>q(e,t,n)}function is(e){return typeof e=="number"?Ga:typeof e=="string"?ts(e)?Vt:ne.test(e)?Is:qa:Array.isArray(e)?wr:typeof e=="object"?ne.test(e)?Is:Ka:Vt}function wr(e,t){const n=[...e],s=n.length,i=e.map((r,o)=>is(r)(r,t[o]));return r=>{for(let o=0;o<s;o++)n[o]=i[o](r);return n}}function Ka(e,t){const n={...e,...t},s={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(s[i]=is(e[i])(e[i],t[i]));return i=>{for(const r in s)n[r]=s[r](i);return n}}function Ha(e,t){const n=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const r=t.types[i],o=e.indexes[r][s[r]],l=e.values[o]??0;n[i]=l,s[r]++}return n}const qa=(e,t)=>{const n=Ee.createTransformer(t),s=dt(e),i=dt(t);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?wn.has(e)&&!i.values.length||wn.has(t)&&!s.values.length?Wa(e,t):yt(wr(Ha(s,i),i.values),n):Vt(e,t)};function jr(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?q(e,t,n):is(e)(e,t)}const Ya=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Y.update(t,n),stop:()=>Ae(t),now:()=>ee.isProcessing?ee.timestamp:re.now()}},Sr=(e,t,n=10)=>{let s="";const i=Math.max(Math.round(t/n),2);for(let r=0;r<i;r++)s+=e(r/(i-1))+", ";return`linear(${s.substring(0,s.length-2)})`},kt=2e4;function rs(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<kt;)t+=n,s=e.next(t);return t>=kt?1/0:t}function Qa(e,t=100,n){const s=n({...e,keyframes:[0,t]}),i=Math.min(rs(s),kt);return{type:"keyframes",ease:r=>s.next(i*r).value/t,duration:xe(i)}}const Ja=5;function Cr(e,t,n){const s=Math.max(t-Ja,0);return sr(n-e(s),t-s)}const Q={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},on=.001;function Xa({duration:e=Q.duration,bounce:t=Q.bounce,velocity:n=Q.velocity,mass:s=Q.mass}){let i,r,o=1-t;o=we(Q.minDamping,Q.maxDamping,o),e=we(Q.minDuration,Q.maxDuration,xe(e)),o<1?(i=d=>{const u=d*o,h=u*e,f=u-n,m=jn(d,o),y=Math.exp(-h);return on-f/m*y},r=d=>{const h=d*o*e,f=h*n+n,m=Math.pow(o,2)*Math.pow(d,2)*e,y=Math.exp(-h),x=jn(Math.pow(d,2),o);return(-i(d)+on>0?-1:1)*((f-m)*y)/x}):(i=d=>{const u=Math.exp(-d*e),h=(d-n)*e+1;return-on+u*h},r=d=>{const u=Math.exp(-d*e),h=(n-d)*(e*e);return u*h});const l=5/e,c=el(i,r,l);if(e=ye(e),isNaN(c))return{stiffness:Q.stiffness,damping:Q.damping,duration:e};{const d=Math.pow(c,2)*s;return{stiffness:d,damping:o*2*Math.sqrt(s*d),duration:e}}}const Za=12;function el(e,t,n){let s=n;for(let i=1;i<Za;i++)s=s-e(s)/t(s);return s}function jn(e,t){return e*Math.sqrt(1-t*t)}const tl=["duration","bounce"],nl=["stiffness","damping","mass"];function Ls(e,t){return t.some(n=>e[n]!==void 0)}function sl(e){let t={velocity:Q.velocity,stiffness:Q.stiffness,damping:Q.damping,mass:Q.mass,isResolvedFromDuration:!1,...e};if(!Ls(e,nl)&&Ls(e,tl))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),i=s*s,r=2*we(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Q.mass,stiffness:i,damping:r}}else{const n=Xa(e);t={...t,...n,mass:Q.mass},t.isResolvedFromDuration=!0}return t}function It(e=Q.visualDuration,t=Q.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:i}=n;const r=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:r},{stiffness:c,damping:d,mass:u,duration:h,velocity:f,isResolvedFromDuration:m}=sl({...n,velocity:-xe(n.velocity||0)}),y=f||0,x=d/(2*Math.sqrt(c*u)),b=o-r,g=xe(Math.sqrt(c/u)),w=Math.abs(b)<5;s||(s=w?Q.restSpeed.granular:Q.restSpeed.default),i||(i=w?Q.restDelta.granular:Q.restDelta.default);let v;if(x<1){const j=jn(g,x);v=C=>{const D=Math.exp(-x*g*C);return o-D*((y+x*g*b)/j*Math.sin(j*C)+b*Math.cos(j*C))}}else if(x===1)v=j=>o-Math.exp(-g*j)*(b+(y+g*b)*j);else{const j=g*Math.sqrt(x*x-1);v=C=>{const D=Math.exp(-x*g*C),A=Math.min(j*C,300);return o-D*((y+x*g*b)*Math.sinh(A)+j*b*Math.cosh(A))/j}}const T={calculatedDuration:m&&h||null,next:j=>{const C=v(j);if(m)l.done=j>=h;else{let D=j===0?y:0;x<1&&(D=j===0?ye(y):Cr(v,j,C));const A=Math.abs(D)<=s,V=Math.abs(o-C)<=i;l.done=A&&V}return l.value=l.done?o:C,l},toString:()=>{const j=Math.min(rs(T),kt),C=Sr(D=>T.next(j*D).value,j,30);return j+"ms "+C},toTransition:()=>{}};return T}It.applyToOptions=e=>{const t=Qa(e,100,It);return e.ease=t.ease,e.duration=ye(t.duration),e.type="keyframes",e};function Sn({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:r=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const h=e[0],f={done:!1,value:h},m=A=>l!==void 0&&A<l||c!==void 0&&A>c,y=A=>l===void 0?c:c===void 0||Math.abs(l-A)<Math.abs(c-A)?l:c;let x=n*t;const b=h+x,g=o===void 0?b:o(b);g!==b&&(x=g-h);const w=A=>-x*Math.exp(-A/s),v=A=>g+w(A),T=A=>{const V=w(A),L=v(A);f.done=Math.abs(V)<=d,f.value=f.done?g:L};let j,C;const D=A=>{m(f.value)&&(j=A,C=It({keyframes:[f.value,y(f.value)],velocity:Cr(v,A,f.value),damping:i,stiffness:r,restDelta:d,restSpeed:u}))};return D(0),{calculatedDuration:null,next:A=>{let V=!1;return!C&&j===void 0&&(V=!0,T(A),D(A)),j!==void 0&&A>=j?C.next(A-j):(!V&&T(A),f)}}}function il(e,t,n){const s=[],i=n||je.mix||jr,r=e.length-1;for(let o=0;o<r;o++){let l=i(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||he:t;l=yt(c,l)}s.push(l)}return s}function rl(e,t,{clamp:n=!0,ease:s,mixer:i}={}){const r=e.length;if(Yn(r===t.length),r===1)return()=>t[0];if(r===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[r-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=il(t,s,i),c=l.length,d=u=>{if(o&&u<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(u<e[h+1]);h++);const f=ct(e[h],e[h+1],u);return l[h](f)};return n?u=>d(we(e[0],e[r-1],u)):d}function ol(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const i=ct(0,t,s);e.push(q(n,1,i))}}function al(e){const t=[0];return ol(t,e.length-1),t}function ll(e,t){return e.map(n=>n*t)}function cl(e,t){return e.map(()=>t||hr).splice(0,e.length-1)}function it({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const i=ba(s)?s.map(Ms):Ms(s),r={done:!1,value:t[0]},o=ll(n&&n.length===t.length?n:al(t),e),l=rl(o,t,{ease:Array.isArray(i)?i:cl(t,i)});return{calculatedDuration:e,next:c=>(r.value=l(c),r.done=c>=e,r)}}const ul=e=>e!==null;function os(e,{repeat:t,repeatType:n="loop"},s,i=1){const r=e.filter(ul),l=i<0||t&&n!=="loop"&&t%2===1?0:r.length-1;return!l||s===void 0?r[l]:s}const dl={decay:Sn,inertia:Sn,tween:it,keyframes:it,spring:It};function Tr(e){typeof e.type=="string"&&(e.type=dl[e.type])}class as{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const hl=e=>e/100;class ls extends as{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,i;const{motionValue:n}=this.options;n&&n.updatedAt!==re.now()&&this.tick(re.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(s=this.options).onStop)==null||i.call(s))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Tr(t);const{type:n=it,repeat:s=0,repeatDelay:i=0,repeatType:r,velocity:o=0}=t;let{keyframes:l}=t;const c=n||it;c!==it&&typeof l[0]!="number"&&(this.mixKeyframes=yt(hl,jr(l[0],l[1])),l=[0,100]);const d=c({...t,keyframes:l});r==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=rs(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(s+1)-i,this.generator=d}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:i,mixKeyframes:r,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return s.next(0);const{delay:d=0,keyframes:u,repeat:h,repeatType:f,repeatDelay:m,type:y,onUpdate:x,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const g=this.currentTime-d*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?g<0:g>i;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let v=this.currentTime,T=s;if(h){const A=Math.min(this.currentTime,i)/l;let V=Math.floor(A),L=A%1;!L&&A>=1&&(L=1),L===1&&V--,V=Math.min(V,h+1),!!(V%2)&&(f==="reverse"?(L=1-L,m&&(L-=m/l)):f==="mirror"&&(T=o)),v=we(0,1,L)*l}const j=w?{done:!1,value:u[0]}:T.next(v);r&&(j.value=r(j.value));let{done:C}=j;!w&&c!==null&&(C=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return D&&y!==Sn&&(j.value=os(u,this.options,b,this.speed)),x&&x(j.value),D&&this.finish(),j}then(t,n){return this.finished.then(t,n)}get duration(){return xe(this.calculatedDuration)}get time(){return xe(this.currentTime)}set time(t){var n;t=ye(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(re.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=xe(this.currentTime))}play(){var i,r;if(this.isStopped)return;const{driver:t=Ya,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(r=(i=this.options).onPlay)==null||r.call(i);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(re.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function fl(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ke=e=>e*180/Math.PI,Cn=e=>{const t=ke(Math.atan2(e[1],e[0]));return Tn(t)},ml={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Cn,rotateZ:Cn,skewX:e=>ke(Math.atan(e[1])),skewY:e=>ke(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Tn=e=>(e=e%360,e<0&&(e+=360),e),Os=Cn,Fs=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Us=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),pl={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Fs,scaleY:Us,scale:e=>(Fs(e)+Us(e))/2,rotateX:e=>Tn(ke(Math.atan2(e[6],e[5]))),rotateY:e=>Tn(ke(Math.atan2(-e[2],e[0]))),rotateZ:Os,rotate:Os,skewX:e=>ke(Math.atan(e[4])),skewY:e=>ke(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Pn(e){return e.includes("scale")?1:0}function An(e,t){if(!e||e==="none")return Pn(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,i;if(n)s=pl,i=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=ml,i=l}if(!i)return Pn(t);const r=s[t],o=i[1].split(",").map(yl);return typeof r=="function"?r(o):o[r]}const gl=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return An(n,t)};function yl(e){return parseFloat(e.trim())}const Xe=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ze=(()=>new Set(Xe))(),_s=e=>e===Je||e===I,xl=new Set(["x","y","z"]),vl=Xe.filter(e=>!xl.has(e));function bl(e){const t=[];return vl.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const Ie={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>An(t,"x"),y:(e,{transform:t})=>An(t,"y")};Ie.translateX=Ie.x;Ie.translateY=Ie.y;const Le=new Set;let En=!1,Rn=!1,Nn=!1;function Pr(){if(Rn){const e=Array.from(Le).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const i=bl(s);i.length&&(n.set(s,i),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const i=n.get(s);i&&i.forEach(([r,o])=>{var l;(l=s.getValue(r))==null||l.set(o)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Rn=!1,En=!1,Le.forEach(e=>e.complete(Nn)),Le.clear()}function Ar(){Le.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Rn=!0)})}function wl(){Nn=!0,Ar(),Pr(),Nn=!1}class cs{constructor(t,n,s,i,r,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=i,this.element=r,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Le.add(this),En||(En=!0,Y.read(Ar),Y.resolveKeyframes(Pr))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:i}=this;if(t[0]===null){const r=i==null?void 0:i.get(),o=t[t.length-1];if(r!==void 0)t[0]=r;else if(s&&n){const l=s.readValue(n,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),i&&r===void 0&&i.set(t[0])}fl(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Le.delete(this)}cancel(){this.state==="scheduled"&&(Le.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const jl=e=>e.startsWith("--");function Sl(e,t,n){jl(t)?e.style.setProperty(t,n):e.style[t]=n}const Cl=Qn(()=>window.ScrollTimeline!==void 0),Tl={};function Pl(e,t){const n=Qn(e);return()=>Tl[t]??n()}const Er=Pl(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),nt=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,$s={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:nt([0,.65,.55,1]),circOut:nt([.55,0,1,.45]),backIn:nt([.31,.01,.66,-.59]),backOut:nt([.33,1.53,.69,.99])};function Rr(e,t){if(e)return typeof e=="function"?Er()?Sr(e,t):"ease-out":fr(e)?nt(e):Array.isArray(e)?e.map(n=>Rr(n,t)||$s.easeOut):$s[e]}function Al(e,t,n,{delay:s=0,duration:i=300,repeat:r=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const u={[t]:n};c&&(u.offset=c);const h=Rr(l,i);Array.isArray(h)&&(u.easing=h);const f={delay:s,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:r+1,direction:o==="reverse"?"alternate":"normal"};return d&&(f.pseudoElement=d),e.animate(u,f)}function Nr(e){return typeof e=="function"&&"applyToOptions"in e}function El({type:e,...t}){return Nr(e)&&Er()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Rl extends as{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:i,pseudoElement:r,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!r,this.allowFlatten=o,this.options=t,Yn(typeof t.type!="string");const d=El(t);this.animation=Al(n,s,i,d,r),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const u=os(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(u):Sl(n,s,u),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,s;const t=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return xe(Number(t))}get time(){return xe(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=ye(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Cl()?(this.animation.timeline=t,he):n(this)}}const Mr={anticipate:cr,backInOut:lr,circInOut:dr};function Nl(e){return e in Mr}function Ml(e){typeof e.ease=="string"&&Nl(e.ease)&&(e.ease=Mr[e.ease])}const zs=10;class Dl extends Rl{constructor(t){Ml(t),Tr(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:i,element:r,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new ls({...o,autoplay:!1}),c=ye(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-zs).value,l.sample(c).value,zs),l.stop()}}const Ws=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ee.test(e)||e==="0")&&!e.startsWith("url("));function Bl(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Vl(e,t,n,s){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const r=e[e.length-1],o=Ws(i,t),l=Ws(r,t);return!o||!l?!1:Bl(e)||(n==="spring"||Nr(n))&&s}function us(e){return tr(e)&&"offsetHeight"in e}const kl=new Set(["opacity","clipPath","filter","transform"]),Il=Qn(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Ll(e){var d;const{motionValue:t,name:n,repeatDelay:s,repeatType:i,damping:r,type:o}=e;if(!us((d=t==null?void 0:t.owner)==null?void 0:d.current))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return Il()&&n&&kl.has(n)&&(n!=="transform"||!c)&&!l&&!s&&i!=="mirror"&&r!==0&&o!=="inertia"}const Ol=40;class Fl extends as{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:u,...h}){var y;super(),this.stop=()=>{var x,b;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=re.now();const f={autoplay:t,delay:n,type:s,repeat:i,repeatDelay:r,repeatType:o,name:c,motionValue:d,element:u,...h},m=(u==null?void 0:u.KeyframeResolver)||cs;this.keyframeResolver=new m(l,(x,b,g)=>this.onKeyframesResolved(x,b,f,!g),c,d,u),(y=this.keyframeResolver)==null||y.scheduleResolve()}onKeyframesResolved(t,n,s,i){this.keyframeResolver=void 0;const{name:r,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:u}=s;this.resolvedAt=re.now(),Vl(t,r,o,l)||((je.instantAnimations||!c)&&(u==null||u(os(t,s,n))),t[0]=t[t.length-1],s.duration=0,s.repeat=0);const f={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>Ol?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},m=!d&&Ll(f)?new Dl({...f,element:f.motionValue.owner.current}):new ls(f);m.finished.then(()=>this.notifyFinished()).catch(he),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),wl()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const Ul=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function _l(e){const t=Ul.exec(e);if(!t)return[,];const[,n,s,i]=t;return[`--${n??s}`,i]}function Dr(e,t,n=1){const[s,i]=_l(e);if(!s)return;const r=window.getComputedStyle(t).getPropertyValue(s);if(r){const o=r.trim();return er(o)?parseFloat(o):o}return ts(i)?Dr(i,t,n+1):i}function ds(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Br=new Set(["width","height","top","left","right","bottom",...Xe]),$l={test:e=>e==="auto",parse:e=>e},Vr=e=>t=>t.test(e),kr=[Je,I,ve,Ce,Ba,Da,$l],Gs=e=>kr.find(Vr(e));function zl(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||nr(e):!0}const Wl=new Set(["brightness","contrast","saturate","opacity"]);function Gl(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(ns)||[];if(!s)return e;const i=n.replace(s,"");let r=Wl.has(t)?1:0;return s!==n&&(r*=100),t+"("+r+i+")"}const Kl=/\b([a-z-]*)\(.*?\)/gu,Mn={...Ee,getAnimatableNone:e=>{const t=e.match(Kl);return t?t.map(Gl).join(" "):e}},Ks={...Je,transform:Math.round},Hl={rotate:Ce,rotateX:Ce,rotateY:Ce,rotateZ:Ce,scale:Tt,scaleX:Tt,scaleY:Tt,scaleZ:Tt,skew:Ce,skewX:Ce,skewY:Ce,distance:I,translateX:I,translateY:I,translateZ:I,x:I,y:I,z:I,perspective:I,transformPerspective:I,opacity:ut,originX:Bs,originY:Bs,originZ:I},hs={borderWidth:I,borderTopWidth:I,borderRightWidth:I,borderBottomWidth:I,borderLeftWidth:I,borderRadius:I,radius:I,borderTopLeftRadius:I,borderTopRightRadius:I,borderBottomRightRadius:I,borderBottomLeftRadius:I,width:I,maxWidth:I,height:I,maxHeight:I,top:I,right:I,bottom:I,left:I,padding:I,paddingTop:I,paddingRight:I,paddingBottom:I,paddingLeft:I,margin:I,marginTop:I,marginRight:I,marginBottom:I,marginLeft:I,backgroundPositionX:I,backgroundPositionY:I,...Hl,zIndex:Ks,fillOpacity:ut,strokeOpacity:ut,numOctaves:Ks},ql={...hs,color:ne,backgroundColor:ne,outlineColor:ne,fill:ne,stroke:ne,borderColor:ne,borderTopColor:ne,borderRightColor:ne,borderBottomColor:ne,borderLeftColor:ne,filter:Mn,WebkitFilter:Mn},Ir=e=>ql[e];function Lr(e,t){let n=Ir(e);return n!==Mn&&(n=Ee),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Yl=new Set(["auto","none","0"]);function Ql(e,t,n){let s=0,i;for(;s<e.length&&!i;){const r=e[s];typeof r=="string"&&!Yl.has(r)&&dt(r).values.length&&(i=e[s]),s++}if(i&&n)for(const r of t)e[r]=Lr(n,i)}class Jl extends cs{constructor(t,n,s,i,r){super(t,n,s,i,r,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),ts(d))){const u=Dr(d,n.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!Br.has(s)||t.length!==2)return;const[i,r]=t,o=Gs(i),l=Gs(r);if(o!==l)if(_s(o)&&_s(l))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else Ie[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let i=0;i<t.length;i++)(t[i]===null||zl(t[i]))&&s.push(i);s.length&&Ql(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ie[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(s,i).jump(i,!1)}measureEndState(){var l;const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const r=s.length-1,o=s[r];s[r]=Ie[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{t.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function Xl(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;t&&(s=t.current);const i=(n==null?void 0:n[e])??s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const Or=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Hs=30,Zl=e=>!isNaN(parseFloat(e));class ec{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,i=!0)=>{var o,l;const r=re.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty();i&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=re.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Zl(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Jn);const s=this.events[t].add(n);return t==="change"?()=>{s(),Y.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=re.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Hs)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Hs);return sr(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function We(e,t){return new ec(e,t)}const{schedule:fs,cancel:ff}=mr(queueMicrotask,!1),me={x:!1,y:!1};function Fr(){return me.x||me.y}function tc(e){return e==="x"||e==="y"?me[e]?null:(me[e]=!0,()=>{me[e]=!1}):me.x||me.y?null:(me.x=me.y=!0,()=>{me.x=me.y=!1})}function Ur(e,t){const n=Xl(e),s=new AbortController,i={passive:!0,...t,signal:s.signal};return[n,i,()=>s.abort()]}function qs(e){return!(e.pointerType==="touch"||Fr())}function nc(e,t,n={}){const[s,i,r]=Ur(e,n),o=l=>{if(!qs(l))return;const{target:c}=l,d=t(c,l);if(typeof d!="function"||!c)return;const u=h=>{qs(h)&&(d(h),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,i)};return s.forEach(l=>{l.addEventListener("pointerenter",o,i)}),r}const _r=(e,t)=>t?e===t?!0:_r(e,t.parentElement):!1,ms=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,sc=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ic(e){return sc.has(e.tagName)||e.tabIndex!==-1}const Mt=new WeakSet;function Ys(e){return t=>{t.key==="Enter"&&e(t)}}function an(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const rc=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=Ys(()=>{if(Mt.has(n))return;an(n,"down");const i=Ys(()=>{an(n,"up")}),r=()=>an(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",r,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function Qs(e){return ms(e)&&!Fr()}function oc(e,t,n={}){const[s,i,r]=Ur(e,n),o=l=>{const c=l.currentTarget;if(!Qs(l))return;Mt.add(c);const d=t(c,l),u=(m,y)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),Mt.has(c)&&Mt.delete(c),Qs(m)&&typeof d=="function"&&d(m,{success:y})},h=m=>{u(m,c===window||c===document||n.useGlobalTarget||_r(c,m.target))},f=m=>{u(m,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",f,i)};return s.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),us(l)&&(l.addEventListener("focus",d=>rc(d,i)),!ic(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),r}function $r(e){return tr(e)&&"ownerSVGElement"in e}function ac(e){return $r(e)&&e.tagName==="svg"}const se=e=>!!(e&&e.getVelocity),lc=[...kr,ne,Ee],cc=e=>lc.find(Vr(e)),ps=p.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class uc extends p.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=n.offsetParent,i=us(s)&&s.offsetWidth||0,r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft,r.right=i-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function dc({children:e,isPresent:t,anchorX:n}){const s=p.useId(),i=p.useRef(null),r=p.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=p.useContext(ps);return p.useInsertionEffect(()=>{const{width:l,height:c,top:d,left:u,right:h}=r.current;if(t||!i.current||!l||!c)return;const f=n==="left"?`left: ${u}`:`right: ${h}`;i.current.dataset.motionPopId=s;const m=document.createElement("style");return o&&(m.nonce=o),document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${f}px !important;
            top: ${d}px !important;
          }
        `),()=>{document.head.contains(m)&&document.head.removeChild(m)}},[t]),a.jsx(uc,{isPresent:t,childRef:i,sizeRef:r,children:p.cloneElement(e,{ref:i})})}const hc=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:i,presenceAffectsLayout:r,mode:o,anchorX:l})=>{const c=Gn(fc),d=p.useId();let u=!0,h=p.useMemo(()=>(u=!1,{id:d,initial:t,isPresent:n,custom:i,onExitComplete:f=>{c.set(f,!0);for(const m of c.values())if(!m)return;s&&s()},register:f=>(c.set(f,!1),()=>c.delete(f))}),[n,c,s]);return r&&u&&(h={...h}),p.useMemo(()=>{c.forEach((f,m)=>c.set(m,!1))},[n]),p.useEffect(()=>{!n&&!c.size&&s&&s()},[n]),o==="popLayout"&&(e=a.jsx(dc,{isPresent:n,anchorX:l,children:e})),a.jsx(Kt.Provider,{value:h,children:e})};function fc(){return new Map}function zr(e=!0){const t=p.useContext(Kt);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:i}=t,r=p.useId();p.useEffect(()=>{if(e)return i(r)},[e]);const o=p.useCallback(()=>e&&s&&s(r),[r,s,e]);return!n&&s?[!1,o]:[!0]}const Pt=e=>e.key||"";function Js(e){const t=[];return p.Children.forEach(e,n=>{p.isValidElement(n)&&t.push(n)}),t}const Lt=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:r="sync",propagate:o=!1,anchorX:l="left"})=>{const[c,d]=zr(o),u=p.useMemo(()=>Js(e),[e]),h=o&&!c?[]:u.map(Pt),f=p.useRef(!0),m=p.useRef(u),y=Gn(()=>new Map),[x,b]=p.useState(u),[g,w]=p.useState(u);Zi(()=>{f.current=!1,m.current=u;for(let j=0;j<g.length;j++){const C=Pt(g[j]);h.includes(C)?y.delete(C):y.get(C)!==!0&&y.set(C,!1)}},[g,h.length,h.join("-")]);const v=[];if(u!==x){let j=[...u];for(let C=0;C<g.length;C++){const D=g[C],A=Pt(D);h.includes(A)||(j.splice(C,0,D),v.push(D))}return r==="wait"&&v.length&&(j=v),w(Js(j)),b(u),null}const{forceRender:T}=p.useContext(Wn);return a.jsx(a.Fragment,{children:g.map(j=>{const C=Pt(j),D=o&&!c?!1:u===g||h.includes(C),A=()=>{if(y.has(C))y.set(C,!0);else return;let V=!0;y.forEach(L=>{L||(V=!1)}),V&&(T==null||T(),w(m.current),o&&(d==null||d()),s&&s())};return a.jsx(hc,{isPresent:D,initial:!f.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:r,onExitComplete:D?void 0:A,anchorX:l,children:j},C)})})},Wr=p.createContext({strict:!1}),Xs={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ge={};for(const e in Xs)Ge[e]={isEnabled:t=>Xs[e].some(n=>!!t[n])};function mc(e){for(const t in e)Ge[t]={...Ge[t],...e[t]}}const pc=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ot(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||pc.has(e)}let Gr=e=>!Ot(e);function gc(e){e&&(Gr=t=>t.startsWith("on")?!Ot(t):e(t))}try{gc(require("@emotion/is-prop-valid").default)}catch{}function yc(e,t,n){const s={};for(const i in e)i==="values"&&typeof e.values=="object"||(Gr(i)||n===!0&&Ot(i)||!t&&!Ot(i)||e.draggable&&i.startsWith("onDrag"))&&(s[i]=e[i]);return s}function xc(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...s)=>e(...s);return new Proxy(n,{get:(s,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const Ht=p.createContext({});function qt(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function ht(e){return typeof e=="string"||Array.isArray(e)}const gs=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ys=["initial",...gs];function Yt(e){return qt(e.animate)||ys.some(t=>ht(e[t]))}function Kr(e){return!!(Yt(e)||e.variants)}function vc(e,t){if(Yt(e)){const{initial:n,animate:s}=e;return{initial:n===!1||ht(n)?n:void 0,animate:ht(s)?s:void 0}}return e.inherit!==!1?t:{}}function bc(e){const{initial:t,animate:n}=vc(e,p.useContext(Ht));return p.useMemo(()=>({initial:t,animate:n}),[Zs(t),Zs(n)])}function Zs(e){return Array.isArray(e)?e.join(" "):e}const wc=Symbol.for("motionComponentSymbol");function Ue(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function jc(e,t,n){return p.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):Ue(n)&&(n.current=s))},[t])}const xs=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Sc="framerAppearId",Hr="data-"+xs(Sc),qr=p.createContext({});function Cc(e,t,n,s,i){var x,b;const{visualElement:r}=p.useContext(Ht),o=p.useContext(Wr),l=p.useContext(Kt),c=p.useContext(ps).reducedMotion,d=p.useRef(null);s=s||o.renderer,!d.current&&s&&(d.current=s(e,{visualState:t,parent:r,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const u=d.current,h=p.useContext(qr);u&&!u.projection&&i&&(u.type==="html"||u.type==="svg")&&Tc(d.current,n,i,h);const f=p.useRef(!1);p.useInsertionEffect(()=>{u&&f.current&&u.update(n,l)});const m=n[Hr],y=p.useRef(!!m&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,m))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,m)));return Zi(()=>{u&&(f.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),fs.render(u.render),y.current&&u.animationState&&u.animationState.animateChanges())}),p.useEffect(()=>{u&&(!y.current&&u.animationState&&u.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,m)}),y.current=!1))}),u}function Tc(e,t,n,s){const{layoutId:i,layout:r,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Yr(e.parent)),e.projection.setOptions({layoutId:i,layout:r,alwaysMeasureLayout:!!o||l&&Ue(l),visualElement:e,animationType:typeof r=="string"?r:"both",initialPromotionConfig:s,crossfade:u,layoutScroll:c,layoutRoot:d})}function Yr(e){if(e)return e.options.allowProjection!==!1?e.projection:Yr(e.parent)}function Pc({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:s,Component:i}){e&&mc(e);function r(l,c){let d;const u={...p.useContext(ps),...l,layoutId:Ac(l)},{isStatic:h}=u,f=bc(l),m=s(l,h);if(!h&&Kn){Ec();const y=Rc(u);d=y.MeasureLayout,f.visualElement=Cc(i,m,u,t,y.ProjectionNode)}return a.jsxs(Ht.Provider,{value:f,children:[d&&f.visualElement?a.jsx(d,{visualElement:f.visualElement,...u}):null,n(i,l,jc(m,f.visualElement,c),m,h,f.visualElement)]})}r.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const o=p.forwardRef(r);return o[wc]=i,o}function Ac({layoutId:e}){const t=p.useContext(Wn).id;return t&&e!==void 0?t+"-"+e:e}function Ec(e,t){p.useContext(Wr).strict}function Rc(e){const{drag:t,layout:n}=Ge;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const ft={};function Nc(e){for(const t in e)ft[t]=e[t],es(t)&&(ft[t].isCSSVariable=!0)}function Qr(e,{layout:t,layoutId:n}){return Ze.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!ft[e]||e==="opacity")}const Mc={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Dc=Xe.length;function Bc(e,t,n){let s="",i=!0;for(let r=0;r<Dc;r++){const o=Xe[r],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const d=Or(l,hs[o]);if(!c){i=!1;const u=Mc[o]||o;s+=`${u}(${d}) `}n&&(t[o]=d)}}return s=s.trim(),n?s=n(t,i?"":s):i&&(s="none"),s}function vs(e,t,n){const{style:s,vars:i,transformOrigin:r}=e;let o=!1,l=!1;for(const c in t){const d=t[c];if(Ze.has(c)){o=!0;continue}else if(es(c)){i[c]=d;continue}else{const u=Or(d,hs[c]);c.startsWith("origin")?(l=!0,r[c]=u):s[c]=u}}if(t.transform||(o||n?s.transform=Bc(t,e.transform,n):s.transform&&(s.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=r;s.transformOrigin=`${c} ${d} ${u}`}}const bs=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Jr(e,t,n){for(const s in t)!se(t[s])&&!Qr(s,n)&&(e[s]=t[s])}function Vc({transformTemplate:e},t){return p.useMemo(()=>{const n=bs();return vs(n,t,e),Object.assign({},n.vars,n.style)},[t])}function kc(e,t){const n=e.style||{},s={};return Jr(s,n,e),Object.assign(s,Vc(e,t)),s}function Ic(e,t){const n={},s=kc(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const Lc={offset:"stroke-dashoffset",array:"stroke-dasharray"},Oc={offset:"strokeDashoffset",array:"strokeDasharray"};function Fc(e,t,n=1,s=0,i=!0){e.pathLength=1;const r=i?Lc:Oc;e[r.offset]=I.transform(-s);const o=I.transform(t),l=I.transform(n);e[r.array]=`${o} ${l}`}function Xr(e,{attrX:t,attrY:n,attrScale:s,pathLength:i,pathSpacing:r=1,pathOffset:o=0,...l},c,d,u){if(vs(e,l,d),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:f}=e;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),s!==void 0&&(h.scale=s),i!==void 0&&Fc(h,i,r,o,!1)}const Zr=()=>({...bs(),attrs:{}}),eo=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Uc(e,t,n,s){const i=p.useMemo(()=>{const r=Zr();return Xr(r,t,eo(s),e.transformTemplate,e.style),{...r.attrs,style:{...r.style}}},[t]);if(e.style){const r={};Jr(r,e.style,e),i.style={...r,...i.style}}return i}const _c=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ws(e){return typeof e!="string"||e.includes("-")?!1:!!(_c.indexOf(e)>-1||/[A-Z]/u.test(e))}function $c(e=!1){return(n,s,i,{latestValues:r},o)=>{const c=(ws(n)?Uc:Ic)(s,r,o,n),d=yc(s,typeof n=="string",e),u=n!==p.Fragment?{...d,...c,ref:i}:{},{children:h}=s,f=p.useMemo(()=>se(h)?h.get():h,[h]);return p.createElement(n,{...u,children:f})}}function ei(e){const t=[{},{}];return e==null||e.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function js(e,t,n,s){if(typeof t=="function"){const[i,r]=ei(s);t=t(n!==void 0?n:e.custom,i,r)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,r]=ei(s);t=t(n!==void 0?n:e.custom,i,r)}return t}function Dt(e){return se(e)?e.get():e}function zc({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,i){return{latestValues:Wc(n,s,i,e),renderState:t()}}const to=e=>(t,n)=>{const s=p.useContext(Ht),i=p.useContext(Kt),r=()=>zc(e,t,s,i);return n?r():Gn(r)};function Wc(e,t,n,s){const i={},r=s(e,{});for(const f in r)i[f]=Dt(r[f]);let{initial:o,animate:l}=e;const c=Yt(e),d=Kr(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const h=u?l:o;if(h&&typeof h!="boolean"&&!qt(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const y=js(e,f[m]);if(y){const{transitionEnd:x,transition:b,...g}=y;for(const w in g){let v=g[w];if(Array.isArray(v)){const T=u?v.length-1:0;v=v[T]}v!==null&&(i[w]=v)}for(const w in x)i[w]=x[w]}}}return i}function Ss(e,t,n){var r;const{style:s}=e,i={};for(const o in s)(se(s[o])||t.style&&se(t.style[o])||Qr(o,e)||((r=n==null?void 0:n.getValue(o))==null?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return i}const Gc={useVisualState:to({scrapeMotionValuesFromProps:Ss,createRenderState:bs})};function no(e,t,n){const s=Ss(e,t,n);for(const i in e)if(se(e[i])||se(t[i])){const r=Xe.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;s[r]=e[i]}return s}const Kc={useVisualState:to({scrapeMotionValuesFromProps:no,createRenderState:Zr})};function Hc(e,t){return function(s,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...ws(s)?Kc:Gc,preloadedFeatures:e,useRender:$c(i),createVisualElement:t,Component:s};return Pc(o)}}function mt(e,t,n){const s=e.getProps();return js(s,t,n!==void 0?n:s.custom,e)}const Dn=e=>Array.isArray(e);function qc(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,We(n))}function Yc(e){return Dn(e)?e[e.length-1]||0:e}function Qc(e,t){const n=mt(e,t);let{transitionEnd:s={},transition:i={},...r}=n||{};r={...r,...s};for(const o in r){const l=Yc(r[o]);qc(e,o,l)}}function Jc(e){return!!(se(e)&&e.add)}function Bn(e,t){const n=e.getValue("willChange");if(Jc(n))return n.add(t);if(!n&&je.WillChange){const s=new je.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function so(e){return e.props[Hr]}const Xc=e=>e!==null;function Zc(e,{repeat:t,repeatType:n="loop"},s){const i=e.filter(Xc),r=t&&n!=="loop"&&t%2===1?0:i.length-1;return!r||s===void 0?i[r]:s}const eu={type:"spring",stiffness:500,damping:25,restSpeed:10},tu=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),nu={type:"keyframes",duration:.8},su={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},iu=(e,{keyframes:t})=>t.length>2?nu:Ze.has(e)?e.startsWith("scale")?tu(t[1]):eu:su;function ru({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:i,repeat:r,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const Cs=(e,t,n,s={},i,r)=>o=>{const l=ds(s,e)||{},c=l.delay||s.delay||0;let{elapsed:d=0}=s;d=d-ye(c);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:f=>{t.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:r?void 0:i};ru(l)||Object.assign(u,iu(e,u)),u.duration&&(u.duration=ye(u.duration)),u.repeatDelay&&(u.repeatDelay=ye(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(h=!0)),(je.instantAnimations||je.skipAnimations)&&(h=!0,u.duration=0,u.delay=0),u.allowFlatten=!l.type&&!l.ease,h&&!r&&t.get()!==void 0){const f=Zc(u.keyframes,l);if(f!==void 0){Y.update(()=>{u.onUpdate(f),u.onComplete()});return}}return l.isSync?new ls(u):new Fl(u)};function ou({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function io(e,t,{delay:n=0,transitionOverride:s,type:i}={}){let{transition:r=e.getDefaultTransition(),transitionEnd:o,...l}=t;s&&(r=s);const c=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const u in l){const h=e.getValue(u,e.latestValues[u]??null),f=l[u];if(f===void 0||d&&ou(d,u))continue;const m={delay:n,...ds(r||{},u)},y=h.get();if(y!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===y&&!m.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const g=so(e);if(g){const w=window.MotionHandoffAnimation(g,u,Y);w!==null&&(m.startTime=w,x=!0)}}Bn(e,u),h.start(Cs(u,h,f,e.shouldReduceMotion&&Br.has(u)?{type:!1}:m,e,x));const b=h.animation;b&&c.push(b)}return o&&Promise.all(c).then(()=>{Y.update(()=>{o&&Qc(e,o)})}),c}function Vn(e,t,n={}){var c;const s=mt(e,t,n.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const r=s?()=>Promise.all(io(e,s,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:f}=i;return au(e,t,u+d,h,f,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[d,u]=l==="beforeChildren"?[r,o]:[o,r];return d().then(()=>u())}else return Promise.all([r(),o(n.delay)])}function au(e,t,n=0,s=0,i=1,r){const o=[],l=(e.variantChildren.size-1)*s,c=i===1?(d=0)=>d*s:(d=0)=>l-d*s;return Array.from(e.variantChildren).sort(lu).forEach((d,u)=>{d.notify("AnimationStart",t),o.push(Vn(d,t,{...r,delay:n+c(u)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(o)}function lu(e,t){return e.sortNodePosition(t)}function cu(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const i=t.map(r=>Vn(e,r,n));s=Promise.all(i)}else if(typeof t=="string")s=Vn(e,t,n);else{const i=typeof t=="function"?mt(e,t,n.custom):t;s=Promise.all(io(e,i,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function ro(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const uu=ys.length;function oo(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?oo(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<uu;n++){const s=ys[n],i=e.props[s];(ht(i)||i===!1)&&(t[s]=i)}return t}const du=[...gs].reverse(),hu=gs.length;function fu(e){return t=>Promise.all(t.map(({animation:n,options:s})=>cu(e,n,s)))}function mu(e){let t=fu(e),n=ti(),s=!0;const i=c=>(d,u)=>{var f;const h=mt(e,u,c==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:y,...x}=h;d={...d,...x,...y}}return d};function r(c){t=c(e)}function o(c){const{props:d}=e,u=oo(e.parent)||{},h=[],f=new Set;let m={},y=1/0;for(let b=0;b<hu;b++){const g=du[b],w=n[g],v=d[g]!==void 0?d[g]:u[g],T=ht(v),j=g===c?w.isActive:null;j===!1&&(y=b);let C=v===u[g]&&v!==d[g]&&T;if(C&&s&&e.manuallyAnimateOnMount&&(C=!1),w.protectedKeys={...m},!w.isActive&&j===null||!v&&!w.prevProp||qt(v)||typeof v=="boolean")continue;const D=pu(w.prevProp,v);let A=D||g===c&&w.isActive&&!C&&T||b>y&&T,V=!1;const L=Array.isArray(v)?v:[v];let F=L.reduce(i(g),{});j===!1&&(F={});const{prevResolvedValues:_={}}=w,G={..._,...F},X=P=>{A=!0,f.has(P)&&(V=!0,f.delete(P)),w.needsAnimating[P]=!0;const E=e.getValue(P);E&&(E.liveStyle=!1)};for(const P in G){const E=F[P],R=_[P];if(m.hasOwnProperty(P))continue;let te=!1;Dn(E)&&Dn(R)?te=!ro(E,R):te=E!==R,te?E!=null?X(P):f.add(P):E!==void 0&&f.has(P)?X(P):w.protectedKeys[P]=!0}w.prevProp=v,w.prevResolvedValues=F,w.isActive&&(m={...m,...F}),s&&e.blockInitialAnimation&&(A=!1),A&&(!(C&&D)||V)&&h.push(...L.map(P=>({animation:P,options:{type:g}})))}if(f.size){const b={};if(typeof d.initial!="boolean"){const g=mt(e,Array.isArray(d.initial)?d.initial[0]:d.initial);g&&g.transition&&(b.transition=g.transition)}f.forEach(g=>{const w=e.getBaseTarget(g),v=e.getValue(g);v&&(v.liveStyle=!0),b[g]=w??null}),h.push({animation:b})}let x=!!h.length;return s&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(x=!1),s=!1,x?t(h):Promise.resolve()}function l(c,d){var h;if(n[c].isActive===d)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(c,d)}),n[c].isActive=d;const u=o(c);for(const f in n)n[f].protectedKeys={};return u}return{animateChanges:o,setActive:l,setAnimateFunction:r,getState:()=>n,reset:()=>{n=ti(),s=!0}}}function pu(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!ro(t,e):!1}function Me(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ti(){return{animate:Me(!0),whileInView:Me(),whileHover:Me(),whileTap:Me(),whileDrag:Me(),whileFocus:Me(),exit:Me()}}class Re{constructor(t){this.isMounted=!1,this.node=t}update(){}}class gu extends Re{constructor(t){super(t),t.animationState||(t.animationState=mu(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();qt(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let yu=0;class xu extends Re{constructor(){super(...arguments),this.id=yu++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const vu={animation:{Feature:gu},exit:{Feature:xu}};function pt(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function bt(e){return{point:{x:e.pageX,y:e.pageY}}}const bu=e=>t=>ms(t)&&e(t,bt(t));function rt(e,t,n,s){return pt(e,t,bu(n),s)}function ao({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function wu({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function ju(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}const lo=1e-4,Su=1-lo,Cu=1+lo,co=.01,Tu=0-co,Pu=0+co;function ie(e){return e.max-e.min}function Au(e,t,n){return Math.abs(e-t)<=n}function ni(e,t,n,s=.5){e.origin=s,e.originPoint=q(t.min,t.max,e.origin),e.scale=ie(n)/ie(t),e.translate=q(n.min,n.max,e.origin)-e.originPoint,(e.scale>=Su&&e.scale<=Cu||isNaN(e.scale))&&(e.scale=1),(e.translate>=Tu&&e.translate<=Pu||isNaN(e.translate))&&(e.translate=0)}function ot(e,t,n,s){ni(e.x,t.x,n.x,s?s.originX:void 0),ni(e.y,t.y,n.y,s?s.originY:void 0)}function si(e,t,n){e.min=n.min+t.min,e.max=e.min+ie(t)}function Eu(e,t,n){si(e.x,t.x,n.x),si(e.y,t.y,n.y)}function ii(e,t,n){e.min=t.min-n.min,e.max=e.min+ie(t)}function at(e,t,n){ii(e.x,t.x,n.x),ii(e.y,t.y,n.y)}const ri=()=>({translate:0,scale:1,origin:0,originPoint:0}),_e=()=>({x:ri(),y:ri()}),oi=()=>({min:0,max:0}),J=()=>({x:oi(),y:oi()});function de(e){return[e("x"),e("y")]}function ln(e){return e===void 0||e===1}function kn({scale:e,scaleX:t,scaleY:n}){return!ln(e)||!ln(t)||!ln(n)}function Be(e){return kn(e)||uo(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function uo(e){return ai(e.x)||ai(e.y)}function ai(e){return e&&e!=="0%"}function Ft(e,t,n){const s=e-n,i=t*s;return n+i}function li(e,t,n,s,i){return i!==void 0&&(e=Ft(e,i,s)),Ft(e,n,s)+t}function In(e,t=0,n=1,s,i){e.min=li(e.min,t,n,s,i),e.max=li(e.max,t,n,s,i)}function ho(e,{x:t,y:n}){In(e.x,t.translate,t.scale,t.originPoint),In(e.y,n.translate,n.scale,n.originPoint)}const ci=.999999999999,ui=1.0000000000001;function Ru(e,t,n,s=!1){const i=n.length;if(!i)return;t.x=t.y=1;let r,o;for(let l=0;l<i;l++){r=n[l],o=r.projectionDelta;const{visualElement:c}=r.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&r.options.layoutScroll&&r.scroll&&r!==r.root&&ze(e,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,ho(e,o)),s&&Be(r.latestValues)&&ze(e,r.latestValues))}t.x<ui&&t.x>ci&&(t.x=1),t.y<ui&&t.y>ci&&(t.y=1)}function $e(e,t){e.min=e.min+t,e.max=e.max+t}function di(e,t,n,s,i=.5){const r=q(e.min,e.max,i);In(e,t,n,r,s)}function ze(e,t){di(e.x,t.x,t.scaleX,t.scale,t.originX),di(e.y,t.y,t.scaleY,t.scale,t.originY)}function fo(e,t){return ao(ju(e.getBoundingClientRect(),t))}function Nu(e,t,n){const s=fo(e,n),{scroll:i}=t;return i&&($e(s.x,i.offset.x),$e(s.y,i.offset.y)),s}const mo=({current:e})=>e?e.ownerDocument.defaultView:null,hi=(e,t)=>Math.abs(e-t);function Mu(e,t){const n=hi(e.x,t.x),s=hi(e.y,t.y);return Math.sqrt(n**2+s**2)}class po{constructor(t,n,{transformPagePoint:s,contextWindow:i,dragSnapToOrigin:r=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=un(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=Mu(h.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:y}=h,{timestamp:x}=ee;this.history.push({...y,timestamp:x});const{onStart:b,onMove:g}=this.handlers;f||(b&&b(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=cn(f,this.transformPagePoint),Y.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=un(h.type==="pointercancel"?this.lastMoveEventInfo:cn(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,b),y&&y(h,b)},!ms(t))return;this.dragSnapToOrigin=r,this.handlers=n,this.transformPagePoint=s,this.contextWindow=i||window;const o=bt(t),l=cn(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=ee;this.history=[{...c,timestamp:d}];const{onSessionStart:u}=n;u&&u(t,un(l,this.history)),this.removeListeners=yt(rt(this.contextWindow,"pointermove",this.handlePointerMove),rt(this.contextWindow,"pointerup",this.handlePointerUp),rt(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ae(this.updatePoint)}}function cn(e,t){return t?{point:t(e.point)}:e}function fi(e,t){return{x:e.x-t.x,y:e.y-t.y}}function un({point:e},t){return{point:e,delta:fi(e,go(t)),offset:fi(e,Du(t)),velocity:Bu(t,.1)}}function Du(e){return e[0]}function go(e){return e[e.length-1]}function Bu(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const i=go(e);for(;n>=0&&(s=e[n],!(i.timestamp-s.timestamp>ye(t)));)n--;if(!s)return{x:0,y:0};const r=xe(i.timestamp-s.timestamp);if(r===0)return{x:0,y:0};const o={x:(i.x-s.x)/r,y:(i.y-s.y)/r};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Vu(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?q(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?q(n,e,s.max):Math.min(e,n)),e}function mi(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function ku(e,{top:t,left:n,bottom:s,right:i}){return{x:mi(e.x,n,i),y:mi(e.y,t,s)}}function pi(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function Iu(e,t){return{x:pi(e.x,t.x),y:pi(e.y,t.y)}}function Lu(e,t){let n=.5;const s=ie(e),i=ie(t);return i>s?n=ct(t.min,t.max-s,e.min):s>i&&(n=ct(e.min,e.max-i,t.min)),we(0,1,n)}function Ou(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Ln=.35;function Fu(e=Ln){return e===!1?e=0:e===!0&&(e=Ln),{x:gi(e,"left","right"),y:gi(e,"top","bottom")}}function gi(e,t,n){return{min:yi(e,t),max:yi(e,n)}}function yi(e,t){return typeof e=="number"?e:e[t]||0}const Uu=new WeakMap;class _u{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=J(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(bt(u).point)},r=(u,h)=>{const{drag:f,dragPropagation:m,onDragStart:y}=this.getProps();if(f&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=tc(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),de(b=>{let g=this.getAxisMotionValue(b).get()||0;if(ve.test(g)){const{projection:w}=this.visualElement;if(w&&w.layout){const v=w.layout.layoutBox[b];v&&(g=ie(v)*(parseFloat(g)/100))}}this.originPoint[b]=g}),y&&Y.postRender(()=>y(u,h)),Bn(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(u,h)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:y,onDrag:x}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:b}=h;if(m&&this.currentDirection===null){this.currentDirection=$u(b),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,b),this.updateAxis("y",h.point,b),this.visualElement.render(),x&&x(u,h)},l=(u,h)=>this.stop(u,h),c=()=>de(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)==null?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new po(t,{onSessionStart:i,onStart:r,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:mo(this.visualElement)})}stop(t,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:r}=this.getProps();r&&Y.postRender(()=>r(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:i}=this.getProps();if(!s||!At(t,i,this.currentDirection))return;const r=this.getAxisMotionValue(t);let o=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(o=Vu(o,this.constraints[t],this.elastic[t])),r.set(o)}resolveConstraints(){var r;const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(r=this.visualElement.projection)==null?void 0:r.layout,i=this.constraints;t&&Ue(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=ku(s.layoutBox,t):this.constraints=!1,this.elastic=Fu(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&de(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Ou(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ue(t))return!1;const s=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const r=Nu(s,i.root,this.visualElement.getTransformPagePoint());let o=Iu(i.layout.layoutBox,r);if(n){const l=n(wu(o));this.hasMutatedConstraints=!!l,l&&(o=ao(l))}return o}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:i,dragTransition:r,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=de(u=>{if(!At(u,n,this.currentDirection))return;let h=c&&c[u]||{};o&&(h={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,y={type:"inertia",velocity:s?t[u]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...r,...h};return this.startAxisValueAnimation(u,y)});return Promise.all(d).then(l)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return Bn(this.visualElement,t),s.start(Cs(t,s,0,n,this.visualElement,!1))}stopAnimation(){de(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){de(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),i=s[n];return i||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){de(n=>{const{drag:s}=this.getProps();if(!At(n,s,this.currentDirection))return;const{projection:i}=this.visualElement,r=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[n];r.set(t[n]-q(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Ue(n)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};de(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=Lu({min:c,max:c},this.constraints[o])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),de(o=>{if(!At(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(q(c,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;Uu.set(this.visualElement,this);const t=this.visualElement.current,n=rt(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();Ue(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,r=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Y.read(s);const o=pt(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(de(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),n(),r(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:r=!1,dragElastic:o=Ln,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:i,dragConstraints:r,dragElastic:o,dragMomentum:l}}}function At(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function $u(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class zu extends Re{constructor(t){super(t),this.removeGroupControls=he,this.removeListeners=he,this.controls=new _u(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||he}unmount(){this.removeGroupControls(),this.removeListeners()}}const xi=e=>(t,n)=>{e&&Y.postRender(()=>e(t,n))};class Wu extends Re{constructor(){super(...arguments),this.removePointerDownListener=he}onPointerDown(t){this.session=new po(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:mo(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:xi(t),onStart:xi(n),onMove:s,onEnd:(r,o)=>{delete this.session,i&&Y.postRender(()=>i(r,o))}}}mount(){this.removePointerDownListener=rt(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Bt={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function vi(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const tt={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(I.test(e))e=parseFloat(e);else return e;const n=vi(e,t.target.x),s=vi(e,t.target.y);return`${n}% ${s}%`}},Gu={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,i=Ee.parse(e);if(i.length>5)return s;const r=Ee.createTransformer(e),o=typeof i[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;i[0+o]/=l,i[1+o]/=c;const d=q(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),r(i)}};class Ku extends p.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:i}=this.props,{projection:r}=t;Nc(Hu),r&&(n.group&&n.group.add(r),s&&s.register&&i&&s.register(r),r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),Bt.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:i,isPresent:r}=this.props,{projection:o}=s;return o&&(o.isPresent=r,i||t.layoutDependency!==n||n===void 0||t.isPresent!==r?o.willUpdate():this.safeToRemove(),t.isPresent!==r&&(r?o.promote():o.relegate()||Y.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),fs.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function yo(e){const[t,n]=zr(),s=p.useContext(Wn);return a.jsx(Ku,{...e,layoutGroup:s,switchLayoutGroup:p.useContext(qr),isPresent:t,safeToRemove:n})}const Hu={borderRadius:{...tt,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:tt,borderTopRightRadius:tt,borderBottomLeftRadius:tt,borderBottomRightRadius:tt,boxShadow:Gu};function qu(e,t,n){const s=se(e)?e:We(e);return s.start(Cs("",s,t,n)),s.animation}const Yu=(e,t)=>e.depth-t.depth;class Qu{constructor(){this.children=[],this.isDirty=!1}add(t){Hn(this.children,t),this.isDirty=!0}remove(t){qn(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Yu),this.isDirty=!1,this.children.forEach(t)}}function Ju(e,t){const n=re.now(),s=({timestamp:i})=>{const r=i-n;r>=t&&(Ae(s),e(r-t))};return Y.setup(s,!0),()=>Ae(s)}const xo=["TopLeft","TopRight","BottomLeft","BottomRight"],Xu=xo.length,bi=e=>typeof e=="string"?parseFloat(e):e,wi=e=>typeof e=="number"||I.test(e);function Zu(e,t,n,s,i,r){i?(e.opacity=q(0,n.opacity??1,ed(s)),e.opacityExit=q(t.opacity??1,0,td(s))):r&&(e.opacity=q(t.opacity??1,n.opacity??1,s));for(let o=0;o<Xu;o++){const l=`border${xo[o]}Radius`;let c=ji(t,l),d=ji(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||wi(c)===wi(d)?(e[l]=Math.max(q(bi(c),bi(d),s),0),(ve.test(d)||ve.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||n.rotate)&&(e.rotate=q(t.rotate||0,n.rotate||0,s))}function ji(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const ed=vo(0,.5,ur),td=vo(.5,.95,he);function vo(e,t,n){return s=>s<e?0:s>t?1:n(ct(e,t,s))}function Si(e,t){e.min=t.min,e.max=t.max}function ue(e,t){Si(e.x,t.x),Si(e.y,t.y)}function Ci(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Ti(e,t,n,s,i){return e-=t,e=Ft(e,1/n,s),i!==void 0&&(e=Ft(e,1/i,s)),e}function nd(e,t=0,n=1,s=.5,i,r=e,o=e){if(ve.test(t)&&(t=parseFloat(t),t=q(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=q(r.min,r.max,s);e===r&&(l-=t),e.min=Ti(e.min,t,n,l,i),e.max=Ti(e.max,t,n,l,i)}function Pi(e,t,[n,s,i],r,o){nd(e,t[n],t[s],t[i],t.scale,r,o)}const sd=["x","scaleX","originX"],id=["y","scaleY","originY"];function Ai(e,t,n,s){Pi(e.x,t,sd,n?n.x:void 0,s?s.x:void 0),Pi(e.y,t,id,n?n.y:void 0,s?s.y:void 0)}function Ei(e){return e.translate===0&&e.scale===1}function bo(e){return Ei(e.x)&&Ei(e.y)}function Ri(e,t){return e.min===t.min&&e.max===t.max}function rd(e,t){return Ri(e.x,t.x)&&Ri(e.y,t.y)}function Ni(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function wo(e,t){return Ni(e.x,t.x)&&Ni(e.y,t.y)}function Mi(e){return ie(e.x)/ie(e.y)}function Di(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class od{constructor(){this.members=[]}add(t){Hn(this.members,t),t.scheduleRender()}remove(t){if(qn(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let s;for(let i=n;i>=0;i--){const r=this.members[i];if(r.isPresent!==!1){s=r;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ad(e,t,n){let s="";const i=e.x.translate/t.x,r=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((i||r||o)&&(s=`translate3d(${i}px, ${r}px, ${o}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:u,rotateX:h,rotateY:f,skewX:m,skewY:y}=n;d&&(s=`perspective(${d}px) ${s}`),u&&(s+=`rotate(${u}deg) `),h&&(s+=`rotateX(${h}deg) `),f&&(s+=`rotateY(${f}deg) `),m&&(s+=`skewX(${m}deg) `),y&&(s+=`skewY(${y}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(s+=`scale(${l}, ${c})`),s||"none"}const dn=["","X","Y","Z"],ld={visibility:"hidden"},cd=1e3;let ud=0;function hn(e,t,n,s){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),s&&(s[e]=0))}function jo(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=so(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Y,!(i||r))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&jo(s)}function So({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(o={},l=t==null?void 0:t()){this.id=ud++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(fd),this.nodes.forEach(xd),this.nodes.forEach(vd),this.nodes.forEach(md)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Qu)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Jn),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=$r(o)&&!ac(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let u;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=Ju(h,250),Bt.hasAnimatedSinceResize&&(Bt.hasAnimatedSinceResize=!1,this.nodes.forEach(Vi))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||d.getDefaultTransition()||Cd,{onLayoutAnimationStart:x,onLayoutAnimationComplete:b}=d.getProps(),g=!this.targetLayout||!wo(this.targetLayout,m),w=!h&&f;if(this.options.layoutRoot||this.resumeFrom||w||h&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const v={...ds(y,"layout"),onPlay:x,onComplete:b};(d.shouldReduceMotion||this.options.layoutRoot)&&(v.delay=0,v.type=!1),this.startAnimation(v),this.setAnimationOrigin(u,w)}else h||Vi(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ae(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(bd),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&jo(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Bi);return}this.isUpdating||this.nodes.forEach(gd),this.isUpdating=!1,this.nodes.forEach(yd),this.nodes.forEach(dd),this.nodes.forEach(hd),this.clearAllSnapshots();const l=re.now();ee.delta=we(0,1e3/60,l-ee.timestamp),ee.timestamp=l,ee.isProcessing=!0,tn.update.process(ee),tn.preRender.process(ee),tn.render.process(ee),ee.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,fs.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(pd),this.sharedNodes.forEach(wd)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Y.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Y.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ie(this.snapshot.measuredBox.x)&&!ie(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=J(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!bo(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||Be(this.latestValues)||u)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),Td(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return J();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(Pd))){const{scroll:u}=this.root;u&&($e(l.x,u.offset.x),$e(l.y,u.offset.y))}return l}removeElementScroll(o){var c;const l=J();if(ue(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:h,options:f}=u;u!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&ue(l,o),$e(l.x,h.offset.x),$e(l.y,h.offset.y))}return l}applyTransform(o,l=!1){const c=J();ue(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&ze(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Be(u.latestValues)&&ze(c,u.latestValues)}return Be(this.latestValues)&&ze(c,this.latestValues),c}removeTransform(o){const l=J();ue(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Be(d.latestValues))continue;kn(d.latestValues)&&d.updateSnapshot();const u=J(),h=d.measurePageBox();ue(u,h),Ai(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return Be(this.latestValues)&&Ai(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ee.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=ee.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=J(),this.relativeTargetOrigin=J(),at(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),ue(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=J(),this.targetWithTransforms=J()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Eu(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ue(this.target,this.layout.layoutBox),ho(this.target,this.targetDelta)):ue(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=J(),this.relativeTargetOrigin=J(),at(this.relativeTargetOrigin,this.target,m.target),ue(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||kn(this.parent.latestValues)||uo(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var y;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ee.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;ue(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;Ru(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=J());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ci(this.prevProjectionDelta.x,this.projectionDelta.x),Ci(this.prevProjectionDelta.y,this.projectionDelta.y)),ot(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!Di(this.projectionDelta.x,this.prevProjectionDelta.x)||!Di(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=_e(),this.projectionDelta=_e(),this.projectionDeltaWithTransform=_e()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=_e();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=J(),m=c?c.source:void 0,y=this.layout?this.layout.source:void 0,x=m!==y,b=this.getStack(),g=!b||b.members.length<=1,w=!!(x&&!g&&this.options.crossfade===!0&&!this.path.some(Sd));this.animationProgress=0;let v;this.mixTargetDelta=T=>{const j=T/1e3;ki(h.x,o.x,j),ki(h.y,o.y,j),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(at(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),jd(this.relativeTarget,this.relativeTargetOrigin,f,j),v&&rd(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=J()),ue(v,this.relativeTarget)),x&&(this.animationValues=u,Zu(u,d,this.latestValues,j,w,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(Ae(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Y.update(()=>{Bt.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=We(0)),this.currentAnimation=qu(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(cd),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&Co(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||J();const h=ie(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=ie(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}ue(l,c),ze(l,u),ot(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new od),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&hn("z",o,d,this.animationValues);for(let u=0;u<dn.length;u++)hn(`rotate${dn[u]}`,o,d,this.animationValues),hn(`skew${dn[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return ld;const l={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=Dt(o==null?void 0:o.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none",l;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=Dt(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Be(this.latestValues)&&(m.transform=c?c({},""):"none",this.hasProjected=!1),m}const u=d.animationValues||d.latestValues;this.applyTransformsToTarget(),l.transform=ad(this.projectionDeltaWithTransform,this.treeScale,u),c&&(l.transform=c(u,l.transform));const{x:h,y:f}=this.projectionDelta;l.transformOrigin=`${h.origin*100}% ${f.origin*100}% 0`,d.animationValues?l.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:l.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const m in ft){if(u[m]===void 0)continue;const{correct:y,applyTo:x,isCSSVariable:b}=ft[m],g=l.transform==="none"?u[m]:y(u[m],d);if(x){const w=x.length;for(let v=0;v<w;v++)l[x[v]]=g}else b?this.options.visualElement.renderState.vars[m]=g:l[m]=g}return this.options.layoutId&&(l.pointerEvents=d===this?Dt(o==null?void 0:o.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(Bi),this.root.sharedNodes.clear()}}}function dd(e){e.updateLayout()}function hd(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=e.layout,{animationType:r}=e.options,o=t.source!==e.layout.source;r==="size"?de(h=>{const f=o?t.measuredBox[h]:t.layoutBox[h],m=ie(f);f.min=s[h].min,f.max=f.min+m}):Co(r,t.layoutBox,s)&&de(h=>{const f=o?t.measuredBox[h]:t.layoutBox[h],m=ie(s[h]);f.max=f.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+m)});const l=_e();ot(l,s,t.layoutBox);const c=_e();o?ot(c,e.applyTransform(i,!0),t.measuredBox):ot(c,s,t.layoutBox);const d=!bo(l);let u=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const y=J();at(y,t.layoutBox,f.layoutBox);const x=J();at(x,s,m.layoutBox),wo(y,x)||(u=!0),h.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=y,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function fd(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function md(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function pd(e){e.clearSnapshot()}function Bi(e){e.clearMeasurements()}function gd(e){e.isLayoutDirty=!1}function yd(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Vi(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function xd(e){e.resolveTargetDelta()}function vd(e){e.calcProjection()}function bd(e){e.resetSkewAndRotation()}function wd(e){e.removeLeadSnapshot()}function ki(e,t,n){e.translate=q(t.translate,0,n),e.scale=q(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Ii(e,t,n,s){e.min=q(t.min,n.min,s),e.max=q(t.max,n.max,s)}function jd(e,t,n,s){Ii(e.x,t.x,n.x,s),Ii(e.y,t.y,n.y,s)}function Sd(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Cd={duration:.45,ease:[.4,0,.1,1]},Li=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Oi=Li("applewebkit/")&&!Li("chrome/")?Math.round:he;function Fi(e){e.min=Oi(e.min),e.max=Oi(e.max)}function Td(e){Fi(e.x),Fi(e.y)}function Co(e,t,n){return e==="position"||e==="preserve-aspect"&&!Au(Mi(t),Mi(n),.2)}function Pd(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const Ad=So({attachResizeListener:(e,t)=>pt(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),fn={current:void 0},To=So({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!fn.current){const e=new Ad({});e.mount(window),e.setOptions({layoutScroll:!0}),fn.current=e}return fn.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Ed={pan:{Feature:Wu},drag:{Feature:zu,ProjectionNode:To,MeasureLayout:yo}};function Ui(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,r=s[i];r&&Y.postRender(()=>r(t,bt(t)))}class Rd extends Re{mount(){const{current:t}=this.node;t&&(this.unmount=nc(t,(n,s)=>(Ui(this.node,s,"Start"),i=>Ui(this.node,i,"End"))))}unmount(){}}class Nd extends Re{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yt(pt(this.node.current,"focus",()=>this.onFocus()),pt(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function _i(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),r=s[i];r&&Y.postRender(()=>r(t,bt(t)))}class Md extends Re{mount(){const{current:t}=this.node;t&&(this.unmount=oc(t,(n,s)=>(_i(this.node,s,"Start"),(i,{success:r})=>_i(this.node,i,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const On=new WeakMap,mn=new WeakMap,Dd=e=>{const t=On.get(e.target);t&&t(e)},Bd=e=>{e.forEach(Dd)};function Vd({root:e,...t}){const n=e||document;mn.has(n)||mn.set(n,{});const s=mn.get(n),i=JSON.stringify(t);return s[i]||(s[i]=new IntersectionObserver(Bd,{root:e,...t})),s[i]}function kd(e,t,n){const s=Vd(t);return On.set(e,n),s.observe(e),()=>{On.delete(e),s.unobserve(e)}}const Id={some:0,all:1};class Ld extends Re{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:i="some",once:r}=t,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:Id[i]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,r&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),f=d?u:h;f&&f(c)};return kd(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Od(t,n))&&this.startObserver()}unmount(){}}function Od({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Fd={inView:{Feature:Ld},tap:{Feature:Md},focus:{Feature:Nd},hover:{Feature:Rd}},Ud={layout:{ProjectionNode:To,MeasureLayout:yo}},Fn={current:null},Po={current:!1};function _d(){if(Po.current=!0,!!Kn)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Fn.current=e.matches;e.addListener(t),t()}else Fn.current=!1}const $d=new WeakMap;function zd(e,t,n){for(const s in t){const i=t[s],r=n[s];if(se(i))e.addValue(s,i);else if(se(r))e.addValue(s,We(i,{owner:e}));else if(r!==i)if(e.hasValue(s)){const o=e.getValue(s);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(s);e.addValue(s,We(o!==void 0?o:i,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const $i=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Wd{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:i,blockInitialAnimation:r,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=cs,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=re.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Y.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!r,this.isControllingVariants=Yt(n),this.isVariantNode=Kr(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const m=h[f];c[f]!==void 0&&se(m)&&m.set(c[f],!1)}}mount(t){this.current=t,$d.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),Po.current||_d(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Fn.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ae(this.notifyUpdate),Ae(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=Ze.has(t);s&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Y.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),r=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),r(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ge){const n=Ge[t];if(!n)continue;const{isEnabled:s,Feature:i}=n;if(!this.features[t]&&i&&s(this.props)&&(this.features[t]=new i(this)),this.features[t]){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):J()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<$i.length;s++){const i=$i[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const r="on"+i,o=t[r];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=zd(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=We(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(er(s)||nr(s))?s=parseFloat(s):!cc(s)&&Ee.test(n)&&(s=Lr(t,n)),this.setBaseTarget(t,se(s)?s.get():s)),se(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var r;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const o=js(this.props,n,(r=this.presenceContext)==null?void 0:r.custom);o&&(s=o[t])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!se(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Jn),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Ao extends Wd{constructor(){super(...arguments),this.KeyframeResolver=Jl}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;se(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Eo(e,{style:t,vars:n},s,i){Object.assign(e.style,t,i&&i.getProjectionStyles(s));for(const r in n)e.style.setProperty(r,n[r])}function Gd(e){return window.getComputedStyle(e)}class Kd extends Ao{constructor(){super(...arguments),this.type="html",this.renderInstance=Eo}readValueFromInstance(t,n){var s;if(Ze.has(n))return(s=this.projection)!=null&&s.isProjecting?Pn(n):gl(t,n);{const i=Gd(t),r=(es(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(t,{transformPagePoint:n}){return fo(t,n)}build(t,n,s){vs(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return Ss(t,n,s)}}const Ro=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Hd(e,t,n,s){Eo(e,t,void 0,s);for(const i in t.attrs)e.setAttribute(Ro.has(i)?i:xs(i),t.attrs[i])}class qd extends Ao{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=J}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ze.has(n)){const s=Ir(n);return s&&s.default||0}return n=Ro.has(n)?n:xs(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return no(t,n,s)}build(t,n,s){Xr(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,i){Hd(t,n,s,i)}mount(t){this.isSVGTag=eo(t.tagName),super.mount(t)}}const Yd=(e,t)=>ws(e)?new qd(t):new Kd(t,{allowProjection:e!==p.Fragment}),Qd=Hc({...vu,...Fd,...Ed,...Ud},Yd),Ut=xc(Qd);function Jd({title:e,setTitle:t,content:n,setContent:s,imageFiles:i,setImageFiles:r,imageBase64List:o,setImageBase64List:l,isExpanded:c,setIsExpanded:d,isSubmitting:u,setIsSubmitting:h,userid:f,fetchPosts:m}){const y=g=>{const w=Array.from(g.target.files);r(w);const v=w.map(T=>new Promise(j=>{const C=new FileReader;C.onloadend=()=>j(C.result),C.readAsDataURL(T)}));Promise.all(v).then(l)},x="/api";console.log("🔍 Home - API URL:",x),console.log("🔍 Home - Environment:","/api");const b=async g=>{if(g.preventDefault(),!!n.trim()){if(!f){alert("ไม่พบข้อมูลผู้ใช้ กรุณาเข้าสู่ระบบใหม่");return}h(!0);try{console.log("📤 Posting to:",`${x}/api/post`),console.log("📤 Data to send:",{title:e,content:n,userid:f,images:i.length});const w=new FormData;w.append("title",e||"ไม่มีหัวข้อ"),w.append("content",n),w.append("userid",f),i.forEach((j,C)=>{w.append("images",j),console.log(`📸 Added image ${C+1}:`,j.name)});const v=await fetch(`${x}/api/post`,{method:"POST",body:w}),T=await v.json();console.log("📤 Post response:",T),v.ok?(console.log("✅ Post created successfully"),t(""),s(""),r([]),l([]),d(!1),await m()):(console.error("❌ Post creation failed:",T),alert("เกิดข้อผิดพลาดขณะโพสต์: "+(T.message||"Unknown error")))}catch(w){console.error("❌ Post error:",w),alert("เกิดข้อผิดพลาดขณะโพสต์")}finally{h(!1)}}};return a.jsx("section",{className:"new-post-section",children:a.jsx(Lt,{children:c?a.jsxs(Ut.form,{onSubmit:b,initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"post-form",children:[a.jsx("input",{type:"text",placeholder:"หัวข้อข่าว",value:e,onChange:g=>t(g.target.value),className:"input"}),a.jsx("textarea",{placeholder:"เขียนอะไรลงไป...",value:n,onChange:g=>s(g.target.value),required:!0,rows:"4",className:"textarea"}),a.jsxs("div",{style:{marginBottom:"0.75rem"},children:[a.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:y,className:"hidden",id:"imageUpload"}),a.jsx("label",{htmlFor:"imageUpload",className:"btn",style:{background:"#e0e7ff",color:"#2563eb",fontWeight:600,cursor:"pointer"},children:"เลือกรูปภาพ"})]}),o.length>0&&a.jsx("div",{className:"post-images",children:o.map((g,w)=>a.jsx("img",{src:g,alt:`preview-${w}`,className:"post-image"},w))}),a.jsxs("div",{style:{display:"flex",justifyContent:"end",gap:"0.75rem"},children:[a.jsx("button",{type:"button",onClick:()=>{d(!1),t(""),s(""),r([]),l([])},className:"btn",children:"ยกเลิก"}),a.jsx("button",{type:"submit",disabled:!n.trim()||u,className:"btn btn-primary",children:u?"กำลังโพสต์...":"โพสต์"})]})]}):a.jsx("button",{onClick:()=>d(!0),className:"btn",style:{width:"100%",marginBottom:"1.5rem"},children:"เขียนโพสต์ใหม่..."})})})}function Xd(){const[e,t]=p.useState(""),[n,s]=p.useState(""),[i,r]=p.useState(!1),[o,l]=p.useState(""),[c,d]=p.useState(""),[u,h]=p.useState([]),[f,m]=p.useState([]),[y,x]=p.useState([]),[b,g]=p.useState(!1),[w,v]=p.useState(!1),[T,j]=p.useState(null),[C,D]=p.useState(!1),[A,V]=p.useState(""),L=Oe(),F="/api";p.useEffect(()=>{const P=localStorage.getItem("token");if(console.log("Token from localStorage:",P,"Type:",typeof P),!P||P==="null"||P==="undefined"){console.log("No valid token found, redirecting to login"),L("/login");return}const E=typeof P=="string"?P:JSON.stringify(P);console.log("Using token:",E.substring(0,30)+"..."),fetch(`${F}/api/user/${E}`).then(R=>R.json()).then(R=>{console.log("API Response:",R),R.status&&R.data?(t(R.data.realname),s(R.data.userid),r(R.data.admin),R.data.profileImage?V(`data:image/jpeg;base64,${R.data.profileImage}`):R.data.avatar&&V(R.data.avatar)):(localStorage.removeItem("token"),L("/login"))}).catch(()=>{localStorage.removeItem("token"),L("/login")}),_()},[]);const _=async()=>{try{console.log("🔄 Fetching posts from:",`${F}/api/post`);const E=await(await fetch(`${F}/api/post`)).json();console.log("📝 Posts response:",E),E.status&&E.data?(x(E.data),console.log("✅ Posts loaded:",E.data.length,"posts")):(console.error("❌ Posts fetch failed:",E),x([]))}catch(P){console.error("❌ Posts fetch error:",P),x([])}},G=async P=>{if(window.confirm("คุณต้องการลบโพสต์นี้ใช่หรือไม่?"))try{const E=localStorage.getItem("token");(await fetch(`${F}/api/post/${P}`,{method:"DELETE",headers:{Authorization:`Bearer ${E}`}})).ok?await _():alert("ลบโพสต์ไม่สำเร็จ")}catch{alert("เกิดข้อผิดพลาดขณะลบโพสต์")}},X=P=>{j(P),v(!0)},k=()=>{v(!1),j(null)};function M(P){const E=/(https?:\/\/[^\s]+)/g;return P.split(E).map((te,et)=>E.test(te)?a.jsx("a",{href:te,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:te},et):te)}return a.jsxs("div",{className:"home-bg",children:[a.jsxs("div",{className:"profile-section",children:[a.jsx("div",{className:"profile-avatar-center",children:a.jsx("img",{src:A,alt:"avatar",className:"avatar-img",onError:P=>{P.target.onerror=null}})}),a.jsxs("div",{className:"profile-info-center",children:[a.jsx("div",{className:"profile-name",children:e||"ชื่อผู้ใช้"}),a.jsx("div",{className:"profile-grade",children:i?"Admin":"สมาชิกทั่วไป"})]})]}),a.jsx("div",{style:{width:"100%",maxWidth:4500,margin:"0 auto"},children:a.jsx(Jd,{title:o,setTitle:l,content:c,setContent:d,imageFiles:u,setImageFiles:h,imageBase64List:f,setImageBase64List:m,isExpanded:b,setIsExpanded:g,isSubmitting:C,setIsSubmitting:D,userid:n,fetchPosts:_})}),a.jsxs("div",{className:"home-container",children:[a.jsxs("section",{className:"all-posts-section",style:{marginTop:"0.1rem"},children:[a.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:600,color:"#1e293b",marginBottom:"1rem",textAlign:"center"},children:"ข่าวสารทั้งหมด"}),a.jsx("div",{children:y.length===0?a.jsx("p",{style:{textAlign:"center",color:"#64748b"},children:"ยังไม่มีข่าวสาร"}):a.jsx(Lt,{children:y.map(P=>{var E;return a.jsxs(Ut.div,{className:"post-card",initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0,y:-30},transition:{duration:.4},layout:!0,children:[a.jsx("h3",{className:"post-title",children:P.title||"(ไม่มีหัวข้อ)"}),a.jsx("p",{className:"post-content",children:M(P.content)}),((E=P.images)==null?void 0:E.length)>0&&a.jsx("div",{className:"post-images",children:P.images.map((R,te)=>a.jsx("img",{src:R,alt:`โพสต์ ${te+1}`,className:"post-image",onClick:()=>X(R)},te))}),a.jsxs("div",{className:"post-meta",children:["โพสต์โดย: ",P.postedBy," | ",new Date(P.date).toLocaleString()]}),(i||String(P.userid)===String(n))&&a.jsx("button",{className:"btn btn-danger",style:{marginTop:8,padding:"4px 8px",display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>G(P.id),title:"ลบโพสต์",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"none",viewBox:"0 0 24 24",children:a.jsx("path",{fill:"currentColor",d:"M9 3a3 3 0 0 1 6 0h5a1 1 0 1 1 0 2h-1.05l-1.2 14.39A3 3 0 0 1 14.76 22H9.24a3 3 0 0 1-2.99-2.61L5.05 5H4a1 1 0 1 1 0-2h5Zm2 0a1 1 0 0 1 2 0h-2Zm-4.95 2 1.2 14.39A1 1 0 0 0 9.24 20h5.52a1 1 0 0 0 .99-.89L16.95 5H7.05ZM9 9a1 1 0 0 1 2 0v6a1 1 0 1 1-2 0V9Zm4 0a1 1 0 1 1 2 0v6a1 1 0 1 1-2 0V9Z"})})})]},P.id)})})})]}),w&&a.jsx("div",{className:"modal-bg",onClick:k,children:a.jsx("img",{src:T,alt:"expanded",className:"modal-img",onClick:P=>P.stopPropagation()})})]})]})}const Zd="/assets/logo-0b13794e.png";function eh(){const[e,t]=p.useState("login"),[n,s]=p.useState(""),[i,r]=p.useState(""),[o,l]=p.useState(""),[c,d]=p.useState(!1),[u,h]=p.useState(""),[f,m]=p.useState(!1),[y,x]=p.useState(""),[b,g]=p.useState(""),[w,v]=p.useState(""),[T,j]=p.useState(""),[C,D]=p.useState(""),[A,V]=p.useState(""),[L,F]=p.useState(""),_="/api";console.log("🔍 API URL:",_),console.log("🔍 Environment:",{VITE_API_URL:"/api",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1});const G=Oe();p.useEffect(()=>{m(!0)},[]);const X=async M=>{M.preventDefault(),l(""),d(!0),h("กำลังเข้าสู่ระบบ...");try{const P=await fetch(`${_}/api/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,password:i})}),E=await P.json();if(console.log("Login response data:",E),P.ok){h("เข้าสู่ระบบสำเร็จ! กำลังนำคุณไปยังหน้าหลัก...");const R=E.data;console.log("Token to save:",R,"Type:",typeof R),typeof R=="string"?localStorage.setItem("token",R):typeof R=="object"&&R.token?localStorage.setItem("token",R.token):(console.error("Invalid token format:",R),localStorage.setItem("token",JSON.stringify(R))),setTimeout(()=>{G("/")},1e3)}else l(E.error||E.message||"เข้าสู่ระบบไม่สำเร็จ"),h("")}catch{l("เกิดข้อผิดพลาดในการเชื่อมต่อ"),h("")}finally{d(!1)}},k=async M=>{if(M.preventDefault(),V(""),!y||!T||!C||!b||!w||!L){V("กรุณากรอกข้อมูลให้ครบ");return}if(T!==C){V("รหัสผ่านไม่ตรงกัน");return}try{const P=await fetch(`${_}/api/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:y,realname:b,userid:w,password:T,blood:L})}),E=await P.json();P.ok?(alert("สมัครสมาชิกสำเร็จ"),t("login")):V(E.error||E.message||"สมัครสมาชิกไม่สำเร็จ")}catch{V("เกิดข้อผิดพลาด")}};return a.jsxs("div",{className:"container",style:{opacity:f?1:0,transform:f?"translateY(0)":"translateY(30px)",transition:"opacity 0.7s, transform 0.7s"},children:[a.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:24},children:a.jsx("img",{src:Zd,alt:"logo",style:{width:100,height:100,objectFit:"contain"}})}),a.jsxs("div",{className:"tabs",children:[a.jsx("button",{className:e==="login"?"active":"",onClick:()=>t("login"),children:"Login"}),a.jsx("button",{className:e==="register"?"active":"",onClick:()=>t("register"),children:"Register"})]}),e==="login"&&a.jsxs("form",{className:"form active",onSubmit:X,children:[a.jsx("input",{type:"text",placeholder:"ชื่อผู้ใช้ หรือ รหัสประจำตัวประชาชน",value:n,onChange:M=>s(M.target.value),required:!0,disabled:c}),a.jsx("input",{type:"password",placeholder:"รหัสผ่าน",value:i,onChange:M=>r(M.target.value),required:!0,disabled:c}),o&&a.jsx("div",{style:{color:"red",marginBottom:8},children:o}),u&&a.jsx("div",{style:{color:"green",marginBottom:8},children:u}),a.jsx("button",{type:"submit",disabled:c,className:"btn",children:c?"กำลังเข้าสู่ระบบ...":"เข้าสู่ระบบ"})]}),e==="register"&&a.jsxs("form",{className:"form active",onSubmit:k,children:[a.jsx("input",{type:"text",placeholder:"ชื่อผู้ใช้",value:y,onChange:M=>x(M.target.value),required:!0}),a.jsx("input",{type:"text",placeholder:"ชื่อ-นามสกุล",value:b,onChange:M=>g(M.target.value),required:!0}),a.jsx("input",{type:"text",placeholder:"รหัสประจำตัวประชาชน",value:w,onChange:M=>v(M.target.value),required:!0}),a.jsx("input",{type:"password",placeholder:"รหัสผ่าน",value:T,onChange:M=>j(M.target.value),required:!0}),a.jsx("input",{type:"password",placeholder:"ยืนยันรหัสผ่าน",value:C,onChange:M=>D(M.target.value),required:!0}),a.jsxs("select",{value:L,onChange:M=>F(M.target.value),required:!0,style:{marginBottom:12},children:[a.jsx("option",{value:"",children:"เลือกกรุ๊ปเลือด"}),a.jsx("option",{value:"A",children:"A"}),a.jsx("option",{value:"B",children:"B"}),a.jsx("option",{value:"O",children:"O"}),a.jsx("option",{value:"AB",children:"AB"})]}),A&&a.jsx("div",{style:{color:"red",marginBottom:8},children:A}),a.jsx("button",{type:"submit",className:"btn",children:"สมัครสมาชิก"})]}),e==="login"&&a.jsxs("div",{style:{marginTop:16},children:["ยังไม่มีบัญชี? ",a.jsx("span",{style:{color:"#007bff",cursor:"pointer"},onClick:()=>t("register"),children:"สมัครสมาชิก"})]})]})}function th(){const[e,t]=p.useState(""),[n,s]=p.useState(""),[i,r]=p.useState(""),[o,l]=p.useState(""),[c,d]=p.useState(""),[u,h]=p.useState(""),[f,m]=p.useState(!1),y=Oe(),x="/api";p.useEffect(()=>{m(!0)},[]);const b=async g=>{g.preventDefault(),h("");try{const w=await fetch(`${x}/api/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,realname:n,userid:i,password:o,blood:c})}),v=await w.json();w.ok?(alert("สมัครสมาชิกสำเร็จ"),y("/login")):h(v.error||v.message||"สมัครสมาชิกไม่สำเร็จ")}catch{h("เกิดข้อผิดพลาด")}};return a.jsxs("div",{style:{maxWidth:400,margin:"40px auto",padding:24,boxShadow:"0 2px 8px #eee",borderRadius:8,opacity:f?1:0,transform:f?"translateY(0)":"translateY(30px)",transition:"opacity 0.7s, transform 0.7s"},children:[a.jsx("h2",{children:"สมัครสมาชิก"}),a.jsxs("form",{onSubmit:b,children:[a.jsx("input",{type:"text",placeholder:"ชื่อผู้ใช้",value:e,onChange:g=>t(g.target.value),required:!0,style:{width:"100%",marginBottom:12,padding:8}}),a.jsx("input",{type:"text",placeholder:"ชื่อ-นามสกุล",value:n,onChange:g=>s(g.target.value),required:!0,style:{width:"100%",marginBottom:12,padding:8}}),a.jsx("input",{type:"text",placeholder:"รหัสประจำตัวประชาชน",value:i,onChange:g=>r(g.target.value),required:!0,style:{width:"100%",marginBottom:12,padding:8}}),a.jsx("input",{type:"password",placeholder:"รหัสผ่าน",value:o,onChange:g=>l(g.target.value),required:!0,style:{width:"100%",marginBottom:12,padding:8}}),a.jsxs("select",{value:c,onChange:g=>d(g.target.value),required:!0,style:{width:"100%",marginBottom:12,padding:8},children:[a.jsx("option",{value:"",children:"เลือกกรุ๊ปเลือด"}),a.jsx("option",{value:"A",children:"A"}),a.jsx("option",{value:"B",children:"B"}),a.jsx("option",{value:"O",children:"O"}),a.jsx("option",{value:"AB",children:"AB"})]}),u&&a.jsx("div",{style:{color:"red",marginBottom:8},children:u}),a.jsx("button",{type:"submit",style:{width:"100%",padding:10},children:"สมัครสมาชิก"})]}),a.jsxs("div",{style:{marginTop:16},children:["มีบัญชีอยู่แล้ว? ",a.jsx(sa,{to:"/login",children:"เข้าสู่ระบบ"})]})]})}const nh=()=>{const[e,t]=p.useState([]),n="/api";p.useEffect(()=>{fetch(`${n}/api/users`).then(r=>r.json()).then(r=>t(r)).catch(r=>console.error(r))},[]);const s=r=>r?typeof r=="string"?`data:image/png;base64,${r}`:r.data?`data:image/png;base64,${btoa(new Uint8Array(r.data).reduce((l,c)=>l+String.fromCharCode(c),""))}`:"":"",i=async(r,o)=>{await fetch(`${n}/api/user/setAdmin`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userid:r,admin:o})}),t(e.map(l=>l.userid===r?{...l,admin:o}:l)),console.log(o?`User ${r} is now Admin`:`User ${r} is no longer Admin`)};return a.jsx("div",{style:{overflowX:"auto"},children:a.jsxs("table",{border:"1",cellPadding:"8",style:{borderCollapse:"collapse",minWidth:900},children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"ID"}),a.jsx("th",{children:"Username"}),a.jsx("th",{children:"Real Name"}),a.jsx("th",{children:"UserID"}),a.jsx("th",{children:"Blood"}),a.jsx("th",{children:"Gun Number"}),a.jsx("th",{children:"Point"}),a.jsx("th",{children:"Major"}),a.jsx("th",{children:"Profile Image"}),a.jsx("th",{children:"Admin"})]})}),a.jsx("tbody",{children:e.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"10",align:"center",children:"No users found."})}):e.map(r=>a.jsxs("tr",{children:[a.jsx("td",{children:r.id}),a.jsx("td",{children:r.username}),a.jsx("td",{children:r.realname}),a.jsx("td",{children:r.userid}),a.jsx("td",{children:r.blood}),a.jsx("td",{children:r.gunNumber}),a.jsx("td",{children:r.point}),a.jsx("td",{children:r.major}),a.jsx("td",{children:r.profileImage&&r.profileImage.data?a.jsx("img",{src:s(r.profileImage),alt:"profile",style:{width:60,height:60,objectFit:"cover",borderRadius:"50%"}}):"No Image"}),a.jsxs("td",{children:[a.jsx("input",{type:"checkbox",checked:!!r.admin,onChange:o=>i(r.userid,o.target.checked)})," ",r.admin?"YES":"NO"]})]},r.id))})]})})},De=({children:e})=>localStorage.getItem("token")?e:a.jsx(ia,{to:"/login",replace:!0});function sh(){var T;const[e,t]=p.useState(""),[n,s]=p.useState(""),[i,r]=p.useState(0),[o,l]=p.useState([]),[c,d]=p.useState(""),[u,h]=p.useState(""),[f,m]=p.useState(!0),[y,x]=p.useState(""),b="/api",g=Oe(),w=[{value:"ME",label:"วิศวกรรมเครื่องกล"},{value:"EE",label:"วิศวกรรมไฟฟ้าสื่อสาร"},{value:"CYBER",label:"ความมั่นคงปลอดภัยทางไซเบอร์"},{value:"SCIEN",label:"วิทยาศาสตร์และเทคโนโลยี (EN)"},{value:"CE",label:"วิศวกรรมโยธา"},{value:"GEO",label:"วิศวกรรมแผนที่"},{value:"IE",label:"วิศวกรรมอุตสาหการ"},{value:"SCI",label:"วิทยาศาสตร์และเทคโนโลยี"},{value:"SOC",label:"สังคมศาสตร์เพื่อการพัฒนา"}];p.useEffect(()=>{const j=localStorage.getItem("token");if(!j){m(!1);return}fetch(`${b}/api/user/me`,{headers:{Authorization:`Bearer ${j}`}}).then(C=>C.json()).then(C=>{if(!C.data||!C.data.userid){m(!1);return}d(C.data.userid),t(C.data.realname||""),h(C.data.major||""),s(C.data.profileImage?`data:image/jpeg;base64,${C.data.profileImage}`:"");const D=C.data.adjustments||[];l(D),r(C.data.point||0),x(!!C.data.admin),m(!1)}).catch(()=>m(!1))},[]);function v(j){if(!j)return"";const C=new Date(j);return isNaN(C)?j:C.toLocaleDateString("th-TH",{year:"numeric",month:"2-digit",day:"2-digit"})}return f?a.jsx("div",{className:"behavior-point-container",children:a.jsx("div",{className:"loading",children:"Loading..."})}):a.jsx("div",{className:"behavior-point-container",children:a.jsxs("div",{className:"behavior-card",children:[a.jsx("h2",{children:"Behavior Point"}),a.jsxs("div",{className:"profile-section",children:[n?a.jsx("img",{src:n,alt:"Profile",className:"profile-img"}):a.jsx("div",{className:"profile-img no-img",children:"No Image"}),a.jsxs("div",{className:"profile-info",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"ชื่อ:"})," ",e]}),a.jsxs("p",{children:[a.jsx("strong",{children:"รหัส:"})," ",c]}),u&&a.jsxs("p",{children:[a.jsx("strong",{children:"สาขา:"})," ",((T=w.find(j=>j.value===u))==null?void 0:T.label)||u]}),a.jsxs("p",{children:[a.jsx("strong",{children:"คะแนนพฤติกรรม:"})," ",a.jsx("span",{className:"point",children:i})]}),y&&a.jsx("p",{className:"admin-badge",children:"สถานะ: Admin"})]})]}),y&&a.jsx("button",{className:"deduct-point-btn",onClick:()=>g("/DeductPoint"),children:"ไปหน้าหักคะแนน (DeductPoint)"}),a.jsx("h3",{children:"ประวัติการปรับคะแนน"}),a.jsxs("div",{style:{fontWeight:600,display:"flex",padding:"4px 0",borderBottom:"1px solid #e0e0e0",marginBottom:4},children:[a.jsx("span",{style:{flex:1},children:"วันที่"}),a.jsx("span",{style:{width:60,textAlign:"center"},children:"คะแนน"}),a.jsx("span",{style:{flex:2},children:"เหตุผล"}),a.jsx("span",{style:{flex:1},children:"โดย"})]}),a.jsxs("ul",{className:"adjustment-list",children:[o.length===0&&a.jsx("li",{className:"no-history",children:"ไม่มีประวัติการปรับคะแนน"}),o.map((j,C)=>a.jsxs("li",{className:j.change>0?"plus":j.change<0?"minus":"",style:{display:"flex",alignItems:"center"},children:[a.jsx("span",{className:"adj-date",style:{flex:1},children:v(j.date)}),a.jsxs("span",{className:"adj-change",style:{width:60,textAlign:"center"},children:[j.change>0?"+":"",j.change]}),a.jsxs("span",{className:"adj-reason",style:{flex:2},children:["(",j.reason,")"]}),a.jsxs("span",{className:"adj-operator",style:{flex:1},children:["โดย: ",j.operator]})]},C))]})]})})}function ih(){const[e,t]=p.useState(""),[n,s]=p.useState(-1),[i,r]=p.useState(""),[o,l]=p.useState(""),[c,d]=p.useState(""),u="/api",h=async f=>{f.preventDefault();const y=await(await fetch(`${u}/api/behavior/deduct`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userid:e,change:n,reason:i,operator:o})})).json();d(y.message||(y.status?"สำเร็จ":"เกิดข้อผิดพลาด"))};return a.jsx("div",{className:"deduct-point-container",children:a.jsxs("div",{className:"deduct-point-card",children:[a.jsx("h2",{children:"ตัดคะแนน"}),a.jsxs("form",{onSubmit:h,children:[a.jsx("div",{children:a.jsxs("label",{children:["รหัสนักเรียน:",a.jsx("input",{value:e,onChange:f=>t(f.target.value),required:!0})]})}),a.jsx("div",{children:a.jsxs("label",{children:["คะแนนที่ตัด:",a.jsx("input",{type:"number",value:Math.abs(n),onChange:f=>s(-Math.abs(Number(f.target.value))),min:"1",required:!0})]})}),a.jsx("div",{children:a.jsxs("label",{children:["เหตุผล:",a.jsx("input",{value:i,onChange:f=>r(f.target.value),required:!0})]})}),a.jsx("div",{children:a.jsxs("label",{children:["ผู้ตัดคะแนน:",a.jsx("input",{value:o,onChange:f=>l(f.target.value),required:!0})]})}),a.jsx("button",{type:"submit",children:"ตัดคะแนน"})]}),c&&a.jsx("div",{className:"message",children:c})]})})}const zi=[{value:"ME",label:"วิศวกรรมเครื่องกล"},{value:"EE",label:"วิศวกรรมไฟฟ้าสื่อสาร"},{value:"CYBER",label:"ความมั่นคงปลอดภัยทางไซเบอร์"},{value:"SCIEN",label:"วิทยาศาสตร์และเทคโนโลยี (EN)"},{value:"CE",label:"วิศวกรรมโยธา"},{value:"GEO",label:"วิศวกรรมแผนที่"},{value:"IE",label:"วิศวกรรมอุตสาหการ"},{value:"SCI",label:"วิทยาศาสตร์และเทคโนโลยี"},{value:"SOC",label:"สังคมศาสตร์เพื่อการพัฒนา"}];function rh(){const[e,t]=p.useState(""),[n,s]=p.useState(""),[i,r]=p.useState(""),[o,l]=p.useState(""),[c,d]=p.useState(""),[u,h]=p.useState(null),[f,m]=p.useState(""),[y,x]=p.useState(""),[b,g]=p.useState(""),[w,v]=p.useState(""),[T,j]=p.useState(""),[C,D]=p.useState([{key:"",value:1}]),A=Oe(),V="/api";p.useEffect(()=>{const k=localStorage.getItem("token");fetch(`${V}/api/user/me`,{headers:{Authorization:`Bearer ${k}`}}).then(M=>M.json()).then(M=>{if(M.status){t(M.data.realname||""),s(M.data.userid||""),r(M.data.blood||""),l(M.data.gunNumber||"");let P=M.data.major||"";P.startsWith("สาขาวิชา")&&(P=P.replace("สาขาวิชา","").trim());const E=zi.find(R=>R.label===P||R.value===P);if(d(E?E.value:""),x(M.data.club1||""),g(M.data.club2||""),v(M.data.club3||""),j(M.data.year||""),M.data.profileImage&&m(`data:image/jpeg;base64,${M.data.profileImage}`),M.data.other)try{const R=typeof M.data.other=="string"?JSON.parse(M.data.other):M.data.other;Array.isArray(R)&&D(R)}catch{}}}).catch(M=>{console.error("Error fetching user data:",M)})},[]);const L=k=>{const M=k.target.files[0];M&&(h(M),m(URL.createObjectURL(M)))},F=(k,M,P)=>{D(E=>{const R=[...E];return R[k][M]=P,R})},_=()=>{D(k=>[...k,{key:"",value:1}])},G=k=>{D(M=>M.filter((P,E)=>E!==k))},X=k=>{k.preventDefault();const M=localStorage.getItem("token"),P=new FormData;P.append("realname",e),P.append("userid",n),P.append("blood",i),P.append("gunNumber",o),P.append("major",c),P.append("club1",y),P.append("club2",b),P.append("club3",w),P.append("year",T),P.append("other",JSON.stringify(C)),u&&P.append("profileImage",u),fetch(`${V}/api/user/update`,{method:"POST",headers:{Authorization:`Bearer ${M}`},body:P}).then(E=>E.json()).then(E=>{E.success?(alert("Profile updated successfully"),A("/")):alert("Failed to update profile")}).catch(E=>{console.error("Error:",E),alert("An error occurred while updating profile")})};return a.jsx("div",{className:"edit-profile-minimal",children:a.jsxs("form",{className:"edit-profile-form",onSubmit:X,children:[a.jsxs("div",{className:"profile-img-block",children:[f&&a.jsx("img",{src:f,alt:"Preview",className:"profile-img"}),a.jsx("input",{type:"file",accept:"image/*",onChange:L})]}),a.jsx("input",{type:"text",placeholder:"ชื่อ-นามสกุล",value:e,onChange:k=>t(k.target.value),required:!0}),a.jsx("input",{type:"text",placeholder:"รหัสประจำตัว",value:n,onChange:k=>s(k.target.value),required:!0}),a.jsx("input",{type:"text",placeholder:"กรุ๊ปเลือด",value:i,onChange:k=>r(k.target.value),required:!0}),a.jsx("input",{type:"text",placeholder:"เลขปืน",value:o,onChange:k=>l(k.target.value)}),a.jsxs("select",{value:c,onChange:k=>d(k.target.value),required:!0,children:[a.jsx("option",{value:"",children:"-- เลือกสาขาวิชา --"}),zi.map(k=>a.jsx("option",{value:k.value,children:k.label},k.value))]}),a.jsxs("select",{value:T,onChange:k=>j(k.target.value),required:!0,children:[a.jsx("option",{value:"",children:"-- เลือกชั้นปี --"}),a.jsx("option",{value:"1",children:"ชั้นปี 1"}),a.jsx("option",{value:"2",children:"ชั้นปี 2"}),a.jsx("option",{value:"3",children:"ชั้นปี 3"}),a.jsx("option",{value:"4",children:"ชั้นปี 4"}),a.jsx("option",{value:"5",children:"ชั้นปี 5"})]}),a.jsx("input",{type:"text",placeholder:"ชื่อชมรมที่ 1",value:y,onChange:k=>x(k.target.value)}),a.jsx("input",{type:"text",placeholder:"ชื่อชมรมที่ 2",value:b,onChange:k=>g(k.target.value)}),a.jsx("input",{type:"text",placeholder:"ชื่อชมรมที่ 3",value:w,onChange:k=>v(k.target.value)}),a.jsxs("div",{style:{margin:"16px 0"},children:[a.jsx("b",{children:"รายการจำหน่าย (เพิ่มได้หลายรายการ):"}),C.map((k,M)=>a.jsxs("div",{style:{display:"flex",gap:8,marginBottom:4,alignItems:"center",width:"100%"},children:[a.jsx("input",{placeholder:"ชื่อรายการ",value:k.key,onChange:P=>F(M,"key",P.target.value),style:{flex:2,minWidth:0}}),a.jsx("button",{type:"button",onClick:()=>G(M),style:{padding:"0 10px",height:36,background:"#e57373",color:"#fff",border:"none",borderRadius:4,cursor:"pointer"},children:"-"})]},M)),a.jsx("button",{type:"button",onClick:_,style:{width:"100%",marginTop:4,background:"#1976d2",color:"#fff",border:"none",borderRadius:6,padding:"10px 0",fontSize:"1rem",fontWeight:500,cursor:"pointer"},children:"+ เพิ่มรายการจำหน่าย"})]}),a.jsx("button",{type:"submit",children:"บันทึก"})]})})}var Ke={},oh=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},No={},ce={};let Ts;const ah=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];ce.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};ce.getSymbolTotalCodewords=function(t){return ah[t]};ce.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};ce.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');Ts=t};ce.isKanjiModeEnabled=function(){return typeof Ts<"u"};ce.toSJIS=function(t){return Ts(t)};var Qt={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(s){return s&&typeof s.bit<"u"&&s.bit>=0&&s.bit<4},e.from=function(s,i){if(e.isValid(s))return s;try{return t(s)}catch{return i}}})(Qt);function Mo(){this.buffer=[],this.length=0}Mo.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let n=0;n<t;n++)this.putBit((e>>>t-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var lh=Mo;function wt(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}wt.prototype.set=function(e,t,n,s){const i=e*this.size+t;this.data[i]=n,s&&(this.reservedBit[i]=!0)};wt.prototype.get=function(e,t){return this.data[e*this.size+t]};wt.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n};wt.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var ch=wt,Do={};(function(e){const t=ce.getSymbolSize;e.getRowColCoords=function(s){if(s===1)return[];const i=Math.floor(s/7)+2,r=t(s),o=r===145?26:Math.ceil((r-13)/(2*i-2))*2,l=[r-7];for(let c=1;c<i-1;c++)l[c]=l[c-1]-o;return l.push(6),l.reverse()},e.getPositions=function(s){const i=[],r=e.getRowColCoords(s),o=r.length;for(let l=0;l<o;l++)for(let c=0;c<o;c++)l===0&&c===0||l===0&&c===o-1||l===o-1&&c===0||i.push([r[l],r[c]]);return i}})(Do);var Bo={};const uh=ce.getSymbolSize,Wi=7;Bo.getPositions=function(t){const n=uh(t);return[[0,0],[n-Wi,0],[0,n-Wi]]};var Vo={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},e.from=function(i){return e.isValid(i)?parseInt(i,10):void 0},e.getPenaltyN1=function(i){const r=i.size;let o=0,l=0,c=0,d=null,u=null;for(let h=0;h<r;h++){l=c=0,d=u=null;for(let f=0;f<r;f++){let m=i.get(h,f);m===d?l++:(l>=5&&(o+=t.N1+(l-5)),d=m,l=1),m=i.get(f,h),m===u?c++:(c>=5&&(o+=t.N1+(c-5)),u=m,c=1)}l>=5&&(o+=t.N1+(l-5)),c>=5&&(o+=t.N1+(c-5))}return o},e.getPenaltyN2=function(i){const r=i.size;let o=0;for(let l=0;l<r-1;l++)for(let c=0;c<r-1;c++){const d=i.get(l,c)+i.get(l,c+1)+i.get(l+1,c)+i.get(l+1,c+1);(d===4||d===0)&&o++}return o*t.N2},e.getPenaltyN3=function(i){const r=i.size;let o=0,l=0,c=0;for(let d=0;d<r;d++){l=c=0;for(let u=0;u<r;u++)l=l<<1&2047|i.get(d,u),u>=10&&(l===1488||l===93)&&o++,c=c<<1&2047|i.get(u,d),u>=10&&(c===1488||c===93)&&o++}return o*t.N3},e.getPenaltyN4=function(i){let r=0;const o=i.data.length;for(let c=0;c<o;c++)r+=i.data[c];return Math.abs(Math.ceil(r*100/o/5)-10)*t.N4};function n(s,i,r){switch(s){case e.Patterns.PATTERN000:return(i+r)%2===0;case e.Patterns.PATTERN001:return i%2===0;case e.Patterns.PATTERN010:return r%3===0;case e.Patterns.PATTERN011:return(i+r)%3===0;case e.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(r/3))%2===0;case e.Patterns.PATTERN101:return i*r%2+i*r%3===0;case e.Patterns.PATTERN110:return(i*r%2+i*r%3)%2===0;case e.Patterns.PATTERN111:return(i*r%3+(i+r)%2)%2===0;default:throw new Error("bad maskPattern:"+s)}}e.applyMask=function(i,r){const o=r.size;for(let l=0;l<o;l++)for(let c=0;c<o;c++)r.isReserved(c,l)||r.xor(c,l,n(i,c,l))},e.getBestMask=function(i,r){const o=Object.keys(e.Patterns).length;let l=0,c=1/0;for(let d=0;d<o;d++){r(d),e.applyMask(d,i);const u=e.getPenaltyN1(i)+e.getPenaltyN2(i)+e.getPenaltyN3(i)+e.getPenaltyN4(i);e.applyMask(d,i),u<c&&(c=u,l=d)}return l}})(Vo);var Jt={};const Te=Qt,Et=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Rt=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Jt.getBlocksCount=function(t,n){switch(n){case Te.L:return Et[(t-1)*4+0];case Te.M:return Et[(t-1)*4+1];case Te.Q:return Et[(t-1)*4+2];case Te.H:return Et[(t-1)*4+3];default:return}};Jt.getTotalCodewordsCount=function(t,n){switch(n){case Te.L:return Rt[(t-1)*4+0];case Te.M:return Rt[(t-1)*4+1];case Te.Q:return Rt[(t-1)*4+2];case Te.H:return Rt[(t-1)*4+3];default:return}};var ko={},Xt={};const lt=new Uint8Array(512),_t=new Uint8Array(256);(function(){let t=1;for(let n=0;n<255;n++)lt[n]=t,_t[t]=n,t<<=1,t&256&&(t^=285);for(let n=255;n<512;n++)lt[n]=lt[n-255]})();Xt.log=function(t){if(t<1)throw new Error("log("+t+")");return _t[t]};Xt.exp=function(t){return lt[t]};Xt.mul=function(t,n){return t===0||n===0?0:lt[_t[t]+_t[n]]};(function(e){const t=Xt;e.mul=function(s,i){const r=new Uint8Array(s.length+i.length-1);for(let o=0;o<s.length;o++)for(let l=0;l<i.length;l++)r[o+l]^=t.mul(s[o],i[l]);return r},e.mod=function(s,i){let r=new Uint8Array(s);for(;r.length-i.length>=0;){const o=r[0];for(let c=0;c<i.length;c++)r[c]^=t.mul(i[c],o);let l=0;for(;l<r.length&&r[l]===0;)l++;r=r.slice(l)}return r},e.generateECPolynomial=function(s){let i=new Uint8Array([1]);for(let r=0;r<s;r++)i=e.mul(i,new Uint8Array([1,t.exp(r)]));return i}})(ko);const Io=ko;function Ps(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}Ps.prototype.initialize=function(t){this.degree=t,this.genPoly=Io.generateECPolynomial(this.degree)};Ps.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(t.length+this.degree);n.set(t);const s=Io.mod(n,this.genPoly),i=this.degree-s.length;if(i>0){const r=new Uint8Array(this.degree);return r.set(s,i),r}return s};var dh=Ps,Lo={},Ne={},As={};As.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var be={};const Oo="[0-9]+",hh="[A-Z $%*+\\-./:]+";let gt="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";gt=gt.replace(/u/g,"\\u");const fh="(?:(?![A-Z0-9 $%*+\\-./:]|"+gt+`)(?:.|[\r
]))+`;be.KANJI=new RegExp(gt,"g");be.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");be.BYTE=new RegExp(fh,"g");be.NUMERIC=new RegExp(Oo,"g");be.ALPHANUMERIC=new RegExp(hh,"g");const mh=new RegExp("^"+gt+"$"),ph=new RegExp("^"+Oo+"$"),gh=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");be.testKanji=function(t){return mh.test(t)};be.testNumeric=function(t){return ph.test(t)};be.testAlphanumeric=function(t){return gh.test(t)};(function(e){const t=As,n=be;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(r,o){if(!r.ccBits)throw new Error("Invalid mode: "+r);if(!t.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?r.ccBits[0]:o<27?r.ccBits[1]:r.ccBits[2]},e.getBestModeForData=function(r){return n.testNumeric(r)?e.NUMERIC:n.testAlphanumeric(r)?e.ALPHANUMERIC:n.testKanji(r)?e.KANJI:e.BYTE},e.toString=function(r){if(r&&r.id)return r.id;throw new Error("Invalid mode")},e.isValid=function(r){return r&&r.bit&&r.ccBits};function s(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+i)}}e.from=function(r,o){if(e.isValid(r))return r;try{return s(r)}catch{return o}}})(Ne);(function(e){const t=ce,n=Jt,s=Qt,i=Ne,r=As,o=7973,l=t.getBCHDigit(o);function c(f,m,y){for(let x=1;x<=40;x++)if(m<=e.getCapacity(x,y,f))return x}function d(f,m){return i.getCharCountIndicator(f,m)+4}function u(f,m){let y=0;return f.forEach(function(x){const b=d(x.mode,m);y+=b+x.getBitsLength()}),y}function h(f,m){for(let y=1;y<=40;y++)if(u(f,y)<=e.getCapacity(y,m,i.MIXED))return y}e.from=function(m,y){return r.isValid(m)?parseInt(m,10):y},e.getCapacity=function(m,y,x){if(!r.isValid(m))throw new Error("Invalid QR Code version");typeof x>"u"&&(x=i.BYTE);const b=t.getSymbolTotalCodewords(m),g=n.getTotalCodewordsCount(m,y),w=(b-g)*8;if(x===i.MIXED)return w;const v=w-d(x,m);switch(x){case i.NUMERIC:return Math.floor(v/10*3);case i.ALPHANUMERIC:return Math.floor(v/11*2);case i.KANJI:return Math.floor(v/13);case i.BYTE:default:return Math.floor(v/8)}},e.getBestVersionForData=function(m,y){let x;const b=s.from(y,s.M);if(Array.isArray(m)){if(m.length>1)return h(m,b);if(m.length===0)return 1;x=m[0]}else x=m;return c(x.mode,x.getLength(),b)},e.getEncodedBits=function(m){if(!r.isValid(m)||m<7)throw new Error("Invalid QR Code version");let y=m<<12;for(;t.getBCHDigit(y)-l>=0;)y^=o<<t.getBCHDigit(y)-l;return m<<12|y}})(Lo);var Fo={};const Un=ce,Uo=1335,yh=21522,Gi=Un.getBCHDigit(Uo);Fo.getEncodedBits=function(t,n){const s=t.bit<<3|n;let i=s<<10;for(;Un.getBCHDigit(i)-Gi>=0;)i^=Uo<<Un.getBCHDigit(i)-Gi;return(s<<10|i)^yh};var _o={};const xh=Ne;function He(e){this.mode=xh.NUMERIC,this.data=e.toString()}He.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};He.prototype.getLength=function(){return this.data.length};He.prototype.getBitsLength=function(){return He.getBitsLength(this.data.length)};He.prototype.write=function(t){let n,s,i;for(n=0;n+3<=this.data.length;n+=3)s=this.data.substr(n,3),i=parseInt(s,10),t.put(i,10);const r=this.data.length-n;r>0&&(s=this.data.substr(n),i=parseInt(s,10),t.put(i,r*3+1))};var vh=He;const bh=Ne,pn=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function qe(e){this.mode=bh.ALPHANUMERIC,this.data=e}qe.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};qe.prototype.getLength=function(){return this.data.length};qe.prototype.getBitsLength=function(){return qe.getBitsLength(this.data.length)};qe.prototype.write=function(t){let n;for(n=0;n+2<=this.data.length;n+=2){let s=pn.indexOf(this.data[n])*45;s+=pn.indexOf(this.data[n+1]),t.put(s,11)}this.data.length%2&&t.put(pn.indexOf(this.data[n]),6)};var wh=qe;const jh=Ne;function Ye(e){this.mode=jh.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}Ye.getBitsLength=function(t){return t*8};Ye.prototype.getLength=function(){return this.data.length};Ye.prototype.getBitsLength=function(){return Ye.getBitsLength(this.data.length)};Ye.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)};var Sh=Ye;const Ch=Ne,Th=ce;function Qe(e){this.mode=Ch.KANJI,this.data=e}Qe.getBitsLength=function(t){return t*13};Qe.prototype.getLength=function(){return this.data.length};Qe.prototype.getBitsLength=function(){return Qe.getBitsLength(this.data.length)};Qe.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=Th.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),e.put(n,13)}};var Ph=Qe,$o={exports:{}};(function(e){var t={single_source_shortest_paths:function(n,s,i){var r={},o={};o[s]=0;var l=t.PriorityQueue.make();l.push(s,0);for(var c,d,u,h,f,m,y,x,b;!l.empty();){c=l.pop(),d=c.value,h=c.cost,f=n[d]||{};for(u in f)f.hasOwnProperty(u)&&(m=f[u],y=h+m,x=o[u],b=typeof o[u]>"u",(b||x>y)&&(o[u]=y,l.push(u,y),r[u]=d))}if(typeof i<"u"&&typeof o[i]>"u"){var g=["Could not find a path from ",s," to ",i,"."].join("");throw new Error(g)}return r},extract_shortest_path_from_predecessor_list:function(n,s){for(var i=[],r=s;r;)i.push(r),n[r],r=n[r];return i.reverse(),i},find_path:function(n,s,i){var r=t.single_source_shortest_paths(n,s,i);return t.extract_shortest_path_from_predecessor_list(r,i)},PriorityQueue:{make:function(n){var s=t.PriorityQueue,i={},r;n=n||{};for(r in s)s.hasOwnProperty(r)&&(i[r]=s[r]);return i.queue=[],i.sorter=n.sorter||s.default_sorter,i},default_sorter:function(n,s){return n.cost-s.cost},push:function(n,s){var i={value:n,cost:s};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})($o);var Ah=$o.exports;(function(e){const t=Ne,n=vh,s=wh,i=Sh,r=Ph,o=be,l=ce,c=Ah;function d(g){return unescape(encodeURIComponent(g)).length}function u(g,w,v){const T=[];let j;for(;(j=g.exec(v))!==null;)T.push({data:j[0],index:j.index,mode:w,length:j[0].length});return T}function h(g){const w=u(o.NUMERIC,t.NUMERIC,g),v=u(o.ALPHANUMERIC,t.ALPHANUMERIC,g);let T,j;return l.isKanjiModeEnabled()?(T=u(o.BYTE,t.BYTE,g),j=u(o.KANJI,t.KANJI,g)):(T=u(o.BYTE_KANJI,t.BYTE,g),j=[]),w.concat(v,T,j).sort(function(D,A){return D.index-A.index}).map(function(D){return{data:D.data,mode:D.mode,length:D.length}})}function f(g,w){switch(w){case t.NUMERIC:return n.getBitsLength(g);case t.ALPHANUMERIC:return s.getBitsLength(g);case t.KANJI:return r.getBitsLength(g);case t.BYTE:return i.getBitsLength(g)}}function m(g){return g.reduce(function(w,v){const T=w.length-1>=0?w[w.length-1]:null;return T&&T.mode===v.mode?(w[w.length-1].data+=v.data,w):(w.push(v),w)},[])}function y(g){const w=[];for(let v=0;v<g.length;v++){const T=g[v];switch(T.mode){case t.NUMERIC:w.push([T,{data:T.data,mode:t.ALPHANUMERIC,length:T.length},{data:T.data,mode:t.BYTE,length:T.length}]);break;case t.ALPHANUMERIC:w.push([T,{data:T.data,mode:t.BYTE,length:T.length}]);break;case t.KANJI:w.push([T,{data:T.data,mode:t.BYTE,length:d(T.data)}]);break;case t.BYTE:w.push([{data:T.data,mode:t.BYTE,length:d(T.data)}])}}return w}function x(g,w){const v={},T={start:{}};let j=["start"];for(let C=0;C<g.length;C++){const D=g[C],A=[];for(let V=0;V<D.length;V++){const L=D[V],F=""+C+V;A.push(F),v[F]={node:L,lastCount:0},T[F]={};for(let _=0;_<j.length;_++){const G=j[_];v[G]&&v[G].node.mode===L.mode?(T[G][F]=f(v[G].lastCount+L.length,L.mode)-f(v[G].lastCount,L.mode),v[G].lastCount+=L.length):(v[G]&&(v[G].lastCount=L.length),T[G][F]=f(L.length,L.mode)+4+t.getCharCountIndicator(L.mode,w))}}j=A}for(let C=0;C<j.length;C++)T[j[C]].end=0;return{map:T,table:v}}function b(g,w){let v;const T=t.getBestModeForData(g);if(v=t.from(w,T),v!==t.BYTE&&v.bit<T.bit)throw new Error('"'+g+'" cannot be encoded with mode '+t.toString(v)+`.
 Suggested mode is: `+t.toString(T));switch(v===t.KANJI&&!l.isKanjiModeEnabled()&&(v=t.BYTE),v){case t.NUMERIC:return new n(g);case t.ALPHANUMERIC:return new s(g);case t.KANJI:return new r(g);case t.BYTE:return new i(g)}}e.fromArray=function(w){return w.reduce(function(v,T){return typeof T=="string"?v.push(b(T,null)):T.data&&v.push(b(T.data,T.mode)),v},[])},e.fromString=function(w,v){const T=h(w,l.isKanjiModeEnabled()),j=y(T),C=x(j,v),D=c.find_path(C.map,"start","end"),A=[];for(let V=1;V<D.length-1;V++)A.push(C.table[D[V]].node);return e.fromArray(m(A))},e.rawSplit=function(w){return e.fromArray(h(w,l.isKanjiModeEnabled()))}})(_o);const Zt=ce,gn=Qt,Eh=lh,Rh=ch,Nh=Do,Mh=Bo,_n=Vo,$n=Jt,Dh=dh,$t=Lo,Bh=Fo,Vh=Ne,yn=_o;function kh(e,t){const n=e.size,s=Mh.getPositions(t);for(let i=0;i<s.length;i++){const r=s[i][0],o=s[i][1];for(let l=-1;l<=7;l++)if(!(r+l<=-1||n<=r+l))for(let c=-1;c<=7;c++)o+c<=-1||n<=o+c||(l>=0&&l<=6&&(c===0||c===6)||c>=0&&c<=6&&(l===0||l===6)||l>=2&&l<=4&&c>=2&&c<=4?e.set(r+l,o+c,!0,!0):e.set(r+l,o+c,!1,!0))}}function Ih(e){const t=e.size;for(let n=8;n<t-8;n++){const s=n%2===0;e.set(n,6,s,!0),e.set(6,n,s,!0)}}function Lh(e,t){const n=Nh.getPositions(t);for(let s=0;s<n.length;s++){const i=n[s][0],r=n[s][1];for(let o=-2;o<=2;o++)for(let l=-2;l<=2;l++)o===-2||o===2||l===-2||l===2||o===0&&l===0?e.set(i+o,r+l,!0,!0):e.set(i+o,r+l,!1,!0)}}function Oh(e,t){const n=e.size,s=$t.getEncodedBits(t);let i,r,o;for(let l=0;l<18;l++)i=Math.floor(l/3),r=l%3+n-8-3,o=(s>>l&1)===1,e.set(i,r,o,!0),e.set(r,i,o,!0)}function xn(e,t,n){const s=e.size,i=Bh.getEncodedBits(t,n);let r,o;for(r=0;r<15;r++)o=(i>>r&1)===1,r<6?e.set(r,8,o,!0):r<8?e.set(r+1,8,o,!0):e.set(s-15+r,8,o,!0),r<8?e.set(8,s-r-1,o,!0):r<9?e.set(8,15-r-1+1,o,!0):e.set(8,15-r-1,o,!0);e.set(s-8,8,1,!0)}function Fh(e,t){const n=e.size;let s=-1,i=n-1,r=7,o=0;for(let l=n-1;l>0;l-=2)for(l===6&&l--;;){for(let c=0;c<2;c++)if(!e.isReserved(i,l-c)){let d=!1;o<t.length&&(d=(t[o]>>>r&1)===1),e.set(i,l-c,d),r--,r===-1&&(o++,r=7)}if(i+=s,i<0||n<=i){i-=s,s=-s;break}}}function Uh(e,t,n){const s=new Eh;n.forEach(function(c){s.put(c.mode.bit,4),s.put(c.getLength(),Vh.getCharCountIndicator(c.mode,e)),c.write(s)});const i=Zt.getSymbolTotalCodewords(e),r=$n.getTotalCodewordsCount(e,t),o=(i-r)*8;for(s.getLengthInBits()+4<=o&&s.put(0,4);s.getLengthInBits()%8!==0;)s.putBit(0);const l=(o-s.getLengthInBits())/8;for(let c=0;c<l;c++)s.put(c%2?17:236,8);return _h(s,e,t)}function _h(e,t,n){const s=Zt.getSymbolTotalCodewords(t),i=$n.getTotalCodewordsCount(t,n),r=s-i,o=$n.getBlocksCount(t,n),l=s%o,c=o-l,d=Math.floor(s/o),u=Math.floor(r/o),h=u+1,f=d-u,m=new Dh(f);let y=0;const x=new Array(o),b=new Array(o);let g=0;const w=new Uint8Array(e.buffer);for(let D=0;D<o;D++){const A=D<c?u:h;x[D]=w.slice(y,y+A),b[D]=m.encode(x[D]),y+=A,g=Math.max(g,A)}const v=new Uint8Array(s);let T=0,j,C;for(j=0;j<g;j++)for(C=0;C<o;C++)j<x[C].length&&(v[T++]=x[C][j]);for(j=0;j<f;j++)for(C=0;C<o;C++)v[T++]=b[C][j];return v}function $h(e,t,n,s){let i;if(Array.isArray(e))i=yn.fromArray(e);else if(typeof e=="string"){let d=t;if(!d){const u=yn.rawSplit(e);d=$t.getBestVersionForData(u,n)}i=yn.fromString(e,d||40)}else throw new Error("Invalid data");const r=$t.getBestVersionForData(i,n);if(!r)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=r;else if(t<r)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+r+`.
`);const o=Uh(t,n,i),l=Zt.getSymbolSize(t),c=new Rh(l);return kh(c,t),Ih(c),Lh(c,t),xn(c,n,0),t>=7&&Oh(c,t),Fh(c,o),isNaN(s)&&(s=_n.getBestMask(c,xn.bind(null,c,n))),_n.applyMask(s,c),xn(c,n,s),{modules:c,version:t,errorCorrectionLevel:n,maskPattern:s,segments:i}}No.create=function(t,n){if(typeof t>"u"||t==="")throw new Error("No input text");let s=gn.M,i,r;return typeof n<"u"&&(s=gn.from(n.errorCorrectionLevel,gn.M),i=$t.from(n.version),r=_n.from(n.maskPattern),n.toSJISFunc&&Zt.setToSJISFunction(n.toSJISFunc)),$h(t,i,s,r)};var zo={},Es={};(function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let s=n.slice().replace("#","").split("");if(s.length<3||s.length===5||s.length>8)throw new Error("Invalid hex color: "+n);(s.length===3||s.length===4)&&(s=Array.prototype.concat.apply([],s.map(function(r){return[r,r]}))),s.length===6&&s.push("F","F");const i=parseInt(s.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+s.slice(0,6).join("")}}e.getOptions=function(s){s||(s={}),s.color||(s.color={});const i=typeof s.margin>"u"||s.margin===null||s.margin<0?4:s.margin,r=s.width&&s.width>=21?s.width:void 0,o=s.scale||4;return{width:r,scale:r?4:o,margin:i,color:{dark:t(s.color.dark||"#000000ff"),light:t(s.color.light||"#ffffffff")},type:s.type,rendererOpts:s.rendererOpts||{}}},e.getScale=function(s,i){return i.width&&i.width>=s+i.margin*2?i.width/(s+i.margin*2):i.scale},e.getImageWidth=function(s,i){const r=e.getScale(s,i);return Math.floor((s+i.margin*2)*r)},e.qrToImageData=function(s,i,r){const o=i.modules.size,l=i.modules.data,c=e.getScale(o,r),d=Math.floor((o+r.margin*2)*c),u=r.margin*c,h=[r.color.light,r.color.dark];for(let f=0;f<d;f++)for(let m=0;m<d;m++){let y=(f*d+m)*4,x=r.color.light;if(f>=u&&m>=u&&f<d-u&&m<d-u){const b=Math.floor((f-u)/c),g=Math.floor((m-u)/c);x=h[l[b*o+g]?1:0]}s[y++]=x.r,s[y++]=x.g,s[y++]=x.b,s[y]=x.a}}})(Es);(function(e){const t=Es;function n(i,r,o){i.clearRect(0,0,r.width,r.height),r.style||(r.style={}),r.height=o,r.width=o,r.style.height=o+"px",r.style.width=o+"px"}function s(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(r,o,l){let c=l,d=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(d=s()),c=t.getOptions(c);const u=t.getImageWidth(r.modules.size,c),h=d.getContext("2d"),f=h.createImageData(u,u);return t.qrToImageData(f.data,r,c),n(h,d,u),h.putImageData(f,0,0),d},e.renderToDataURL=function(r,o,l){let c=l;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const d=e.render(r,o,c),u=c.type||"image/png",h=c.rendererOpts||{};return d.toDataURL(u,h.quality)}})(zo);var Wo={};const zh=Es;function Ki(e,t){const n=e.a/255,s=t+'="'+e.hex+'"';return n<1?s+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':s}function vn(e,t,n){let s=e+t;return typeof n<"u"&&(s+=" "+n),s}function Wh(e,t,n){let s="",i=0,r=!1,o=0;for(let l=0;l<e.length;l++){const c=Math.floor(l%t),d=Math.floor(l/t);!c&&!r&&(r=!0),e[l]?(o++,l>0&&c>0&&e[l-1]||(s+=r?vn("M",c+n,.5+d+n):vn("m",i,0),i=0,r=!1),c+1<t&&e[l+1]||(s+=vn("h",o),o=0)):i++}return s}Wo.render=function(t,n,s){const i=zh.getOptions(n),r=t.modules.size,o=t.modules.data,l=r+i.margin*2,c=i.color.light.a?"<path "+Ki(i.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",d="<path "+Ki(i.color.dark,"stroke")+' d="'+Wh(o,r,i.margin)+'"/>',u='viewBox="0 0 '+l+" "+l+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+u+' shape-rendering="crispEdges">'+c+d+`</svg>
`;return typeof s=="function"&&s(null,f),f};const Gh=oh,zn=No,Go=zo,Kh=Wo;function Rs(e,t,n,s,i){const r=[].slice.call(arguments,1),o=r.length,l=typeof r[o-1]=="function";if(!l&&!Gh())throw new Error("Callback required as last argument");if(l){if(o<2)throw new Error("Too few arguments provided");o===2?(i=n,n=t,t=s=void 0):o===3&&(t.getContext&&typeof i>"u"?(i=s,s=void 0):(i=s,s=n,n=t,t=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(n=t,t=s=void 0):o===2&&!t.getContext&&(s=n,n=t,t=void 0),new Promise(function(c,d){try{const u=zn.create(n,s);c(e(u,t,s))}catch(u){d(u)}})}try{const c=zn.create(n,s);i(null,e(c,t,s))}catch(c){i(c)}}Ke.create=zn.create;Ke.toCanvas=Rs.bind(null,Go.render);Ke.toDataURL=Rs.bind(null,Go.renderToDataURL);Ke.toString=Rs.bind(null,function(e,t,n){return Kh.render(e,n)});function Hh(){const[e,t]=p.useState(""),[n,s]=p.useState(""),[i,r]=p.useState(""),[o,l]=p.useState(""),[c,d]=p.useState(""),[u,h]=p.useState(""),[f,m]=p.useState(!1),[y,x]=p.useState(""),[b,g]=p.useState(""),[w,v]=p.useState(""),[T,j]=p.useState([]),[C,D]=p.useState(""),[A,V]=p.useState(""),[L,F]=p.useState(""),_="/api",G=Oe(),X=[{value:"ME",label:"วิศวกรรมเครื่องกล"},{value:"EE",label:"วิศวกรรมไฟฟ้าสื่อสาร"},{value:"CYBER",label:"ความมั่นคงปลอดภัยทางไซเบอร์"},{value:"SCIEN",label:"วิทยาศาสตร์และเทคโนโลยี (EN)"},{value:"CE",label:"วิศวกรรมโยธา"},{value:"GEO",label:"วิศวกรรมแผนที่"},{value:"IE",label:"วิศวกรรมอุตสาหการ"},{value:"SCI",label:"วิทยาศาสตร์และเทคโนโลยี"},{value:"SOC",label:"สังคมศาสตร์เพื่อการพัฒนา"}];p.useEffect(()=>{const E=localStorage.getItem("token");E?(console.log("API URL:",_),fetch(`${_}/api/user/me`,{headers:{Authorization:`Bearer ${E}`}}).then(R=>R.json()).then(R=>{t(R.data.realname),s(R.data.userid),r(R.data.blood),l(R.data.gunNumber||"N/A"),d(R.data.major||"-"),h(R.data.point??"-"),m(R.data.admin??!1),j(R.data.adjustments||[]),D(R.data.club1||""),V(R.data.club2||""),F(R.data.club3||""),R.data.profileImage&&x(`data:image/jpeg;base64,${R.data.profileImage}`),k(R.data.userid),R.data.gunNumber&&M(R.data.gunNumber)})):G("/login")},[G]);const k=async E=>{try{const R=await Ke.toDataURL(E,{width:60});g(R)}catch(R){console.error("Error generating QR Code:",R)}},M=async E=>{try{const R=await Ke.toDataURL(E,{width:60});v(R)}catch(R){console.error("Error generating Gun QR Code:",R)}},P=()=>{G("/edit-profile")};return a.jsx("div",{className:"view-profile-bg",children:a.jsxs("div",{className:"view-profile-container",children:[a.jsxs("div",{className:"view-profile-header",children:[a.jsx("div",{className:"view-profile-avatar",children:y?a.jsx("img",{src:y,alt:"Profile",className:"view-profile-avatar-img"}):e?e[0]:""}),a.jsxs("div",{children:[a.jsx("div",{className:"view-profile-name",children:e}),a.jsx("div",{className:"view-profile-major",children:c}),a.jsx("button",{onClick:P,className:"btn",type:"button",children:"Edit profile"})]})]}),a.jsxs("div",{className:"view-profile-main-row",children:[a.jsxs("div",{className:"view-profile-card",children:[a.jsx("div",{className:"view-profile-card-title",children:"User details"}),a.jsxs("div",{className:"view-profile-row",children:[a.jsx("span",{children:"รหัสประจำตัว: "}),n]}),a.jsxs("div",{className:"view-profile-row",children:[a.jsx("span",{children:"หมู่โลหิต: "}),i]}),a.jsxs("div",{className:"view-profile-row",children:[a.jsx("span",{children:"หมายเลขปืน: "}),o]}),a.jsxs("div",{className:"view-profile-row",children:[a.jsx("span",{children:"สาขา: "}),(()=>{const E=X.find(R=>R.value===c||R.label===c);return E?E.label:c&&!c.startsWith("สาขาวิชา")?`สาขาวิชา${c}`:c})()]}),a.jsxs("div",{className:"view-profile-row",children:[a.jsx("span",{children:"คะแนนพฤติกรรม: "}),u]}),a.jsxs("div",{className:"view-profile-row",children:[a.jsx("span",{children:"สิทธิ์ผู้ดูแล: "}),f?"ผู้ดูแลระบบ":"ทั่วไป"]}),a.jsxs("div",{className:"view-profile-row",children:[a.jsx("span",{children:"ชมรม: "}),a.jsxs("ul",{style:{margin:0,paddingLeft:18},children:[C&&a.jsx("li",{children:C}),A&&a.jsx("li",{children:A}),L&&a.jsx("li",{children:L}),!C&&!A&&!L&&a.jsx("li",{style:{color:"#aaa"},children:"-"})]})]}),a.jsx("div",{className:"view-profile-card-subtitle",children:"ประวัติการปรับคะแนน"}),a.jsxs("div",{className:"view-profile-history",children:[T.length===0&&a.jsx("div",{style:{color:"#aaa"},children:"ไม่มีข้อมูล"}),T.map(E=>a.jsxs("div",{className:"view-profile-history-item",children:[a.jsxs("div",{children:["วันที่: ",new Date(E.date).toLocaleDateString()]}),a.jsxs("div",{children:["เปลี่ยนแปลง: ",a.jsxs("b",{children:[E.change>0?"+":"",E.change]})," (",E.reason,")"]}),a.jsxs("div",{children:["โดย: ",E.operator]})]},E.id))]})]}),a.jsxs("div",{className:"view-profile-card view-profile-qr-only",children:[a.jsx("div",{className:"view-profile-card-title",children:"QR Code"}),b&&a.jsx("img",{src:b,alt:"QR Code",className:"view-profile-qr-img"}),a.jsx("div",{className:"view-profile-card-title",style:{margin:"12px 0"},children:"Gun QR Code"}),w&&a.jsx("img",{src:w,alt:"Gun QR Code",className:"view-profile-qr-img"})]})]})]})})}function qh(){const e="/api",[t,n]=p.useState(""),[s,i]=p.useState(""),[r,o]=p.useState(""),[l,c]=p.useState([]),[d,u]=p.useState([]),[h,f]=p.useState({}),[m,y]=p.useState(""),[x,b]=p.useState(""),[g,w]=p.useState(!1),[v,T]=p.useState([]),[j,C]=p.useState(""),[D,A]=p.useState(""),[V,L]=p.useState(!1);p.useEffect(()=>{F()},[]);const F=async()=>{try{const U=await(await fetch(`${e}/api/public-gun`)).json();T(U)}catch{A("ไม่สามารถโหลดข้อมูลปืนสาธารณะ")}},_=async B=>{if(B.preventDefault(),!!j)try{(await fetch(`${e}/api/public-gun`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({gunQRCode:j})})).ok?(C(""),A("เพิ่มปืนสำเร็จ"),F()):A("เพิ่มปืนไม่สำเร็จ")}catch{A("เกิดข้อผิดพลาด")}},G=async B=>{if(window.confirm(`ลบปืน ${B} ?`))try{(await fetch(`${e}/api/public-gun`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({gunQRCode:B})})).ok?(A("ลบปืนสำเร็จ"),F()):A("ลบปืนไม่สำเร็จ")}catch{A("เกิดข้อผิดพลาด")}},X=()=>{const B=new Set;return l.filter(U=>{const W=`${U.userQRCode}_${U.gunQRCode}`;return B.has(W)?!1:(B.add(W),!0)})},k=()=>{const B=new Set;return d.filter(U=>{const W=`${U.userQRCode}_${U.gunQRCode}`;return B.has(W)?!1:(B.add(W),!0)})},M=()=>{const B=new Set(d.map(W=>`${W.userQRCode}_${W.gunQRCode}`)),U=new Set;return l.filter(W=>{const K=`${W.userQRCode}_${W.gunQRCode}`;return B.has(K)||U.has(K)?!1:(U.add(K),!0)})},P=B=>{if(B.preventDefault(),m&&x){n(m),i(x),o("กรอกข้อมูล QR Code สำเร็จ");const U=m,W=x;if(U&&W){const K=`${U}_${W}`;f(oe=>{const pe=(oe[K]||0)+1;return pe===2&&R(U,W),{...oe,[K]:pe}})}y(""),b("")}else o("กรุณากรอกข้อมูลให้ครบ")},E=(B,U)=>{U&&!t?(n(B),o("User QR Code Scanned")):!U&&!s&&(i(B),o("Gun QR Code Scanned"));const W=U?B:t,K=U?s:B;if(W&&K){const oe=`${W}_${K}`;f(pe=>{const Z=(pe[oe]||0)+1;return Z===2&&R(W,K),{...pe,[oe]:Z}})}},R=async(B,U)=>{try{const K=await(await fetch(`${e}/api/get-user-details?userQRCode=${B}`)).json();if(K.success){const{realname:oe}=K,pe=new Date().toLocaleString();u(Z=>Z.some(jt=>jt.userQRCode===B&&jt.gunQRCode===U)?Z:[...Z,{userQRCode:B,gunQRCode:U,realname:oe,time:pe}])}else o("Error: Unable to fetch user details")}catch{o("Error: Failed to fetch user data")}},te=B=>{const U=B?"user-qr-reader":"gun-qr-reader",W=new aa(U,{fps:30,qrbox:350});W.render(K=>{E(K,B),W.clear()},K=>{console.log("Scan failed:",K)})},et=async()=>{try{const U=await(await fetch(`${e}/api/check-gun-borrowing`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userQRCode:t,gunQRCode:s})})).json();if(U.success){o("Gun Borrowing Successful");const K={realname:U.realname,userQRCode:t,gunQRCode:s,time:new Date().toLocaleString()};c(oe=>oe.some(Z=>Z.userQRCode===K.userQRCode&&Z.gunQRCode===K.gunQRCode)?oe:[...oe,K])}else o("QR Codes do not match")}catch{o("Error: Unable to process request")}};p.useEffect(()=>{t&&s&&et()},[t,s]);const Se=()=>{n(""),i(""),o("")},en=()=>{const B=M(),U=window.open("","","width=800,height=600");U.document.write(`
            <html>
            <head>
                <title>Gun Borrowing Report</title>
                <style>
                    body { font-family: Arial, sans-serif; padding: 24px; }
                    table { border-collapse: collapse; width: 100%; margin-bottom: 24px; }
                    th, td { border: 1px solid #888; padding: 8px; text-align: left; }
                    th { background: #f0f0f0; }
                </style>
            </head>
            <body>
                <div><b>จำนวนการเบิก:</b> ${X().length}</div>
                <div><b>จำนวนการคืน:</b> ${k().length}</div>
                <h3 style="margin-top:24px;">รายชื่อที่ยังไม่ได้คืน</h3>
                <table>
                    <thead>
                        <tr>
                            <th>User Name</th>
                            <th>Gun QR Code</th>
                            <th>Time</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${B.length===0?'<tr><td colspan="3" style="text-align:center;">-</td></tr>':B.map(W=>`
                                <tr>
                                    <td>${W.realname}</td>
                                    <td>${W.gunQRCode}</td>
                                    <td>${W.time}</td>
                                </tr>
                            `).join("")}
                    </tbody>
                </table>
            </body>
            </html>
        `),U.document.close(),U.print()};return a.jsxs("div",{className:"gun-borrowing-bg",children:[a.jsxs("div",{className:"gun-borrowing-main",children:[a.jsx("h1",{children:"Gun Borrowing"}),a.jsxs("div",{style:{marginBottom:24},children:[a.jsxs("div",{style:{marginBottom:12},children:[a.jsx("label",{style:{fontWeight:500,color:"#1976d2"},children:"User QR Code"}),a.jsx("div",{id:"user-qr-reader",style:{width:"100%",margin:"8px 0"}}),a.jsx("button",{onClick:()=>te(!0),children:"Scan User QR Code"}),a.jsxs("div",{style:{marginTop:8,color:"#333"},children:[a.jsx("b",{children:"Scanned:"})," ",t||a.jsx("span",{style:{color:"#aaa"},children:"None"})]})]}),a.jsxs("div",{style:{marginBottom:12},children:[a.jsx("label",{style:{fontWeight:500,color:"#1976d2"},children:"Gun QR Code"}),a.jsx("div",{id:"gun-qr-reader",style:{width:"100%",margin:"8px 0"}}),a.jsx("button",{onClick:()=>te(!1),children:"Scan Gun QR Code"}),a.jsxs("div",{style:{marginTop:8,color:"#333"},children:[a.jsx("b",{children:"Scanned:"})," ",s||a.jsx("span",{style:{color:"#aaa"},children:"None"})]})]}),a.jsx("button",{onClick:Se,children:"Repeat Scanning"}),a.jsx("button",{type:"button",className:"gun-borrowing-print-btn",style:{width:"100%",marginTop:16,marginBottom:g?0:16},onClick:()=>w(B=>!B),children:g?"ปิดฟอร์มกรอกข้อมูล":"กรอกข้อมูลด้วยตนเอง"}),g&&a.jsxs("form",{onSubmit:P,style:{margin:"16px 0 0 0",background:"#f7fafd",borderRadius:10,padding:16},children:[a.jsxs("div",{style:{marginBottom:10,color:"#1976d2",fontWeight:500},children:["หรือ ",a.jsx("span",{style:{color:"#1976d2",fontWeight:700},children:"กรอกข้อมูล"})," ด้วยตนเอง"]}),a.jsx("input",{type:"text",placeholder:"User ID",value:m,onChange:B=>y(B.target.value),style:{width:"100%",padding:"10px",borderRadius:8,border:"1px solid #d1d9e6",marginBottom:10,fontSize:"1rem",boxSizing:"border-box"}}),a.jsx("input",{type:"text",placeholder:"Gun Number",value:x,onChange:B=>b(B.target.value),style:{width:"100%",padding:"10px",borderRadius:8,border:"1px solid #d1d9e6",marginBottom:10,fontSize:"1rem",boxSizing:"border-box"}}),a.jsx("button",{type:"submit",className:"gun-borrowing-print-btn",style:{width:"100%",marginTop:8},children:"ยืนยันข้อมูล"})]}),r&&a.jsx("div",{className:`gun-borrowing-status ${r.includes("Successful")?"success":"error"}`,children:r})]}),a.jsxs("div",{style:{background:"#f7fafd",borderRadius:10,padding:16,margin:"24px 0"},children:[a.jsx("h2",{style:{color:"#1976d2",fontSize:"1.1rem",marginBottom:8},children:"ปืนสาธารณะ (Public Gun)"}),a.jsx("button",{type:"button",className:"gun-borrowing-print-btn",style:{width:"100%",marginBottom:V?0:16},onClick:()=>L(B=>!B),children:V?"ปิดฟอร์มเพิ่มปืน":"เพิ่มปืนสาธารณะ"}),V&&a.jsxs("form",{onSubmit:_,style:{display:"flex",gap:8,margin:"16px 0 12px 0"},children:[a.jsx("input",{type:"text",placeholder:"Gun QR Code",value:j,onChange:B=>C(B.target.value),style:{flex:1,padding:"8px",borderRadius:6,border:"1px solid #d1d9e6",fontSize:"1rem"}}),a.jsx("button",{type:"submit",className:"gun-borrowing-print-btn",style:{minWidth:90},children:"เพิ่ม"})]}),D&&a.jsx("div",{style:{color:"#1976d2",marginBottom:8},children:D}),a.jsx("div",{style:{maxHeight:120,overflowY:"auto"},children:a.jsxs("table",{style:{width:"100%",fontSize:"1rem"},children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{style:{width:"70%"},children:"Gun QR Code"}),a.jsx("th",{style:{width:"30%"},children:"ลบ"})]})}),a.jsx("tbody",{children:v.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:2,style:{color:"#888",textAlign:"center"},children:"ไม่มีข้อมูล"})}):v.map(B=>a.jsxs("tr",{children:[a.jsx("td",{children:B.gunQRCode}),a.jsx("td",{children:a.jsx("button",{type:"button",style:{background:"#e53935",color:"#fff",border:"none",borderRadius:6,padding:"4px 12px",cursor:"pointer"},onClick:()=>G(B.gunQRCode),children:"ลบ"})})]},B.gunQRCode))})]})})]}),a.jsx("div",{className:"gun-borrowing-print-row",style:{display:"flex",justifyContent:"center",maxWidth:1200,margin:"0 auto 16px auto"},children:a.jsx("button",{className:"gun-borrowing-print-btn",onClick:en,children:"พิมพ์รายงาน"})})]}),a.jsxs("div",{className:"gun-borrowing-list-row",children:[a.jsxs("div",{className:"gun-borrowing-list-card",children:[a.jsx("h2",{style:{color:"#2563eb"},children:"รายการเบิกอาวุธ"}),a.jsxs("p",{children:["จำนวนการเบิก: ",a.jsx("b",{children:X().length})]}),X().length===0?a.jsx("p",{className:"text-center mt-4",style:{color:"#888"},children:"No borrow records available"}):a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"User Name"}),a.jsx("th",{children:"Gun QR Code"}),a.jsx("th",{children:"Time"})]})}),a.jsx("tbody",{children:X().map((B,U)=>a.jsxs("tr",{children:[a.jsx("td",{children:B.realname}),a.jsx("td",{children:B.gunQRCode}),a.jsx("td",{children:B.time})]},U))})]})]}),a.jsxs("div",{className:"gun-borrowing-list-card",children:[a.jsx("h2",{style:{color:"#2563eb"},children:"รายการส่งคืนอาวุธ"}),a.jsxs("p",{children:["จำนวนการส่งคืน: ",a.jsx("b",{children:k().length})]}),k().length===0?a.jsx("p",{className:"text-center mt-4",style:{color:"#888"},children:"No users scanned both QR codes twice"}):a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"User Name"}),a.jsx("th",{children:"Gun QR Code"}),a.jsx("th",{children:"Time"}),a.jsx("th",{children:"Status"})]})}),a.jsx("tbody",{children:k().map((B,U)=>a.jsxs("tr",{children:[a.jsx("td",{children:B.realname}),a.jsx("td",{children:B.gunQRCode}),a.jsx("td",{children:B.time}),a.jsx("td",{style:{color:"#388e3c",fontWeight:600},children:"✅"})]},U))})]})]}),a.jsxs("div",{className:"gun-borrowing-list-card",children:[a.jsx("h2",{style:{color:"#2563eb"},children:"รายชื่อที่ยังไม่ได้คืน"}),a.jsxs("p",{children:["จำนวน: ",a.jsx("b",{children:M().length})]}),M().length===0?a.jsx("p",{className:"text-center mt-4",style:{color:"#888"},children:"ไม่มีข้อมูล"}):a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"User Name"}),a.jsx("th",{children:"Gun QR Code"}),a.jsx("th",{children:"Time"})]})}),a.jsx("tbody",{children:M().map((B,U)=>a.jsxs("tr",{children:[a.jsx("td",{children:B.realname}),a.jsx("td",{children:B.gunQRCode}),a.jsx("td",{children:B.time})]},U))})]})]})]})]})}const Yh="/assets/logo-9e493622.jpeg";var Ko={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Hi=Pe.createContext&&Pe.createContext(Ko),Qh=["attr","size","title"];function Jh(e,t){if(e==null)return{};var n=Xh(e,t),s,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Xh(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function zt(){return zt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},zt.apply(this,arguments)}function qi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Wt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qi(Object(n),!0).forEach(function(s){Zh(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qi(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Zh(e,t,n){return t=ef(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ef(e){var t=tf(e,"string");return typeof t=="symbol"?t:t+""}function tf(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ho(e){return e&&e.map((t,n)=>Pe.createElement(t.tag,Wt({key:n},t.attr),Ho(t.child)))}function qo(e){return t=>Pe.createElement(nf,zt({attr:Wt({},e.attr)},t),Ho(e.child))}function nf(e){var t=n=>{var{attr:s,size:i,title:r}=e,o=Jh(e,Qh),l=i||n.size||"1em",c;return n.className&&(c=n.className),e.className&&(c=(c?c+" ":"")+e.className),Pe.createElement("svg",zt({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,o,{className:c,style:Wt(Wt({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),r&&Pe.createElement("title",null,r),e.children)};return Hi!==void 0?Pe.createElement(Hi.Consumer,null,n=>t(n)):t(Ko)}function sf(e){return qo({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M16 7.992C16 3.58 12.416 0 8 0S0 3.58 0 7.992c0 2.43 1.104 4.62 2.832 6.09.016.016.032.016.032.032.144.112.288.224.448.336.08.048.144.111.224.175A7.98 7.98 0 0 0 8.016 16a7.98 7.98 0 0 0 4.48-1.375c.08-.048.144-.111.224-.16.144-.111.304-.223.448-.335.016-.016.032-.016.032-.032 1.696-1.487 2.8-3.676 2.8-6.106zm-8 7.001c-1.504 0-2.88-.48-4.016-1.279.016-.128.048-.255.08-.383a4.17 4.17 0 0 1 .416-.991c.176-.304.384-.576.64-.816.24-.24.528-.463.816-.639.304-.176.624-.304.976-.4A4.15 4.15 0 0 1 8 10.342a4.185 4.185 0 0 1 2.928 1.166c.368.368.656.8.864 1.295.112.288.192.592.24.911A7.03 7.03 0 0 1 8 14.993zm-2.448-7.4a2.49 2.49 0 0 1-.208-1.024c0-.351.064-.703.208-1.023.144-.32.336-.607.576-.847.24-.24.528-.431.848-.575.32-.144.672-.208 1.024-.208.368 0 .704.064 1.024.208.32.144.608.336.848.575.24.24.432.528.576.847.144.32.208.672.208 1.023 0 .368-.064.704-.208 1.023a2.84 2.84 0 0 1-.576.848 2.84 2.84 0 0 1-.848.575 2.715 2.715 0 0 1-2.064 0 2.84 2.84 0 0 1-.848-.575 2.526 2.526 0 0 1-.56-.848zm7.424 5.306c0-.032-.016-.048-.016-.08a5.22 5.22 0 0 0-.688-1.406 4.883 4.883 0 0 0-1.088-1.135 5.207 5.207 0 0 0-1.04-.608 2.82 2.82 0 0 0 .464-.383 4.2 4.2 0 0 0 .624-.784 3.624 3.624 0 0 0 .528-1.934 3.71 3.71 0 0 0-.288-1.47 3.799 3.799 0 0 0-.816-1.199 3.845 3.845 0 0 0-1.2-.8 3.72 3.72 0 0 0-1.472-.287 3.72 3.72 0 0 0-1.472.288 3.631 3.631 0 0 0-1.2.815 3.84 3.84 0 0 0-.8 1.199 3.71 3.71 0 0 0-.288 1.47c0 .352.048.688.144 1.007.096.336.224.64.4.927.16.288.384.544.624.784.144.144.304.271.48.383a5.12 5.12 0 0 0-1.04.624c-.416.32-.784.703-1.088 1.119a4.999 4.999 0 0 0-.688 1.406c-.016.032-.016.064-.016.08C1.776 11.636.992 9.91.992 7.992.992 4.14 4.144.991 8 .991s7.008 3.149 7.008 7.001a6.96 6.96 0 0 1-2.032 4.907z"},child:[]}]})(e)}function rf(e){return qo({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M14 5H2V3h12v2zm0 4H2V7h12v2zM2 13h12v-2H2v2z"},child:[]}]})(e)}function of(){var L;const[e,t]=p.useState(""),[n,s]=p.useState(""),[i,r]=p.useState(""),[o,l]=p.useState(""),[c,d]=p.useState(""),[u,h]=p.useState(!1),[f,m]=p.useState(!1),y="/api",x=Oe(),b=Yi(),g=p.useRef(null),w=p.useRef(null),v=[{value:"ME",label:"วิศวกรรมเครื่องกล"},{value:"EE",label:"วิศวกรรมไฟฟ้าสื่อสาร"},{value:"CYBER",label:"ความมั่นคงปลอดภัยทางไซเบอร์"},{value:"SCIEN",label:"วิทยาศาสตร์และเทคโนโลยี (EN)"},{value:"CE",label:"วิศวกรรมโยธา"},{value:"GEO",label:"วิศวกรรมแผนที่"},{value:"IE",label:"วิศวกรรมอุตสาหการ"},{value:"SCI",label:"วิทยาศาสตร์และเทคโนโลยี"},{value:"SOC",label:"สังคมศาสตร์เพื่อการพัฒนา"}];p.useEffect(()=>{const F=localStorage.getItem("token");!F&&b.pathname!=="/login"&&b.pathname!=="/register"?x("/login"):F&&fetch(`${y}/api/user/${F}`).then(_=>_.json()).then(_=>{_.data&&(t(_.data.realname),s(_.data.userid),r(_.data.blood),l(_.data.major),_.data.profileImage?d(`data:image/jpeg;base64,${_.data.profileImage}`):d(""))})},[x,b]);const T=()=>{h(F=>(F||m(!1),!F))},j=()=>{m(F=>(F||h(!1),!F))},C=()=>{localStorage.removeItem("token"),h(!1),x("/login")},D=()=>{x("/")},A=()=>{h(!1),x("/edit-profile")},V=()=>{h(!1),x("/view-profile")};return p.useEffect(()=>{function F(_){g.current&&!g.current.contains(_.target)&&w.current&&!w.current.contains(_.target)&&(h(!1),m(!1))}return document.addEventListener("mousedown",F),()=>{document.removeEventListener("mousedown",F)}},[]),a.jsxs("nav",{className:"navbar bg-white text-black shadow-md border-b border-gray-300 flex items-center justify-between px-4 py-2",children:[a.jsx("div",{className:"flex items-center",children:a.jsxs("span",{className:"btn btn-ghost normal-case text-xl text-black flex items-center cursor-pointer",onClick:D,children:[a.jsx("img",{src:Yh,alt:"Logo",className:"logo-img"}),a.jsx("span",{className:"ml-2",children:"CRMA"})]})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{ref:w,className:"relative",children:[a.jsx("button",{className:"btn btn-ghost",onClick:j,children:a.jsx(rf,{size:28})}),a.jsx(Lt,{children:f&&a.jsxs(Ut.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.18},className:"absolute right-0 mt-2 w-48 bg-white border border-gray-300 rounded shadow-md z-50 dropdown-content show",children:[a.jsx("p",{className:"block px-4 py-2 text-black cursor-pointer hover:bg-gray-200",onClick:()=>{m(!1),x("/gun-borrowing")},children:"เบิก / คืน อาวุธปืน"}),a.jsx("p",{className:"block px-4 py-2 text-black cursor-pointer hover:bg-gray-200",onClick:()=>{m(!1),x("/behavior-point")},children:"ตัดคะแนนความประพฤติ"}),a.jsx("p",{className:"block px-4 py-2 text-black cursor-pointer hover:bg-gray-200",onClick:()=>{m(!1),x("/summary")},children:"เช็คใบยอด"})]})})]}),a.jsxs("div",{ref:g,className:"relative",children:[a.jsx("button",{className:"btn btn-ghost",onClick:T,children:a.jsx(sf,{size:28})}),a.jsx(Lt,{children:u&&a.jsxs(Ut.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.18},className:"dropdown-content show absolute right-0 mt-2 w-52 bg-white border border-gray-300 rounded shadow-md z-50 p-4",children:[c?a.jsx("img",{src:c,alt:"Profile",className:"dropdown-profile-img mb-2 rounded-full w-16 h-16 object-cover mx-auto"}):a.jsx("div",{className:"dropdown-profile-img mb-2 rounded-full w-16 h-16 bg-gray-300 mx-auto flex items-center justify-center text-gray-600",children:"No Image"}),a.jsxs("p",{children:[a.jsx("strong",{children:"ชื่อ:"})," ",e]}),a.jsxs("p",{children:[a.jsx("strong",{children:"User ID:"})," ",n]}),a.jsxs("p",{children:[a.jsx("strong",{children:"สาขา:"})," ",((L=v.find(F=>F.value===o))==null?void 0:L.label)||o]}),a.jsxs("div",{className:"mt-3 space-y-1",children:[a.jsx("p",{className:"btn btn-ghost text-left w-full edit-profile-item",onClick:A,children:"Edit Profile"}),a.jsx("p",{className:"btn btn-ghost text-left w-full view-profile-item",onClick:V,children:"View Profile"}),a.jsx("p",{className:"btn btn-ghost text-left w-full logout-item",onClick:C,children:"Logout"})]})]})})]})]})]})}function af(){const[e,t]=p.useState([]),[n,s]=p.useState(!1),[i,r]=p.useState([]),[o,l]=p.useState(null),[c,d]=p.useState(""),[u,h]=p.useState([]),[f,m]=p.useState(""),[y,x]=p.useState(""),[b,g]=p.useState({date:"",time:"",battalion:"",company:"",total:"",other:"",note:"",total_year_5:"",total_year_4:"",total_year_3:"",total_year_2:"",total_year_1:""}),[w,v]=p.useState([{key:"",value:"",names:[""],counted:!0}]),[T,j]=p.useState({}),[C,D]=p.useState({}),[A,V]=p.useState(null),[L,F]=p.useState({}),[_,G]=p.useState(!1),[X,k]=p.useState(null),[M,P]=p.useState(null),E="/api";p.useEffect(()=>{console.log("API URL:",E),fetch(`${E}/api/summary`).then(S=>S.json()).then(S=>{t(S.data||[]),h(S.data||[])})},[]),p.useEffect(()=>{const S=localStorage.getItem("token");fetch(`${E}/api/user/me`,{headers:{Authorization:`Bearer ${S}`}}).then(N=>N.json()).then(N=>{if(N.data&&(m(N.data.realname||""),x(N.data.year||"")),N.data&&N.data.other)try{const O=typeof N.data.other=="string"?JSON.parse(N.data.other):N.data.other;r(Array.isArray(O)?O.map($=>({...$,value:Number($.value)||1})):[]);const z={};(Array.isArray(O)?O:[]).forEach(($,H)=>{z[H]=!0}),l(z)}catch{r([]),l({})}})},[]);const R=S=>{l(S)},te=S=>{d(S.target.value)},et=async()=>{var le,St;if(!c){alert("กรุณาเลือกใบยอด");return}const S=u.find(ge=>String(ge.id)===String(c));if(!S){alert("ไม่พบใบยอดที่เลือก");return}let N={};try{N=S.other?JSON.parse(S.other):{}}catch{}const O={...N};if(o==null){alert("กรุณาเลือกอย่างน้อย 1 รายการ");return}const z=f&&y?`${f}(${y})`:f||"";let $=!1;if(Object.values(N).forEach(ge=>{Array.isArray(ge.names)&&ge.names.includes(z)&&($=!0)}),$){alert("คุณได้ส่งยอดในใบนี้ไปแล้ว");return}const H=i[o];if(H&&H.key){const ge=Number((le=N[H.key])==null?void 0:le.count)||0,Xo=Number(H.value)||1,Zo=Array.isArray((St=N[H.key])==null?void 0:St.names)?N[H.key].names:[],ea=z?[z]:[],ta=Array.from(new Set([...Zo,...ea].filter(Boolean)));O[H.key]={count:ge+Xo,names:ta}}else{alert("กรุณาเลือกอย่างน้อย 1 รายการ");return}(await fetch(`${E}/api/summary?id=${S.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...S,other:O})})).ok&&(alert("ส่งยอดจำหน่ายสำเร็จ"),d(""),l(null),fetch(`${E}/api/summary`).then(ge=>ge.json()).then(ge=>t(ge.data||[])),s(!1))},Se=S=>g({...b,[S.target.name]:S.target.value}),en=Number(b.total)||0,B=w.reduce((S,N)=>N.counted!==!1?S+(Number(N.value)||0):S,0),U=en-B,W=["5","4","3","2","1"].reduce((S,N)=>(S[N]=Number(b[`total_year_${N}`])||0,S),{});Object.values(W).reduce((S,N)=>S+N,0);const K=S=>{g({date:S.date,time:S.time,battalion:String(S.battalion),company:String(S.company),total:String(S.total),note:S.note||"",other:"",total_year_5:S.total_year_5||"",total_year_4:S.total_year_4||"",total_year_3:S.total_year_3||"",total_year_2:S.total_year_2||"",total_year_1:S.total_year_1||""});try{const N=JSON.parse(S.other);v(Object.entries(N).map(([O,z])=>({key:O,value:z.count,names:z.names&&Array.isArray(z.names)?z.names:[""],counted:z.counted!==!1})))}catch{v([{key:"",value:"",names:[""],counted:!0}])}V(S.id),window.scrollTo({top:0,behavior:"smooth"})},oe=async S=>{window.confirm("ต้องการลบข้อมูลนี้ใช่หรือไม่?")&&(await fetch(`${E}/api/summary?id=${S}`,{method:"DELETE"}),t(N=>N.filter(O=>O.id!==S)))},pe=async S=>{S.preventDefault();const N={};w.forEach(le=>{le.key&&(N[le.key]={count:le.value,names:le.names.filter(St=>St),counted:le.counted!==!1})});const O=A?"PUT":"POST",z=A?`${E}/api/summary?id=${A}`:`${E}/api/summary`,$={...b,battalion:Number(b.battalion),company:Number(b.company),total:Number(b.total),other:N,total_year_5:b.total_year_5,total_year_4:b.total_year_4,total_year_3:b.total_year_3,total_year_2:b.total_year_2,total_year_1:b.total_year_1},ae=await(await fetch(z,{method:O,headers:{"Content-Type":"application/json"},body:JSON.stringify($)})).json();ae.success&&(A?(t(e.map(le=>le.id===A?ae.data:le)),V(null)):t([ae.data,...e]),g({date:"",time:"",battalion:"",company:"",total:"",other:"",note:"",total_year_5:"",total_year_4:"",total_year_3:"",total_year_2:"",total_year_1:""}),v([{key:"",value:"",names:[""],counted:!0}]))},Z={};e.forEach(S=>{Z[S.battalion]||(Z[S.battalion]={}),Z[S.battalion][S.company]||(Z[S.battalion][S.company]=[]),Z[S.battalion][S.company].push(S)});const jt=S=>{j(N=>({...N,[S]:!N[S]}))},Yo=(S,N)=>{D(O=>({...O,[`${S}-${N}`]:!O[`${S}-${N}`]}))},Qo=(S,N)=>{k(S),P(N),G(!0)},Jo=async(S,N,O)=>{const z=e.find(H=>H.id===S);if(!z)return;let $={};try{$=z.other?JSON.parse(z.other):{}}catch{}!$[N]||!Array.isArray($[N].names)||($[N].names=$[N].names.filter(H=>H!==O),$[N].names.length===0&&delete $[N],await fetch(`${E}/api/summary?id=${S}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...z,other:$})}),t(H=>H.map(ae=>ae.id===S?{...ae,other:JSON.stringify($)}:ae)),Object.keys($).length===0?G(!1):k($))};return a.jsxs("div",{className:"summary-container",children:[a.jsxs("div",{style:{marginBottom:32},children:[a.jsx("h4",{style:{color:"#007bff",marginBottom:8},children:"สถานะการส่งยอดจำหน่ายของคุณ"}),a.jsxs("table",{className:"summary-table",style:{minWidth:400},children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"วันที่"}),a.jsx("th",{children:"เวลา"}),a.jsx("th",{children:"กองพัน"}),a.jsx("th",{children:"กองร้อย"}),a.jsx("th",{children:"สถานะ"}),a.jsx("th",{children:"รายการที่ส่ง"})]})}),a.jsx("tbody",{children:u.map(S=>{let N=!1,O=[];try{const z=S.other?JSON.parse(S.other):{},$=f&&y?`${f}(${y})`:f||"";Object.entries(z).forEach(([H,ae])=>{Array.isArray(ae.names)&&ae.names.includes($)&&(N=!0,O.push(H))})}catch{}return a.jsxs("tr",{children:[a.jsx("td",{children:S.date}),a.jsx("td",{children:S.time}),a.jsx("td",{children:S.battalion}),a.jsx("td",{children:S.company}),a.jsx("td",{children:N?a.jsx("span",{style:{color:"#19d254",fontWeight:500},children:"ส่งจำหน่ายแล้ว"}):a.jsx("span",{style:{color:"#e53935",fontWeight:500},children:"ยังไม่ได้ส่ง"})}),a.jsx("td",{children:O.length>0?O.map((z,$)=>a.jsxs("span",{children:[z,$<O.length-1?", ":""]},z)):"-"})]},S.id)})})]})]}),a.jsxs("div",{style:{marginBottom:32,border:"2px solid #007bff",borderRadius:8,padding:16,background:"#f8faff"},children:[a.jsx("h3",{style:{color:"#007bff"},children:"ส่งยอดจำหน่าย (สำหรับผู้ใช้ทั่วไป)"}),n?a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:{marginBottom:8},children:[a.jsx("b",{children:"เลือกใบยอดที่ต้องการลงยอด:"}),a.jsxs("select",{value:c,onChange:te,style:{marginLeft:8},children:[a.jsx("option",{value:"",children:"-- เลือกใบยอด --"}),u.map(S=>a.jsxs("option",{value:S.id,children:[S.date," | ",S.time," | กองพัน ",S.battalion," กองร้อย ",S.company]},S.id))]})]}),a.jsxs("div",{style:{marginBottom:8},children:[a.jsx("b",{children:"รายการจำหน่ายของคุณ:"}),i.length===0&&a.jsx("div",{style:{color:"#888"},children:"ไม่มีรายการจำหน่าย"}),i.map((S,N)=>{let O=!1;if(c){const z=u.find($=>String($.id)===String(c));if(z)try{const $=z.other?JSON.parse(z.other):{},H=f&&y?`${f}(${y})`:f||"";$[S.key]&&Array.isArray($[S.key].names)&&$[S.key].names.includes(H)&&(O=!0)}catch{}}return a.jsxs("div",{style:{display:"flex",gap:8,marginBottom:4,alignItems:"center"},children:[a.jsx("input",{type:"checkbox",checked:o===N,onChange:()=>R(N),style:{marginRight:4},disabled:O}),a.jsxs("span",{style:{flex:2},children:[S.key,O&&a.jsx("span",{style:{color:"#1976d2",fontWeight:500,marginLeft:8},children:"(คุณส่งยอดนี้แล้ว)✅"})]}),a.jsxs("span",{style:{flex:1},children:["จำนวน ",S.value]})]},N)})]}),a.jsxs("div",{style:{display:"flex",gap:8},children:[a.jsx("button",{className:"btn btn-primary",style:{marginBottom:0},onClick:et,children:"ส่งยอดจำหน่าย"}),a.jsx("button",{type:"button",className:"btn",style:{marginBottom:0,background:"#eee",color:"#333"},onClick:()=>{d(""),l(null),s(!1)},children:"ยกเลิก"})]})]}):a.jsx("button",{className:"btn btn-primary",onClick:()=>s(!0),style:{marginBottom:0},children:"+ เพิ่มส่งยอดจำหน่าย"})]}),a.jsx("h2",{children:"สร้างใบยอด(สำหรับตัวแทนชั้น)"}),a.jsxs("form",{className:"summary-form",onSubmit:pe,style:{marginBottom:32},children:[a.jsxs("div",{style:{display:"flex",gap:8,marginBottom:8},children:[a.jsxs("select",{name:"battalion",value:b.battalion,onChange:Se,required:!0,children:[a.jsx("option",{value:"",children:"เลือกกองพัน"}),a.jsx("option",{value:"1",children:"กองพัน 1"}),a.jsx("option",{value:"2",children:"กองพัน 2"}),a.jsx("option",{value:"3",children:"กองพัน 3"}),a.jsx("option",{value:"4",children:"กองพัน 4"})]}),a.jsxs("select",{name:"company",value:b.company,onChange:Se,required:!0,children:[a.jsx("option",{value:"",children:"เลือกกองร้อย"}),a.jsx("option",{value:"1",children:"กองร้อย 1"}),a.jsx("option",{value:"2",children:"กองร้อย 2"}),a.jsx("option",{value:"3",children:"กองร้อย 3"})]})]}),a.jsx("div",{style:{display:"flex",gap:8,marginBottom:8},children:a.jsxs("div",{style:{flex:1},children:[a.jsx("b",{children:"วันที่ :"}),a.jsx("input",{name:"date",type:"date",placeholder:"เช่น 2025-06-12",value:b.date,onChange:Se,required:!0,style:{width:"100%"}})]})}),a.jsxs("div",{style:{flex:1},children:[a.jsx("b",{children:"เวลา :"}),a.jsx("input",{name:"time",type:"text",placeholder:"เช่น 0530, 0700, 0800, 1800, 2100",value:b.time,onChange:Se,required:!0,style:{width:"100%"}})]}),a.jsxs("div",{style:{margin:"16px 0",padding:12,border:"1px solid #eee",borderRadius:8,background:"#f9f9f9"},children:[a.jsx("b",{children:"จำนวนคนทั้งหมด (แยกชั้นปี):"}),a.jsx("div",{className:"summary-year-row",children:["5","4","3","2","1"].map(S=>a.jsxs("div",{className:"summary-year-col",children:[a.jsxs("label",{children:["ชั้น ",S,":"]}),a.jsx("input",{type:"number",min:"0",value:b[`total_year_${S}`]||"",onChange:N=>g(O=>({...O,[`total_year_${S}`]:N.target.value})),placeholder:`ชั้น ${S}`})]},S))}),a.jsxs("div",{style:{marginTop:8},children:[a.jsx("b",{children:"รวมทั้งหมด:"})," ",["5","4","3","2","1"].reduce((S,N)=>S+(Number(b[`total_year_${N}`])||0),0)]})]}),a.jsx("input",{name:"total",type:"number",placeholder:"จำนวนคนทั้งหมด",value:b.total,onChange:Se,required:!0,style:{marginBottom:8,width:"100%"}}),a.jsx("div",{style:{marginBottom:8},children:a.jsxs("div",{className:`remain ${U<0?"negative":"positive"}`,children:[a.jsx("b",{children:"ยอดที่เหลือ:"})," ",U]})}),a.jsx("input",{name:"note",placeholder:"ชื่อตัวแทนชั้น (ชั้นปี)",value:b.note,onChange:Se,style:{marginBottom:8,width:"100%"}}),a.jsx("button",{type:"submit",children:A?"บันทึกการแก้ไข":"บันทึกยอด"}),A&&a.jsx("button",{type:"button",onClick:()=>{V(null),g({date:"",time:"",battalion:"",company:"",total:"",other:"",note:"",total_year_5:"",total_year_4:"",total_year_3:"",total_year_2:"",total_year_1:""}),v([{key:"",value:"",names:[""],counted:!0}])},children:"ยกเลิก"})]}),a.jsx("h3",{children:"ผลลัพธ์ยอด (แยกตามกองพัน/กองร้อย)"}),Object.keys(Z).sort().map(S=>a.jsxs("div",{style:{marginBottom:24},children:[a.jsxs("button",{type:"button",className:"summary-accordion-btn",onClick:()=>jt(S),children:[T[S]?"▼":"►"," กองพัน ",S]}),T[S]&&a.jsx("div",{children:Object.keys(Z[S]).sort().map(N=>a.jsxs("div",{style:{marginBottom:12,marginLeft:24},children:[a.jsxs("button",{type:"button",className:"summary-company-btn",onClick:()=>Yo(S,N),children:[C[`${S}-${N}`]?"▼":"►"," กองร้อย ",N]}),C[`${S}-${N}`]&&a.jsx("div",{style:{overflowX:"auto"},children:a.jsxs("table",{className:"summary-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"วันที่"}),a.jsx("th",{children:"เวลา"}),a.jsx("th",{children:"ทั้งหมด"}),a.jsx("th",{children:"จำหน่าย"}),a.jsx("th",{children:"ยอดที่เหลือ"}),a.jsx("th",{children:"ตัวแทนชั้น"}),a.jsx("th",{children:"แก้ไข"})]})}),a.jsx("tbody",{children:Z[S][N].map(O=>{let z=Number(O.total)||0,$={};try{$=JSON.parse(O.other),z-=Object.entries($).reduce((H,[ae,le])=>L[O.id]&&L[O.id][ae]?H:H+(Number(le.count)||0),0)}catch{}return a.jsxs("tr",{children:[a.jsx("td",{"data-label":"วันที่",children:O.date}),a.jsx("td",{"data-label":"แถวกี่โมง",children:O.time}),a.jsx("td",{"data-label":"ทั้งหมด",children:O.total}),a.jsx("td",{"data-label":"จำหน่าย",style:{fontSize:"0.92em",wordBreak:"break-word",whiteSpace:"normal"},children:$&&Object.entries($).length>0?a.jsx("button",{type:"button",style:{background:"#1976d2",color:"#fff",border:"none",borderRadius:4,padding:"2px 12px",fontSize:"0.95em",cursor:"pointer",marginBottom:4},onClick:()=>Qo($,O.id),children:"ดูรายการจำหน่าย"}):a.jsx("span",{style:{color:"#888"},children:"-"})}),a.jsx("td",{"data-label":"ยอดที่เหลือ",children:a.jsx("span",{style:{color:z<0?"red":"green"},children:z})}),a.jsx("td",{"data-label":"ตัวแทนชั้น",children:O.note}),a.jsxs("td",{"data-label":"แก้ไข",children:[a.jsx("button",{type:"button",onClick:()=>K(O),children:"แก้ไข"}),a.jsx("button",{type:"button",style:{marginLeft:8,color:"red",border:"none",background:"none",cursor:"pointer"},onClick:()=>oe(O.id),title:"ลบ",children:"ลบ"})]})]},O.id)})})]})})]},N))})]},S)),_&&a.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.3)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>G(!1),children:a.jsxs("div",{style:{background:"#fff",borderRadius:8,padding:24,minWidth:260,maxWidth:350,boxShadow:"0 2px 16px rgba(0,0,0,0.18)",position:"relative"},onClick:S=>S.stopPropagation(),children:[a.jsx("h4",{style:{marginTop:0},children:"รายการจำหน่าย"}),a.jsx("div",{children:X&&Object.keys(X).length>0?Object.entries(X).map(([S,N])=>a.jsxs("div",{style:{marginBottom:12},children:[a.jsxs("div",{style:{fontWeight:600,marginBottom:2},children:[S," : ",N.count]}),a.jsx("ul",{style:{paddingLeft:18,margin:0},children:Array.isArray(N.names)&&N.names.length>0?N.names.map((O,z)=>a.jsxs("li",{style:{display:"flex",alignItems:"center",marginBottom:2},children:[a.jsx("span",{style:{flex:1},children:O}),a.jsx("button",{style:{marginLeft:8,background:"#e53935",color:"#fff",border:"none",borderRadius:4,padding:"2px 10px",fontSize:"0.92em",cursor:"pointer"},onClick:()=>Jo(M,S,O),children:"ลบ"})]},O)):a.jsx("li",{style:{color:"#888"},children:"ไม่มีชื่อผู้ใช้"})})]},S)):a.jsx("div",{style:{color:"#888"},children:"ไม่มีรายการ"})}),a.jsx("button",{style:{marginTop:16,background:"#1976d2",color:"#fff",border:"none",borderRadius:4,padding:"4px 16px",cursor:"pointer"},onClick:()=>G(!1),children:"ปิด"})]})})]})}function lf(){const e=Yi(),t=e.pathname==="/login"||e.pathname==="/register";return a.jsxs(a.Fragment,{children:[!t&&a.jsx(of,{}),a.jsxs(oa,{children:[a.jsx(fe,{path:"/",element:a.jsx(De,{children:a.jsx(Xd,{})})}),a.jsx(fe,{path:"/users",element:a.jsx(De,{children:a.jsx(nh,{})})}),a.jsx(fe,{path:"/login",element:a.jsx(eh,{})}),a.jsx(fe,{path:"/register",element:a.jsx(th,{})}),a.jsx(fe,{path:"/behavior-point",element:a.jsx(sh,{})}),a.jsx(fe,{path:"/DeductPoint",element:a.jsx(De,{children:a.jsx(ih,{})})}),a.jsx(fe,{path:"/edit-profile",element:a.jsx(De,{children:a.jsx(rh,{})})}),a.jsx(fe,{path:"/view-profile",element:a.jsx(De,{children:a.jsx(Hh,{})})}),a.jsx(fe,{path:"/gun-borrowing",element:a.jsx(De,{children:a.jsx(qh,{})})}),a.jsx(fe,{path:"/summary",element:a.jsx(De,{children:a.jsx(af,{})})}),a.jsx(fe,{path:"*",element:a.jsx("h1",{children:"404 Not Found"})})]})]})}const cf=()=>a.jsx(ra,{children:a.jsx(lf,{})});Xi(document.getElementById("root")).render(a.jsx(Pe.StrictMode,{children:a.jsx(cf,{})}));
